<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Motr: m0_rm_incoming Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Motr
   &#160;<span id="projectnumber">M0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d3/db4/structm0__rm__incoming.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">m0_rm_incoming Struct Reference<div class="ingroups"><a class="el" href="../../d2/deb/group__rm.html">Resource management</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../db/df8/rm_8h_source.html">rm.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for m0_rm_incoming:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d85/structm0__rm__incoming__coll__graph.png" border="0" usemap="#m0__rm__incoming_coll__map" alt="Collaboration graph"/></div>
<map name="m0__rm__incoming_coll__map" id="m0__rm__incoming_coll__map">
<area shape="rect" id="node3" href="../../d0/d23/structm0__rm__reserve__prio.html" title="{m0_rm_reserve_prio\n||}" alt="" coords="110,261,250,339"/>
<area shape="rect" id="node9" href="../../d6/d34/structm0__rm__remote.html" title="{m0_rm_remote\n||}" alt="" coords="258,261,367,339"/>
<area shape="rect" id="node10" href="../../d4/d8a/structm0__tl.html" title="{m0_tl\n||}" alt="" coords="374,160,429,237"/>
<area shape="rect" id="node11" href="../../db/d49/structm0__sm.html" title="{m0_sm\n||}" alt="" coords="609,370,674,447"/>
<area shape="rect" id="node12" href="../../d6/d46/structm0__rm__credit.html" title="{m0_rm_credit\n||}" alt="" coords="483,370,584,447"/>
<area shape="rect" id="node7" href="../../da/db4/structm0__rm__incoming__ops.html" title="{m0_rm_incoming_ops\n||}" alt="" coords="1187,370,1336,447"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a76241b3db08298af87e4f0ad41bc5ca0"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d2/deb/group__rm.html#ga2d171ba2eb40fbc6966fb59f0d6effc0">m0_rm_incoming_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db4/structm0__rm__incoming.html#a76241b3db08298af87e4f0ad41bc5ca0">rin_type</a></td></tr>
<tr class="separator:a76241b3db08298af87e4f0ad41bc5ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9147246b93208300d4b152bb7d067ee"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../db/d49/structm0__sm.html">m0_sm</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db4/structm0__rm__incoming.html#aa9147246b93208300d4b152bb7d067ee">rin_sm</a></td></tr>
<tr class="separator:aa9147246b93208300d4b152bb7d067ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a52380309aadb609641d67adc430ef9"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db4/structm0__rm__incoming.html#a9a52380309aadb609641d67adc430ef9">rin_rc</a></td></tr>
<tr class="separator:a9a52380309aadb609641d67adc430ef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3109b78ca748c2ab0a916ef9f9c6c3a3"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d2/deb/group__rm.html#gac7536c07764347b610ee35dfd23d060c">m0_rm_incoming_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db4/structm0__rm__incoming.html#a3109b78ca748c2ab0a916ef9f9c6c3a3">rin_policy</a></td></tr>
<tr class="separator:a3109b78ca748c2ab0a916ef9f9c6c3a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3e9b2d1160775409def6179d37a5562"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db4/structm0__rm__incoming.html#ac3e9b2d1160775409def6179d37a5562">rin_flags</a></td></tr>
<tr class="separator:ac3e9b2d1160775409def6179d37a5562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affae2a7aaaef98bf82a5652012335e27"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/d46/structm0__rm__credit.html">m0_rm_credit</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db4/structm0__rm__incoming.html#affae2a7aaaef98bf82a5652012335e27">rin_want</a></td></tr>
<tr class="separator:affae2a7aaaef98bf82a5652012335e27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a574ae8133f4ac8ff9ea522f762e0da35"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8a/structm0__tl.html">m0_tl</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db4/structm0__rm__incoming.html#a574ae8133f4ac8ff9ea522f762e0da35">rin_pins</a></td></tr>
<tr class="separator:a574ae8133f4ac8ff9ea522f762e0da35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63b987e8ddd8acd2375297cbb5af80fd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db4/structm0__rm__incoming.html#a63b987e8ddd8acd2375297cbb5af80fd">rin_priority</a></td></tr>
<tr class="separator:a63b987e8ddd8acd2375297cbb5af80fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa03314d41debd0daa028800e9e554ad8"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="../../da/db4/structm0__rm__incoming__ops.html">m0_rm_incoming_ops</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db4/structm0__rm__incoming.html#aa03314d41debd0daa028800e9e554ad8">rin_ops</a></td></tr>
<tr class="separator:aa03314d41debd0daa028800e9e554ad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39fb85f972b890913b4cd4b632f96d27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d7d/group__time.html#ga3e0d20573b53285374bbd0c65a7a42eb">m0_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db4/structm0__rm__incoming.html#a39fb85f972b890913b4cd4b632f96d27">rin_req_time</a></td></tr>
<tr class="separator:a39fb85f972b890913b4cd4b632f96d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1aed1a06db173241d2afc79aedf9ea7"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/d23/structm0__rm__reserve__prio.html">m0_rm_reserve_prio</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db4/structm0__rm__incoming.html#ae1aed1a06db173241d2afc79aedf9ea7">rin_reserve</a></td></tr>
<tr class="separator:ae1aed1a06db173241d2afc79aedf9ea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd356a4955d64f915b19b6e666a64584"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/d34/structm0__rm__remote.html">m0_rm_remote</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db4/structm0__rm__incoming.html#afd356a4955d64f915b19b6e666a64584">rin_remote</a></td></tr>
<tr class="separator:afd356a4955d64f915b19b6e666a64584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46fadb008cfabedd77bcb12aca657ad0"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db4/structm0__rm__incoming.html#a46fadb008cfabedd77bcb12aca657ad0">rin_magix</a></td></tr>
<tr class="separator:a46fadb008cfabedd77bcb12aca657ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Resource usage credit request.</p>
<p>The same <a class="el" href="../../d3/db4/structm0__rm__incoming.html">m0_rm_incoming</a> structure is used to track state of the incoming requests both "local", i.e., from the same domain where the owner resides and "remote".</p>
<p>An incoming request is created for </p><pre class="fragment">- local credit request, when some user wants to use the resource;

- remote credit request from a "downward" owner which asks to sub-let
  some credits;

- remote credit request from an "upward" owner which wants to revoke some
  credits.
</pre><p>These usages are differentiated by <a class="el" href="../../d3/db4/structm0__rm__incoming.html#a76241b3db08298af87e4f0ad41bc5ca0">m0_rm_incoming::rin_type</a>.</p>
<p>An incoming request is a state machine, going through the following stages: </p><pre class="fragment">- [CHECK]   This stage determines whether the request can be fulfilled
            immediately. Local request can be fulfilled immediately if
            the wanted credit is possessed by the owner, that is, if
            in-&gt;rin_want is implied by a join of owner-&gt;ro_owned[].

            A non-local (loan or revoke) request can be fulfilled
            immediately if the wanted credit is implied by a join of
            owner-&gt;ro_owned[OWOS_CACHED], that is, if the owner has
            enough credits to grant the loan and the wanted credit does
            not conflict with locally held credits.

- [POLICY]  If the request can be fulfilled immediately, the "policy" is
            invoked which decides which credit should be actually
            granted, sublet or revoked. That credit can be larger than
            requested. A policy is, generally, resource type dependent,
            with a few universal policies defined by enum
            m0_rm_incoming_policy.

- [SUCCESS] Finally, fulfilled request succeeds.

- [ISSUE]   Otherwise, if the request can not be fulfilled immediately,
            "pins" (m0_rm_pin) are added which will notify the request
            when the fulfillment check might succeed.

            Pins are added to:

                - every conflicting credit held by this owner (when
                  RIF_LOCAL_WAIT flag is set on the request and always
                  for a remote request);

                - outgoing requests to revoke conflicting credits sub-let
                  to remote owners (when RIF_MAY_REVOKE flag is set);

                - outgoing requests to borrow missing credits from remote
                  owners (when RIF_MAY_BORROW flag is set);

                - reserved credits if current request has smaller reserve
                  priority;

            Outgoing requests mentioned above are created as necessary
            in the ISSUE stage.

- [CYCLE]   When all the pins stuck in the ISSUE state are released
            (either when a local credit is released or when an outgoing
            request completes or when reserved credits are granted),
            go back to the CHECK state.
</pre><p>Looping back to the CHECK state is necessary, because possessed non-reserved credits are not "pinned" during wait and can go away (be revoked or sub-let). The credits are not pinned to avoid dependencies between credits that can lead to dead-locks and "cascading evictions". But in this case there is possibility of live-lock.</p>
<p>The alternative is to use RIF_RESERVE flag that leads to pinning credits with M0_RPF_BARRIER. Dead-locks are avoided by determining global strict ordering between such requests using "reserve priority" (<a class="el" href="../../d0/d23/structm0__rm__reserve__prio.html">m0_rm_reserve_prio</a>). Reserve priority is assigned once to the local incoming request and then inherited by all remote requests created in sake of that local request fulfillment. Therefore reserve priorities are handled consistently through the whole cluster.</p>
<p>Reserve priorities are used only to avoid possible dead-locks and live-locks. There is no guarantee that request with higher reserve priority will be fully fulfilled before request with lower reserve priority.</p>
<p>If probability of a live-lock is low enough then using incoming requests without RIF_RESERVE flag is preferable.</p>
<p>How many outgoing requests are sent out in ISSUE state is a matter of policy. The fewer requests are sent, the more CHECK-ISSUE-WAIT loop iterations would typically happen. An extreme case of sending no more than a single request is also possible and has some advantages: outgoing request can be allocated as part of incoming request, simplifying memory management.</p>
<p>It is also a matter of policy, how exactly the request is satisfied after a successful CHECK state. Suppose, for example, that the owner possesses credits C0 and C1 such that wanted credit W is implied by join(C0, C1), but neither C0 nor C1 alone imply W. Some possible CHECK outcomes are: </p><pre class="fragment">- increase user counts in both C0 and C1;

- insert a new credit equal to W into owner-&gt;ro_owned[];

- insert a new credit equal to join(C0, C1) into owner-&gt;ro_owned[].
</pre><p>All have their advantages and drawbacks: </p><pre class="fragment">- elevating C0 and C1 user counts keeps owner-&gt;ro_owned[] smaller, but
  pins more credits than strictly necessary;

- inserting W behaves badly in a standard use case where a thread doing
  sequential IO requests a credit on each iteration;

- inserting the join pins more credits than strictly necessary.
</pre><p>All policy questions are settled by per-request flags and owner settings, based on access pattern analysis.</p>
<p>Following is a state diagram, where stages that are performed without blocking (for network communication) are lumped into a single state:</p>
<pre class="fragment">*                                 SUCCESS-----------------------+
*                                    ^                          |
*             too many iterations    |                          |
*                  live-lock         |    last completion       |
*                +-----------------CHECK&lt;-----------------+     |
*                |                   |                    |     |
*                |                   |                    |     |
*                V                   |                    |     |
*        +----FAILURE                | pins placed        |     |
*        |       ^                   |                    |     |
*        |       |                   |                    |     |
*        |       |                   V                    |     |
*        |       +----------------WAITING-----------------+     |
*        |            timeout      ^   |                        |
*        |                         |   | completion             |
*        |                         |   |                        |
*        |                         +---+                        |
*        |                                                      |
*        |                         RELEASED&lt;--------------------+
*        |                            |
*        |                            |
*        |                            V
*        +-------------------------&gt;FINAL
*
* </pre><p><a class="el" href="../../d3/db4/structm0__rm__incoming.html">m0_rm_incoming</a> fields and state transitions are protected by the owner's mutex.</p>
<dl class="section note"><dt>Note</dt><dd>a cedent can grant a usage credit larger than requested.</dd></dl>
<p>An incoming request is placed by <a class="el" href="../../d2/deb/group__rm.html#ga35b16fb825a3e37b39bace544db5abe5">m0_rm_credit_get()</a> on one of owner's <a class="el" href="../../dd/d9a/structm0__rm__owner.html#ae827239d8746e171c0cd53a2aa91fd72">m0_rm_owner::ro_incoming</a>[] lists depending on its priority. It remains on this list until request processing failure or <a class="el" href="../../d2/deb/group__rm.html#ga5642217a5a12914f27500be7aa65154a">m0_rm_credit_put()</a> call.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000236">Todo:</a></b></dt><dd>a new type of incoming request M0_RIT_GRANT (M0_RIT_FOIEGRAS?) can be added to forcibly grant new credits to the owner, for example, as part of a coordinated global distributed resource usage balancing between owners. Processing of requests of this type would be very simple, because adding new credits never blocks. Similarly, a new outgoing request type M0_ROT_TAKE could be added. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/df8/rm_8h_source.html#l01434">1434</a> of file <a class="el" href="../../db/df8/rm_8h_source.html">rm.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="ac3e9b2d1160775409def6179d37a5562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3e9b2d1160775409def6179d37a5562">&#9670;&nbsp;</a></span>rin_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t rin_flags</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/df8/rm_8h_source.html#l01448">1448</a> of file <a class="el" href="../../db/df8/rm_8h_source.html">rm.h</a>.</p>

</div>
</div>
<a id="a46fadb008cfabedd77bcb12aca657ad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46fadb008cfabedd77bcb12aca657ad0">&#9670;&nbsp;</a></span>rin_magix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t rin_magix</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/df8/rm_8h_source.html#l01478">1478</a> of file <a class="el" href="../../db/df8/rm_8h_source.html">rm.h</a>.</p>

</div>
</div>
<a id="aa03314d41debd0daa028800e9e554ad8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa03314d41debd0daa028800e9e554ad8">&#9670;&nbsp;</a></span>rin_ops</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../da/db4/structm0__rm__incoming__ops.html">m0_rm_incoming_ops</a>* rin_ops</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/df8/rm_8h_source.html#l01471">1471</a> of file <a class="el" href="../../db/df8/rm_8h_source.html">rm.h</a>.</p>

</div>
</div>
<a id="a574ae8133f4ac8ff9ea522f762e0da35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a574ae8133f4ac8ff9ea522f762e0da35">&#9670;&nbsp;</a></span>rin_pins</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8a/structm0__tl.html">m0_tl</a> rin_pins</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List of pins, linked through <a class="el" href="../../d1/d11/structm0__rm__pin.html#a402ac97ffac72327ec277f7d5e339ff7">m0_rm_pin::rp_incoming_linkage</a>, for all credits held to satisfy this request.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>meaning of this list depends on the request state:</dd></dl>
<ul>
<li>RI_CHECK, RI_SUCCESS: a list of M0_RPF_PROTECT pins on credits in -&gt;rin_want.cr_owner-&gt;ro_owned[];</li>
<li>RI_WAIT: a list of M0_RPF_TRACK pins on outgoing requests (through m0_rm_outgoing::rog_want::rl_credit::cr_pins) and held credits in -&gt;rin_want.cr_owner-&gt;ro_owned[OWOS_HELD];</li>
<li>other states: empty. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="../../db/df8/rm_8h_source.html#l01466">1466</a> of file <a class="el" href="../../db/df8/rm_8h_source.html">rm.h</a>.</p>

</div>
</div>
<a id="a3109b78ca748c2ab0a916ef9f9c6c3a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3109b78ca748c2ab0a916ef9f9c6c3a3">&#9670;&nbsp;</a></span>rin_policy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d2/deb/group__rm.html#gac7536c07764347b610ee35dfd23d060c">m0_rm_incoming_policy</a> rin_policy</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/df8/rm_8h_source.html#l01447">1447</a> of file <a class="el" href="../../db/df8/rm_8h_source.html">rm.h</a>.</p>

</div>
</div>
<a id="a63b987e8ddd8acd2375297cbb5af80fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63b987e8ddd8acd2375297cbb5af80fd">&#9670;&nbsp;</a></span>rin_priority</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rin_priority</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Request priority from 0 to M0_RM_REQUEST_PRIORITY_MAX. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df8/rm_8h_source.html#l01470">1470</a> of file <a class="el" href="../../db/df8/rm_8h_source.html">rm.h</a>.</p>

</div>
</div>
<a id="a9a52380309aadb609641d67adc430ef9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a52380309aadb609641d67adc430ef9">&#9670;&nbsp;</a></span>rin_rc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rin_rc</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores the error code for incoming request. A separate field is needed because rin_sm.sm_rc is associated with an error of a state.</p>
<p>For incoming it's possible that an error is set in RI_WAIT and then incoming has to be put back in RI_CHECK state before it can be put into RI_FAILURE. The state-machine model does not handle this well. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df8/rm_8h_source.html#l01446">1446</a> of file <a class="el" href="../../db/df8/rm_8h_source.html">rm.h</a>.</p>

</div>
</div>
<a id="afd356a4955d64f915b19b6e666a64584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd356a4955d64f915b19b6e666a64584">&#9670;&nbsp;</a></span>rin_remote</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/d34/structm0__rm__remote.html">m0_rm_remote</a>* rin_remote</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pointer to the remote owner of wanted credit. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df8/rm_8h_source.html#l01477">1477</a> of file <a class="el" href="../../db/df8/rm_8h_source.html">rm.h</a>.</p>

</div>
</div>
<a id="a39fb85f972b890913b4cd4b632f96d27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39fb85f972b890913b4cd4b632f96d27">&#9670;&nbsp;</a></span>rin_req_time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d7d/group__time.html#ga3e0d20573b53285374bbd0c65a7a42eb">m0_time_t</a> rin_req_time</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start time for this request </p>

<p class="definition">Definition at line <a class="el" href="../../db/df8/rm_8h_source.html#l01473">1473</a> of file <a class="el" href="../../db/df8/rm_8h_source.html">rm.h</a>.</p>

</div>
</div>
<a id="ae1aed1a06db173241d2afc79aedf9ea7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1aed1a06db173241d2afc79aedf9ea7">&#9670;&nbsp;</a></span>rin_reserve</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/d23/structm0__rm__reserve__prio.html">m0_rm_reserve_prio</a> rin_reserve</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines reserve priority of the request. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df8/rm_8h_source.html#l01475">1475</a> of file <a class="el" href="../../db/df8/rm_8h_source.html">rm.h</a>.</p>

</div>
</div>
<a id="aa9147246b93208300d4b152bb7d067ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9147246b93208300d4b152bb7d067ee">&#9670;&nbsp;</a></span>rin_sm</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/d49/structm0__sm.html">m0_sm</a> rin_sm</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/df8/rm_8h_source.html#l01436">1436</a> of file <a class="el" href="../../db/df8/rm_8h_source.html">rm.h</a>.</p>

</div>
</div>
<a id="a76241b3db08298af87e4f0ad41bc5ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76241b3db08298af87e4f0ad41bc5ca0">&#9670;&nbsp;</a></span>rin_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d2/deb/group__rm.html#ga2d171ba2eb40fbc6966fb59f0d6effc0">m0_rm_incoming_type</a> rin_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/df8/rm_8h_source.html#l01435">1435</a> of file <a class="el" href="../../db/df8/rm_8h_source.html">rm.h</a>.</p>

</div>
</div>
<a id="affae2a7aaaef98bf82a5652012335e27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affae2a7aaaef98bf82a5652012335e27">&#9670;&nbsp;</a></span>rin_want</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/d46/structm0__rm__credit.html">m0_rm_credit</a> rin_want</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The credit requested. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df8/rm_8h_source.html#l01450">1450</a> of file <a class="el" href="../../db/df8/rm_8h_source.html">rm.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>rm/<a class="el" href="../../db/df8/rm_8h_source.html">rm.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d3/db4/structm0__rm__incoming.html">m0_rm_incoming</a></li>
    <li class="footer">Generated on Thu Apr 14 2022 14:04:04 for Motr by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
