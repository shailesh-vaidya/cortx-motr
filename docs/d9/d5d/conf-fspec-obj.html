<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Motr: Configuration Objects</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Motr
   &#160;<span id="projectnumber">M0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d9/d5d/conf-fspec-obj.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Configuration Objects </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li><a class="el" href="../../d9/d5d/conf-fspec-obj.html#conf-fspec-obj-data">Data Structures</a></li>
<li><a class="el" href="../../d9/d5d/conf-fspec-obj.html#conf-fspec-obj-enum">Enumerations</a><ul>
<li><a class="el" href="../../d9/d5d/conf-fspec-obj.html#conf-fspec-obj-enum-status">Configuration Object Status</a></li>
</ul>
</li>
<li><a class="el" href="../../d9/d5d/conf-fspec-obj.html#conf-fspec-obj-pinned">Pinned Objects</a></li>
<li><a class="el" href="../../d9/d5d/conf-fspec-obj.html#conf-fspec-obj-private">Private Fields</a></li>
</ul>
<hr/>
 <h1><a class="anchor" id="conf-fspec-obj-data"></a>
Data Structures</h1>
<p>There are different kinds of configuration data: configuration of filesystems, services, nodes, storage devices, etc. Configuration data is contained in configuration objects of which there are following predefined types:</p>
<ul>
<li><a class="el" href="../../d6/d1b/structm0__conf__dir.html">m0_conf_dir</a> (a container for configuration objects),</li>
<li><a class="el" href="../../d5/d7c/structm0__conf__root.html">m0_conf_root</a></li>
<li><a class="el" href="../../d6/d2f/structm0__conf__profile.html">m0_conf_profile</a>,</li>
<li><a class="el" href="../../d7/d83/structm0__conf__pool.html">m0_conf_pool</a>,</li>
<li><a class="el" href="../../d1/d8e/structm0__conf__pver.html">m0_conf_pver</a>,</li>
<li><a class="el" href="../../da/d06/structm0__conf__objv.html">m0_conf_objv</a>,</li>
<li><a class="el" href="../../dc/de6/structm0__conf__node.html">m0_conf_node</a>,</li>
<li><a class="el" href="../../d6/d95/structm0__conf__process.html">m0_conf_process</a>,</li>
<li><a class="el" href="../../d3/d7c/structm0__conf__service.html">m0_conf_service</a>,</li>
<li><a class="el" href="../../db/dca/structm0__conf__sdev.html">m0_conf_sdev</a>,</li>
<li><a class="el" href="../../d3/d27/structm0__conf__site.html">m0_conf_site</a>,</li>
<li><a class="el" href="../../d2/dfb/structm0__conf__rack.html">m0_conf_rack</a>,</li>
<li><a class="el" href="../../d0/daa/structm0__conf__enclosure.html">m0_conf_enclosure</a>,</li>
<li><a class="el" href="../../dd/dc1/structm0__conf__controller.html">m0_conf_controller</a>,</li>
<li><a class="el" href="../../d0/d20/structm0__conf__drive.html">m0_conf_drive</a>,</li>
<li><a class="el" href="../../dc/d8a/structm0__conf__fdmi__flt__grp.html">m0_conf_fdmi_flt_grp</a>,</li>
<li><a class="el" href="../../d4/db7/structm0__conf__fdmi__filter.html">m0_conf_fdmi_filter</a>.</li>
</ul>
<p>Some attributes are applicable to any type of configuration object. Such common attributes are put together into <a class="el" href="../../df/da6/structm0__conf__obj.html">m0_conf_obj</a> structure, which is embedded into concrete configuration objects.</p>
<p>DAG of configuration objects:</p>
<div class="dotgraph">
<img src="../../dot_inline_dotgraph_10.png" alt="dot_inline_dotgraph_10.png" border="0" usemap="#dot_inline_dotgraph_10.map"/>
<map name="dot_inline_dotgraph_10.map" id="dot_inline_dotgraph_10.map"></map>
</div>
<hr/>
 <h1><a class="anchor" id="conf-fspec-obj-enum"></a>
Enumerations</h1>
<ul>
<li>m0_conf_status &mdash; readiness of object's configuration data.</li>
</ul>
<h2><a class="anchor" id="conf-fspec-obj-enum-status"></a>
Configuration Object Status</h2>
<p>A configuration object exists in one of three states:</p><ul>
<li>M0_CS_MISSING &mdash; configuration data is absent and is not being retrieved; the object is a stub.</li>
<li>M0_CS_LOADING &mdash; retrieval of configuration is in progress; the object is a stub.</li>
<li>M0_CS_READY &mdash; configuration is available; this is a fully-fledged object, not a stub.</li>
</ul>
<p>These values make up <a class="el" href="../../dd/df9/group__conf__dfspec__obj.html#ga70160c159a2c124679f0f83c565b6927">m0_conf_status</a> enumeration.</p>
<p>Status field of a configuration object &ndash; <a class="el" href="../../df/da6/structm0__conf__obj.html#a2fc83fce4aeff3c0afbe84ff6d5647da">m0_conf_obj::co_status</a> &ndash; is accessed and modified by object's owner (confc or confd). Initial status is M0_CS_MISSING. Possible transitions are shown on the diagram below:</p>
<div class="dotgraph">
<img src="../../dot_inline_dotgraph_11.png" alt="dot_inline_dotgraph_11.png" border="0" usemap="#dot_inline_dotgraph_11.map"/>
<map name="dot_inline_dotgraph_11.map" id="dot_inline_dotgraph_11.map"></map>
</div>
<hr/>
 <h1><a class="anchor" id="conf-fspec-obj-pinned"></a>
Pinned Objects</h1>
<p>If object's reference counter &ndash; <a class="el" href="../../df/da6/structm0__conf__obj.html#a55f887d4c660e091768919fa3441d8e5">m0_conf_obj::co_nrefs</a> &ndash; is non-zero, the object is said to be <em>pinned</em>. Stubs cannot be pinned, only M0_CS_READY objects can. Object's reference counter is used by confc and confd implementations and is not supposed to be accessed by a configuration consumer.</p>
<hr/>
 <h1><a class="anchor" id="conf-fspec-obj-private"></a>
Private Fields</h1>
<p>Only those fields of concrete configuration objects that follow "configuration data (for the application)" comment should ever be accessed by the application. The rest of fields are private property of confc and confd implementations.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/df9/group__conf__dfspec__obj.html">Detailed Functional Specification</a> </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d3/dd6/_d_l_d_i_x.html">Detailed Designs</a></li><li class="navelem"><a class="el" href="../../d2/dd9/conf.html">DLD of configuration caching</a></li>
    <li class="footer">Generated on Thu Apr 14 2022 14:03:22 for Motr by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
