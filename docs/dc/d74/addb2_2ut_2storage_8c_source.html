<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Motr: addb2/ut/storage.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Motr
   &#160;<span id="projectnumber">M0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dc/d74/addb2_2ut_2storage_8c_source.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">storage.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dc/d74/addb2_2ut_2storage_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2015-2020 Seagate Technology LLC and/or its Affiliates</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * you may not use this file except in compliance with the License.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * You may obtain a copy of the License at</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *     http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * See the License for the specific language governing permissions and</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * limitations under the License.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * For any questions about this software or licensing,</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * please email opensource@seagate.com or cortx-questions@seagate.com.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae762ad8776496e788bf62e0fa1615b61">   22</a></span>&#160;<span class="preprocessor">#define M0_TRACE_SUBSYSTEM M0_TRACE_SUBSYS_UT</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d1b/trace_8h.html">lib/trace.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d18/memory_8h.html">lib/memory.h</a>&quot;</span>            <span class="comment">/* M0_ALLOC_PTR */</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d2a/lib_2misc_8h.html">lib/misc.h</a>&quot;</span>              <span class="comment">/* ARRAY_SIZE */</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/dc6/semaphore_8h.html">lib/semaphore.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/ddc/ut_8h.html">ut/ut.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/dc9/stob_2stob_8h.html">stob/stob.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/da1/stob_2domain_8h.html">stob/domain.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d66/addb2_2addb2_8h.html">addb2/addb2.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d92/addb2_2storage_8h.html">addb2/storage.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/dde/internal_8h.html">addb2/internal.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d82/consumer_8h.html">addb2/consumer.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/da7/identifier_8h.html">addb2/identifier.h</a>&quot;</span>       <span class="comment">/* M0_AVI_SIT */</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d5e/addb2_2ut_2common_8h.html">addb2/ut/common.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a6b9f7e6115c241d0a8ea3087490f1043">   38</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../dc/d61/structm0__stob__domain.html">m0_stob_domain</a>   *<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a6b9f7e6115c241d0a8ea3087490f1043">dom</a>;</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a88229f8e0efdd14faf753547c8dcd9a9">   39</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/d0a/structm0__stob.html">m0_stob</a>          *<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a88229f8e0efdd14faf753547c8dcd9a9">stob</a>;</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">   40</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../dd/ddc/structm0__addb2__sit.html">m0_addb2_sit</a>     *<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a>;</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">   41</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../db/dd7/structm0__addb2__storage.html">m0_addb2_storage</a> *<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>;</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a77587c69c3e6849b8f254ded0d0c29cc">   42</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../de/d7f/structm0__addb2__mach.html">m0_addb2_mach</a>    *<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a77587c69c3e6849b8f254ded0d0c29cc">mach</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#aaf105ae5beaca1dee30ae54530691fcea28269565b29f1519c9a8401e647c391b">   45</a></span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aaf105ae5beaca1dee30ae54530691fcea28269565b29f1519c9a8401e647c391b">DOMAIN_KEY</a> = 76,</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#aaf105ae5beaca1dee30ae54530691fcea9c1fb0d4a11eb857bf61bbbbb6e49f14">   46</a></span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aaf105ae5beaca1dee30ae54530691fcea9c1fb0d4a11eb857bf61bbbbb6e49f14">STOB_KEY</a> = 2,</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#aaf105ae5beaca1dee30ae54530691fcea4aa71180778b711338785695df5d7c52">   47</a></span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aaf105ae5beaca1dee30ae54530691fcea4aa71180778b711338785695df5d7c52">SIZE</a> = 4 * 1024 * 1024 * 1024ull</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;};</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae01f83c0db62232963d563c132709d38">   50</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae01f83c0db62232963d563c132709d38">location</a> = <span class="stringliteral">&quot;linuxstob:./__s&quot;</span>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a28b8d21e1f72392c52059e6850e8c906">   52</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a28b8d21e1f72392c52059e6850e8c906">stob_get</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordtype">int</span>                    result;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d7/ddd/structm0__stob__id.html">m0_stob_id</a>      stob_id;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        result = <a class="code" href="../../d9/d6a/group__stob.html#ga4d33b373ff45ebb8b6b227f878108bd9">m0_stob_domain_init</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae01f83c0db62232963d563c132709d38">location</a>, <span class="stringliteral">&quot;directio=true&quot;</span>, &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a6b9f7e6115c241d0a8ea3087490f1043">dom</a>);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(result == 0);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a6b9f7e6115c241d0a8ea3087490f1043">dom</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <a class="code" href="../../d9/d6a/group__stob.html#ga73edd9e177abafdf4b508ffb2b467218">m0_stob_id_make</a>(0, <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aaf105ae5beaca1dee30ae54530691fcea9c1fb0d4a11eb857bf61bbbbb6e49f14">STOB_KEY</a>, &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a6b9f7e6115c241d0a8ea3087490f1043">dom</a>-&gt;<a class="code" href="../../dc/d61/structm0__stob__domain.html#a99a5f1eadbc6b92303ad096051d088cb">sd_id</a>, &amp;stob_id);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        result = <a class="code" href="../../d9/d6a/group__stob.html#gaa6b83e28f137dbf105b2879f854e28fa">m0_stob_find</a>(&amp;stob_id, &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a88229f8e0efdd14faf753547c8dcd9a9">stob</a>);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(result == 0);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a88229f8e0efdd14faf753547c8dcd9a9">stob</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        result = <a class="code" href="../../d9/d6a/group__stob.html#ga56160fb005c7a5e49471b61ff48271d4">m0_stob_locate</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a88229f8e0efdd14faf753547c8dcd9a9">stob</a>);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(result == 0);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../d9/d6a/group__stob.html#gaf70b93d1beacd1e8edbaf11f78e083e6">m0_stob_state_get</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a88229f8e0efdd14faf753547c8dcd9a9">stob</a>) == <a class="code" href="../../d9/d6a/group__stob.html#ggaa7f44fcbd3117c4e779bcd5ce05f5eb0ab31c388ce0c445b4f28e23d0ed029a2f">CSS_EXISTS</a>);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a37622254621520b649e871f4d53bcb21">   69</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a37622254621520b649e871f4d53bcb21">stob_put</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordtype">int</span> result;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        result = <a class="code" href="../../d9/d6a/group__stob.html#ga4bb31cbb2cf86bb5a2861b4617751a93">m0_stob_destroy</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a88229f8e0efdd14faf753547c8dcd9a9">stob</a>, <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(result == 0);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        result = <a class="code" href="../../d9/d6a/group__stob.html#gac8ab4b263eecd00024e3465d20d54f15">m0_stob_domain_destroy</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a6b9f7e6115c241d0a8ea3087490f1043">dom</a>);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="../../dc/da7/assert_8h.html#ac8bebb1ebb72c1dae891a1a1c24e7aec">M0_ASSERT</a>(result == 0);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a88229f8e0efdd14faf753547c8dcd9a9">stob</a> = <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a6b9f7e6115c241d0a8ea3087490f1043">dom</a> = <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae035fecc8085486c858e05ac656c4119">   81</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae035fecc8085486c858e05ac656c4119">idled</a>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a9f6e3ec3610e38fbeeae1f4be82180ce">   83</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a9f6e3ec3610e38fbeeae1f4be82180ce">once_idle</a>(<span class="keyword">struct</span> <a class="code" href="../../db/dd7/structm0__addb2__storage.html">m0_addb2_storage</a> *_stor)</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(_stor == <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(!<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae035fecc8085486c858e05ac656c4119">idled</a>);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae035fecc8085486c858e05ac656c4119">idled</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a25d3bdbf732e435ff42ffd92a284bea7">   90</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d8/d9e/structm0__semaphore.html">m0_semaphore</a> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a25d3bdbf732e435ff42ffd92a284bea7">idlewait</a>;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa195dadf0a13af092bd974c517f76f66">   91</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa195dadf0a13af092bd974c517f76f66">done</a>;</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a31123ad6765f610aa2cb41df68aa5aee">   92</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a31123ad6765f610aa2cb41df68aa5aee">committed</a>;</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a4d12d3fe39b91315810e4c222458929c">   93</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d0/d76/structm0__addb2__frame__header.html">m0_addb2_frame_header</a>  <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a4d12d3fe39b91315810e4c222458929c">last</a>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a21cf1c32c91189c2f1a870554fd1ca4c">   95</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a21cf1c32c91189c2f1a870554fd1ca4c">test_idle</a>(<span class="keyword">struct</span> <a class="code" href="../../db/dd7/structm0__addb2__storage.html">m0_addb2_storage</a> *<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a9f6e3ec3610e38fbeeae1f4be82180ce">once_idle</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <a class="code" href="../../d1/d5d/group__semaphore.html#gaec2688b125e30e354e0d388c6381b81d">m0_semaphore_up</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a25d3bdbf732e435ff42ffd92a284bea7">idlewait</a>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a5fb9a384419d173dde14b6049b10f08c">  104</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a5fb9a384419d173dde14b6049b10f08c">write_init_fini</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d2/d7a/structm0__addb2__storage__ops.html">m0_addb2_storage_ops</a> <a class="code" href="../../d9/dc2/group__io__foms.html#gae1f1a711ed63882d5ee2131824e2d9ff">ops</a> = {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                .sto_idle = &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a21cf1c32c91189c2f1a870554fd1ca4c">test_idle</a></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        };</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae035fecc8085486c858e05ac656c4119">idled</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <a class="code" href="../../d1/d5d/group__semaphore.html#gafd41b84576d421f207cccf02190ca3ad">m0_semaphore_init</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a25d3bdbf732e435ff42ffd92a284bea7">idlewait</a>, 0);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a> = <a class="code" href="../../d0/d9e/group__addb2.html#ga8e8e54e49f4d435b5d097cf22e010005">m0_addb2_storage_init</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae01f83c0db62232963d563c132709d38">location</a>, <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aaf105ae5beaca1dee30ae54530691fcea28269565b29f1519c9a8401e647c391b">DOMAIN_KEY</a>, <span class="keyword">true</span>, <span class="keyword">true</span>, &amp;<a class="code" href="../../d9/dc2/group__io__foms.html#gae1f1a711ed63882d5ee2131824e2d9ff">ops</a>,</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                     <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aaf105ae5beaca1dee30ae54530691fcea4aa71180778b711338785695df5d7c52">SIZE</a>, <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="../../d0/d9e/group__addb2.html#ga7cfd5628d8e7480196a3c3e1ad8f3612">m0_addb2_storage_stop</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">         * Storage machine may not be idle at this point, because whenever the</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">         * machine is initialised a special marker record is pushed onto</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">         * stob. But the corresponding IO can be already completed by the time</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">         * m0_addb2_storage_stop() returns, so neither &quot;idled&quot; nor &quot;!idled&quot; can</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">         * be asserted.</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <a class="code" href="../../d1/d5d/group__semaphore.html#ga13cc25845a0d00f79cc3397e12881c76">m0_semaphore_down</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a25d3bdbf732e435ff42ffd92a284bea7">idlewait</a>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae035fecc8085486c858e05ac656c4119">idled</a>);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <a class="code" href="../../d0/d9e/group__addb2.html#gadc4647d6cc4fff779ca2c152431357ba">m0_addb2_storage_fini</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="../../d1/d5d/group__semaphore.html#ga591af22ea97e46e634dc4379d87e5f2f">m0_semaphore_fini</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a25d3bdbf732e435ff42ffd92a284bea7">idlewait</a>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a> = <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#ab9f02989ed8aa354ccf8aa080bb48c03">  130</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ab9f02989ed8aa354ccf8aa080bb48c03">test_done</a>(<span class="keyword">struct</span> <a class="code" href="../../db/dd7/structm0__addb2__storage.html">m0_addb2_storage</a> *_stor,</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;               <span class="keyword">struct</span> <a class="code" href="../../db/d51/structm0__addb2__trace__obj.html">m0_addb2_trace_obj</a> *<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>)</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;{</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(_stor == <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        ++<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa195dadf0a13af092bd974c517f76f66">done</a>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#abe168a98fef9d5ce0268c73866655bb1">  137</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#abe168a98fef9d5ce0268c73866655bb1">test_commit</a>(<span class="keyword">struct</span> <a class="code" href="../../db/dd7/structm0__addb2__storage.html">m0_addb2_storage</a> *_stor,</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                        <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d0/d76/structm0__addb2__frame__header.html">m0_addb2_frame_header</a> *_last)</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(_stor == <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        ++<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a31123ad6765f610aa2cb41df68aa5aee">committed</a>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a4d12d3fe39b91315810e4c222458929c">last</a> = *_last;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a9d6e0185c55aad06026c72f649065ad6">  145</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d2/d7a/structm0__addb2__storage__ops.html">m0_addb2_storage_ops</a> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a9d6e0185c55aad06026c72f649065ad6">test_ops</a> = {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        .<a class="code" href="../../d2/d7a/structm0__addb2__storage__ops.html#a15a0ad43fb7e413e1a8d832a3ff8f6ea">sto_idle</a>   = &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a21cf1c32c91189c2f1a870554fd1ca4c">test_idle</a>,</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        .sto_done   = &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ab9f02989ed8aa354ccf8aa080bb48c03">test_done</a>,</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        .sto_commit = &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#abe168a98fef9d5ce0268c73866655bb1">test_commit</a></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;};</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#adec4cb4899ae3ba81dcb530edc61c520">  151</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d8/d9e/structm0__semaphore.html">m0_semaphore</a> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#adec4cb4899ae3ba81dcb530edc61c520">machwait</a>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a5912f7a2b6b37967adccb642cfce1b18">  153</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a5912f7a2b6b37967adccb642cfce1b18">mach_idle</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../de/d7f/structm0__addb2__mach.html">m0_addb2_mach</a> *<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a77587c69c3e6849b8f254ded0d0c29cc">mach</a>)</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <a class="code" href="../../d1/d5d/group__semaphore.html#gaec2688b125e30e354e0d388c6381b81d">m0_semaphore_up</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#adec4cb4899ae3ba81dcb530edc61c520">machwait</a>);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a3b97f4c3e2bf8d111039a4014e3a68a5">  158</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a3b97f4c3e2bf8d111039a4014e3a68a5">traces_submitted</a>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a85299582aba681102630e6c9dc2a28ea">  160</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a85299582aba681102630e6c9dc2a28ea">test_submit</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../de/d7f/structm0__addb2__mach.html">m0_addb2_mach</a> *<a class="code" href="../../d6/d7d/ut_2consumer_8c.html#a68d1e4577870933f97f6909f74b31e29">m</a>, <span class="keyword">struct</span> <a class="code" href="../../dc/d43/structm0__addb2__trace.html">m0_addb2_trace</a> *<a class="code" href="../../d4/d44/group__cas.html#ga5d544e7766a9ca095a37614378c444f0">t</a>)</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../db/d51/structm0__addb2__trace__obj.html">m0_addb2_trace_obj</a> *<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a> = <a class="code" href="../../df/d2a/lib_2misc_8h.html#a52a2298f85ca045ab4c515c793a7dd43">M0_AMB</a>(<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>, <a class="code" href="../../d4/d44/group__cas.html#ga5d544e7766a9ca095a37614378c444f0">t</a>, <a class="code" href="../../db/d51/structm0__addb2__trace__obj.html#a9cf9ed0fc31914dca204aeca6b48f7c0">o_tr</a>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../d6/d7d/ut_2consumer_8c.html#a68d1e4577870933f97f6909f74b31e29">m</a> == <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a77587c69c3e6849b8f254ded0d0c29cc">mach</a>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        ++<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a3b97f4c3e2bf8d111039a4014e3a68a5">traces_submitted</a>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/d9e/group__addb2.html#gad84119e420af0bea92d6a610321e7782">m0_addb2_storage_submit</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>, <a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a5fa0502732d54a6928778d402155f630">  169</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d9/d49/types_8h.html#a754ca36f0e1fff3edef4f267024b1a1f">m0_bcount_t</a> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a5fa0502732d54a6928778d402155f630">stob_size</a> = <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aaf105ae5beaca1dee30ae54530691fcea4aa71180778b711338785695df5d7c52">SIZE</a>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#adcaf569693529bf65f6d8cc5c80b2a48">  171</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#adcaf569693529bf65f6d8cc5c80b2a48">stor_init</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae035fecc8085486c858e05ac656c4119">idled</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="../../d0/d9e/group__addb2.html#ga55a2474a3559026d7efbd9727501ea45">idle</a> = &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a5912f7a2b6b37967adccb642cfce1b18">mach_idle</a>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa195dadf0a13af092bd974c517f76f66">done</a> = 0;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a3b97f4c3e2bf8d111039a4014e3a68a5">traces_submitted</a> = 0;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a31123ad6765f610aa2cb41df68aa5aee">committed</a> = 0;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="../../d1/d5d/group__semaphore.html#gafd41b84576d421f207cccf02190ca3ad">m0_semaphore_init</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a25d3bdbf732e435ff42ffd92a284bea7">idlewait</a>, 0);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="../../d1/d5d/group__semaphore.html#gafd41b84576d421f207cccf02190ca3ad">m0_semaphore_init</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#adec4cb4899ae3ba81dcb530edc61c520">machwait</a>, 0);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a> = <a class="code" href="../../d0/d9e/group__addb2.html#ga8e8e54e49f4d435b5d097cf22e010005">m0_addb2_storage_init</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae01f83c0db62232963d563c132709d38">location</a>, <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aaf105ae5beaca1dee30ae54530691fcea28269565b29f1519c9a8401e647c391b">DOMAIN_KEY</a>, <span class="keyword">true</span>, <span class="keyword">true</span>,</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                     &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a9d6e0185c55aad06026c72f649065ad6">test_ops</a>, <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a5fa0502732d54a6928778d402155f630">stob_size</a>, <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a77587c69c3e6849b8f254ded0d0c29cc">mach</a> = <a class="code" href="../../d0/d9e/group__addb2.html#gafb6568c6a2a4e6accba9e327925e94c2">mach_set</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a85299582aba681102630e6c9dc2a28ea">test_submit</a>);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a77587c69c3e6849b8f254ded0d0c29cc">mach</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#acd0227cf1bb196d7438a43c22a9ff900">  187</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#acd0227cf1bb196d7438a43c22a9ff900">stor_fini</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="../../d0/d9e/group__addb2.html#ga51a3fd60cb21d2779c485482251f2612">m0_addb2_mach_stop</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a77587c69c3e6849b8f254ded0d0c29cc">mach</a>);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <a class="code" href="../../d0/d9e/group__addb2.html#ga7cfd5628d8e7480196a3c3e1ad8f3612">m0_addb2_storage_stop</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <a class="code" href="../../d1/d5d/group__semaphore.html#ga13cc25845a0d00f79cc3397e12881c76">m0_semaphore_down</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a25d3bdbf732e435ff42ffd92a284bea7">idlewait</a>);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae035fecc8085486c858e05ac656c4119">idled</a>);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <a class="code" href="../../d1/d5d/group__semaphore.html#ga13cc25845a0d00f79cc3397e12881c76">m0_semaphore_down</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#adec4cb4899ae3ba81dcb530edc61c520">machwait</a>);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="../../d0/d9e/group__addb2.html#ga44f4269a2b682fc51bd9ec6a113f49e2">mach_fini</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a77587c69c3e6849b8f254ded0d0c29cc">mach</a>);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a77587c69c3e6849b8f254ded0d0c29cc">mach</a> = <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <a class="code" href="../../d0/d9e/group__addb2.html#gadc4647d6cc4fff779ca2c152431357ba">m0_addb2_storage_fini</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a> = <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="../../d1/d5d/group__semaphore.html#ga591af22ea97e46e634dc4379d87e5f2f">m0_semaphore_fini</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#adec4cb4899ae3ba81dcb530edc61c520">machwait</a>);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="../../d1/d5d/group__semaphore.html#ga591af22ea97e46e634dc4379d87e5f2f">m0_semaphore_fini</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a25d3bdbf732e435ff42ffd92a284bea7">idlewait</a>);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a67c9c3d2b95f51c6b53fed38de8cb61d">  202</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a67c9c3d2b95f51c6b53fed38de8cb61d">submit_one</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;{</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#adcaf569693529bf65f6d8cc5c80b2a48">stor_init</a>();</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a5e595e1eb32d34914893f0fdbbcbe7ec">M0_ADDB2_ADD</a>(18, 127, 0, 0, 1);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#acd0227cf1bb196d7438a43c22a9ff900">stor_fini</a>();</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a2023bcaa97027c51be3b37d0e9757539">  209</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a2023bcaa97027c51be3b37d0e9757539">write_many</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;{</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#adcaf569693529bf65f6d8cc5c80b2a48">stor_init</a>();</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a5e595e1eb32d34914893f0fdbbcbe7ec">M0_ADDB2_ADD</a>(<a class="code" href="../../d0/d9e/group__addb2.html#gga089000905761a0b2766d4aea1689d0dea92143f96007627acec9821e5f5dc7f55">M0_AVI_EXTERNAL_RANGE_1</a>, 1, 2);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a5e595e1eb32d34914893f0fdbbcbe7ec">M0_ADDB2_ADD</a>(<a class="code" href="../../d0/d9e/group__addb2.html#gga089000905761a0b2766d4aea1689d0deab423f19cd764c593628057e6cd4a9741">M0_AVI_EXTERNAL_RANGE_2</a>, 3, 4);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a5e595e1eb32d34914893f0fdbbcbe7ec">M0_ADDB2_ADD</a>(<a class="code" href="../../d0/d9e/group__addb2.html#gga089000905761a0b2766d4aea1689d0deaa671ee1297cd5b29dcda98d4f30e8db1">M0_AVI_EXTERNAL_RANGE_3</a>, 5, 6);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a5e595e1eb32d34914893f0fdbbcbe7ec">M0_ADDB2_ADD</a>(<a class="code" href="../../d0/d9e/group__addb2.html#gga089000905761a0b2766d4aea1689d0dea6d355061c68a33c8c304d1ceec404461">M0_AVI_EXTERNAL_RANGE_4</a>, 7, 8);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#acd0227cf1bb196d7438a43c22a9ff900">stor_fini</a>();</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#adac8905d9532026b9eefb4428db4a1eb">  223</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#adac8905d9532026b9eefb4428db4a1eb">read_one</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;{</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordtype">int</span> result;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/ddf/structm0__addb2__record.html">m0_addb2_record</a> *rec = <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="code" href="../../df/d2a/lib_2misc_8h.html#ae0d2e870ac085d7b16c48c2c52765009">M0_SET0</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a4d12d3fe39b91315810e4c222458929c">last</a>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#adcaf569693529bf65f6d8cc5c80b2a48">stor_init</a>();</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="../../d0/d9e/group__addb2.html#ga3d4dcf28ffcd2e95f9ec428d2d220629">M0_ADDB2_PUSH</a>(1, 2);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a5e595e1eb32d34914893f0fdbbcbe7ec">M0_ADDB2_ADD</a>(0x0011111111111111,</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                     0x2222222222222222, 0x3333333333333333,</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                     0x4444444444444444, 0x5555555555555555);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="../../d0/d9e/group__addb2.html#gaf54729605f3d1cb7995f4c10df8ad238">m0_addb2_pop</a>(1);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#acd0227cf1bb196d7438a43c22a9ff900">stor_fini</a>();</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a4d12d3fe39b91315810e4c222458929c">last</a>.<a class="code" href="../../d0/d76/structm0__addb2__frame__header.html#a4955df732220183c6d3fff2ff10da52e">he_offset</a>      == <a class="code" href="../../d0/d9e/group__addb2.html#gga4ac5fd894c5b88fc4ab416e9867c9a91a965eb801509a30d40b08d9b988edf820">BSIZE</a>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a4d12d3fe39b91315810e4c222458929c">last</a>.<a class="code" href="../../d0/d76/structm0__addb2__frame__header.html#af07f9b8ce00ef48d1471336e0400daee">he_prev_offset</a> == 0);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a28b8d21e1f72392c52059e6850e8c906">stob_get</a>();</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        result = <a class="code" href="../../d0/d9e/group__addb2.html#ga698f495e2bbbe62d611bf68a9d857efc">m0_addb2_sit_init</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a>, <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a88229f8e0efdd14faf753547c8dcd9a9">stob</a>, 0);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(result == 0);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">do</span> {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                result = <a class="code" href="../../d0/d9e/group__addb2.html#gab2110155faff378094304be7d072f61e">m0_addb2_sit_next</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a>, &amp;rec);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(result &gt; 0);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(rec != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        } <span class="keywordflow">while</span> (rec-&gt;<a class="code" href="../../d1/ddf/structm0__addb2__record.html#a95c9c0d3c731b25ee927c34589d02b75">ar_val</a>.<a class="code" href="../../dc/d19/structm0__addb2__value.html#abce9507c9024466efe3cfdd77422d7d1">va_id</a> == <a class="code" href="../../d0/d9e/group__addb2.html#gga089000905761a0b2766d4aea1689d0dea1a98659f944f618610c23400a6ad1537">M0_AVI_SIT</a>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../d0/d9e/group__addb2.html#ga17cd66fdd775ff663f67e474c1a5d404">receq</a>(rec, &amp;(<span class="keyword">struct</span> <a class="code" href="../../d3/de4/structsmall__record.html">small_record</a>) {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                        .<a class="code" href="../../d1/ddf/structm0__addb2__record.html#a95c9c0d3c731b25ee927c34589d02b75">ar_val</a> = <a class="code" href="../../d0/d9e/group__addb2.html#ga18ea645de625e53540973ac825509463">VAL</a>(0x0011111111111111,</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                                      0x2222222222222222, 0x3333333333333333,</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                      0x4444444444444444, 0x5555555555555555),</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                        .ar_label_nr = 1,</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                        .ar_label = {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                [0] = <a class="code" href="../../d0/d9e/group__addb2.html#ga18ea645de625e53540973ac825509463">VAL</a>(1, 2)</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                        }</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        }));</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        result = <a class="code" href="../../d0/d9e/group__addb2.html#gab2110155faff378094304be7d072f61e">m0_addb2_sit_next</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a>, &amp;rec);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(result == 0);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <a class="code" href="../../d0/d9e/group__addb2.html#gadb6207be602ace9fa824f02adb6d99ee">m0_addb2_sit_fini</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a37622254621520b649e871f4d53bcb21">stob_put</a>();</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a933a766713ee600cc40c33cde8e347d5">  262</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a933a766713ee600cc40c33cde8e347d5">issued</a>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#acde3a36d9b0582ab7fcb5f5cbba98d9e">  264</a></span>&#160;<span class="preprocessor">#define PAYLOAD(seq) {                          \</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="preprocessor">                seq ^ 0xdead,           \</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="preprocessor">                seq &lt;&lt; 6,                       \</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="preprocessor">                74,                             \</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="preprocessor">                8 - seq,                        \</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="preprocessor">                0x473824622,                    \</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="preprocessor">                1 + seq,                        \</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="preprocessor">                2 - seq,                        \</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="preprocessor">                3 + seq,                        \</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="preprocessor">                4 - seq,                        \</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="preprocessor">                5 + seq,                        \</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="preprocessor">                6 - seq,                        \</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="preprocessor">                7 + seq,                        \</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="preprocessor">                8 - seq                 \</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="preprocessor">}</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a80155586fa275b28773c9b203f52cabaa184335da0677a7bd010146af3e69066c">  280</a></span>&#160;<span class="keyword">enum</span> { <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a80155586fa275b28773c9b203f52cabaa184335da0677a7bd010146af3e69066c">DEPTH_MAX</a> = <a class="code" href="../../d0/d9e/group__addb2.html#ggadc29c2ff13d900c2f185ee95427fb06caa6940acaf817ec626a3aefe2a3603619">M0_ADDB2_LABEL_MAX</a> };</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#aed54f6f4c655bb38cc68faee35df653c">  282</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aed54f6f4c655bb38cc68faee35df653c">add_one</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;{</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        uint64_t <a class="code" href="../../dc/de2/base_8c.html#a62a0158f946bae72edd7b49d7b60bd64">payload</a>[] = <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#acde3a36d9b0582ab7fcb5f5cbba98d9e">PAYLOAD</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a933a766713ee600cc40c33cde8e347d5">issued</a>);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a933a766713ee600cc40c33cde8e347d5">issued</a> % <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a80155586fa275b28773c9b203f52cabaa184335da0677a7bd010146af3e69066c">DEPTH_MAX</a>) == 0 &amp;&amp; <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a933a766713ee600cc40c33cde8e347d5">issued</a> &gt; 0) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a80155586fa275b28773c9b203f52cabaa184335da0677a7bd010146af3e69066c">DEPTH_MAX</a> - 1; <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &gt;= 0; --<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>)</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                        <a class="code" href="../../d0/d9e/group__addb2.html#gaf54729605f3d1cb7995f4c10df8ad238">m0_addb2_pop</a>(2 * <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <a class="code" href="../../d0/d9e/group__addb2.html#ga13ae1b932a6367943b24526db4de199b">m0_addb2_add</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a933a766713ee600cc40c33cde8e347d5">issued</a>, <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a933a766713ee600cc40c33cde8e347d5">issued</a> % <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(<a class="code" href="../../dc/de2/base_8c.html#a62a0158f946bae72edd7b49d7b60bd64">payload</a>), <a class="code" href="../../dc/de2/base_8c.html#a62a0158f946bae72edd7b49d7b60bd64">payload</a>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="../../d0/d9e/group__addb2.html#ga6fc4a9312d0b93be87453a6abcd17bb6">m0_addb2_push</a>(2 * (<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a933a766713ee600cc40c33cde8e347d5">issued</a> % <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a80155586fa275b28773c9b203f52cabaa184335da0677a7bd010146af3e69066c">DEPTH_MAX</a>),</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                      <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a933a766713ee600cc40c33cde8e347d5">issued</a> % <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(<a class="code" href="../../dc/de2/base_8c.html#a62a0158f946bae72edd7b49d7b60bd64">payload</a>), <a class="code" href="../../dc/de2/base_8c.html#a62a0158f946bae72edd7b49d7b60bd64">payload</a>);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        ++<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a933a766713ee600cc40c33cde8e347d5">issued</a>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;}</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa96804286cd7e38c5da993b7f1845ee6">  298</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa96804286cd7e38c5da993b7f1845ee6">checked</a>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#ad34f1d79b4ccb7629be2f03451b258d1">  300</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ad34f1d79b4ccb7629be2f03451b258d1">check_one</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d1/ddf/structm0__addb2__record.html">m0_addb2_record</a> *rec)</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;{</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        uint64_t <a class="code" href="../../dc/de2/base_8c.html#a62a0158f946bae72edd7b49d7b60bd64">payload</a>[] = <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#acde3a36d9b0582ab7fcb5f5cbba98d9e">PAYLOAD</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa96804286cd7e38c5da993b7f1845ee6">checked</a>);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../dc/d19/structm0__addb2__value.html">m0_addb2_value</a> ideal = {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                .<a class="code" href="../../dc/d19/structm0__addb2__value.html#abce9507c9024466efe3cfdd77422d7d1">va_id</a>   = <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa96804286cd7e38c5da993b7f1845ee6">checked</a>,</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                .va_nr   = <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa96804286cd7e38c5da993b7f1845ee6">checked</a> % <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(<a class="code" href="../../dc/de2/base_8c.html#a62a0158f946bae72edd7b49d7b60bd64">payload</a>),</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                .va_data = <a class="code" href="../../dc/de2/base_8c.html#a62a0158f946bae72edd7b49d7b60bd64">payload</a></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        };</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">if</span> (rec-&gt;<a class="code" href="../../d1/ddf/structm0__addb2__record.html#a95c9c0d3c731b25ee927c34589d02b75">ar_val</a>.<a class="code" href="../../dc/d19/structm0__addb2__value.html#abce9507c9024466efe3cfdd77422d7d1">va_id</a> == <a class="code" href="../../d0/d9e/group__addb2.html#gga089000905761a0b2766d4aea1689d0dea1a98659f944f618610c23400a6ad1537">M0_AVI_SIT</a>)</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../d0/d9e/group__addb2.html#ga1eb1669da6b053d74f0029b286b74fe6">valeq</a>(&amp;rec-&gt;<a class="code" href="../../d1/ddf/structm0__addb2__record.html#a95c9c0d3c731b25ee927c34589d02b75">ar_val</a>, &amp;ideal));</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(rec-&gt;<a class="code" href="../../d1/ddf/structm0__addb2__record.html#a7dd6647e31b99c10d982662f34d9e1ba">ar_label_nr</a> == <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa96804286cd7e38c5da993b7f1845ee6">checked</a> % <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a80155586fa275b28773c9b203f52cabaa184335da0677a7bd010146af3e69066c">DEPTH_MAX</a>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../df/d2a/lib_2misc_8h.html#a70993fc357f576c5a7d2ac4b7f4f35c5">m0_forall</a>(<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa96804286cd7e38c5da993b7f1845ee6">checked</a> % <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a80155586fa275b28773c9b203f52cabaa184335da0677a7bd010146af3e69066c">DEPTH_MAX</a>,</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                               rec-&gt;<a class="code" href="../../d1/ddf/structm0__addb2__record.html#a87a8bcff14793fb30a7b2a374c0c0f6d">ar_label</a>[<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].<a class="code" href="../../dc/d19/structm0__addb2__value.html#abce9507c9024466efe3cfdd77422d7d1">va_id</a> == 2 * (<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> % <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a80155586fa275b28773c9b203f52cabaa184335da0677a7bd010146af3e69066c">DEPTH_MAX</a>)));</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        ++ <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa96804286cd7e38c5da993b7f1845ee6">checked</a>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;}</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a6b7b47dd702d9e331586d485013fd1eaabfaeccb8ac6d8070a096bd833aed6972">  317</a></span>&#160;<span class="keyword">enum</span> { <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a6b7b47dd702d9e331586d485013fd1eaabfaeccb8ac6d8070a096bd833aed6972">NR</a> = 500 * <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a80155586fa275b28773c9b203f52cabaa184335da0677a7bd010146af3e69066c">DEPTH_MAX</a> };</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#ad87c36efc8fa8516dbdff00b27c88363">  323</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ad87c36efc8fa8516dbdff00b27c88363">read_many</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordtype">int</span> result;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/ddf/structm0__addb2__record.html">m0_addb2_record</a> *rec = <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a933a766713ee600cc40c33cde8e347d5">issued</a> = 0;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa96804286cd7e38c5da993b7f1845ee6">checked</a> = 0;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <a class="code" href="../../df/d2a/lib_2misc_8h.html#ae0d2e870ac085d7b16c48c2c52765009">M0_SET0</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a4d12d3fe39b91315810e4c222458929c">last</a>);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#adcaf569693529bf65f6d8cc5c80b2a48">stor_init</a>();</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt;= <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a6b7b47dd702d9e331586d485013fd1eaabfaeccb8ac6d8070a096bd833aed6972">NR</a>; ++<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>)</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aed54f6f4c655bb38cc68faee35df653c">add_one</a>();</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <a class="code" href="../../d0/d9e/group__addb2.html#gaf54729605f3d1cb7995f4c10df8ad238">m0_addb2_pop</a>(0);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#acd0227cf1bb196d7438a43c22a9ff900">stor_fini</a>();</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a28b8d21e1f72392c52059e6850e8c906">stob_get</a>();</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        result = <a class="code" href="../../d0/d9e/group__addb2.html#ga698f495e2bbbe62d611bf68a9d857efc">m0_addb2_sit_init</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a>, <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a88229f8e0efdd14faf753547c8dcd9a9">stob</a>, 0);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(result == 0);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa96804286cd7e38c5da993b7f1845ee6">checked</a> &lt;= <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a6b7b47dd702d9e331586d485013fd1eaabfaeccb8ac6d8070a096bd833aed6972">NR</a>) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                result = <a class="code" href="../../d0/d9e/group__addb2.html#gab2110155faff378094304be7d072f61e">m0_addb2_sit_next</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a>, &amp;rec);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(result &gt; 0);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(rec != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ad34f1d79b4ccb7629be2f03451b258d1">check_one</a>(rec);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        result = <a class="code" href="../../d0/d9e/group__addb2.html#gab2110155faff378094304be7d072f61e">m0_addb2_sit_next</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a>, &amp;rec);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(result == 0);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="../../d0/d9e/group__addb2.html#gadb6207be602ace9fa824f02adb6d99ee">m0_addb2_sit_fini</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a>);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a37622254621520b649e871f4d53bcb21">stob_put</a>();</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#afcda4134ad2754ddc446ea500fd8d9f8">  354</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afcda4134ad2754ddc446ea500fd8d9f8">frame_fill</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;{</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        uint64_t seqno = <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a4d12d3fe39b91315810e4c222458929c">last</a>.<a class="code" href="../../d0/d76/structm0__addb2__frame__header.html#a8e2fd5ef699d38cb217e919b5fdbc558">he_seqno</a>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a4d12d3fe39b91315810e4c222458929c">last</a>.<a class="code" href="../../d0/d76/structm0__addb2__frame__header.html#a8e2fd5ef699d38cb217e919b5fdbc558">he_seqno</a> == seqno) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aed54f6f4c655bb38cc68faee35df653c">add_one</a>();</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                <span class="keywordflow">while</span> (<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a3b97f4c3e2bf8d111039a4014e3a68a5">traces_submitted</a> - <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa195dadf0a13af092bd974c517f76f66">done</a> &gt;= 100) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                        nanosleep(&amp;(<span class="keyword">struct</span> timespec) { .tv_sec = 0,</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                                                .tv_nsec = 100000000 }, <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#af92ef4c665e86e05599037e1afc70c49">  367</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af92ef4c665e86e05599037e1afc70c49">context_clean</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">while</span> ((<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a933a766713ee600cc40c33cde8e347d5">issued</a> % <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a80155586fa275b28773c9b203f52cabaa184335da0677a7bd010146af3e69066c">DEPTH_MAX</a>) != 1)</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aed54f6f4c655bb38cc68faee35df653c">add_one</a>();</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="../../d0/d9e/group__addb2.html#gaf54729605f3d1cb7995f4c10df8ad238">m0_addb2_pop</a>(0);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa408e9a8a907723fc5f6f846d6bf0dd3">  377</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa408e9a8a907723fc5f6f846d6bf0dd3">wrap</a>(<span class="keywordtype">int</span> <a class="code" href="../../d6/d69/rpc_2ut_2fops_8h.html#a27700a99892b7d9ae8741a462791ef78">n</a>)</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;{</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordtype">int</span> result;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/ddf/structm0__addb2__record.html">m0_addb2_record</a> *rec = <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a933a766713ee600cc40c33cde8e347d5">issued</a> = 0;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa96804286cd7e38c5da993b7f1845ee6">checked</a> = 0;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a5fa0502732d54a6928778d402155f630">stob_size</a> = <a class="code" href="../../d6/d69/rpc_2ut_2fops_8h.html#a27700a99892b7d9ae8741a462791ef78">n</a> * <a class="code" href="../../d0/d9e/group__addb2.html#ggabed82baf7f470b522273a3e37c24c600a531e301f557a94137237bfea2307d7f0">FRAME_SIZE_MAX</a> + <a class="code" href="../../d0/d9e/group__addb2.html#gga4ac5fd894c5b88fc4ab416e9867c9a91a965eb801509a30d40b08d9b988edf820">BSIZE</a>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <a class="code" href="../../df/d2a/lib_2misc_8h.html#ae0d2e870ac085d7b16c48c2c52765009">M0_SET0</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a4d12d3fe39b91315810e4c222458929c">last</a>);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#adcaf569693529bf65f6d8cc5c80b2a48">stor_init</a>();</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afcda4134ad2754ddc446ea500fd8d9f8">frame_fill</a>();</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a4d12d3fe39b91315810e4c222458929c">last</a>.<a class="code" href="../../d0/d76/structm0__addb2__frame__header.html#a4955df732220183c6d3fff2ff10da52e">he_offset</a> != <a class="code" href="../../d0/d9e/group__addb2.html#gga4ac5fd894c5b88fc4ab416e9867c9a91a965eb801509a30d40b08d9b988edf820">BSIZE</a>)</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afcda4134ad2754ddc446ea500fd8d9f8">frame_fill</a>();</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afcda4134ad2754ddc446ea500fd8d9f8">frame_fill</a>();</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afcda4134ad2754ddc446ea500fd8d9f8">frame_fill</a>();</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af92ef4c665e86e05599037e1afc70c49">context_clean</a>();</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#acd0227cf1bb196d7438a43c22a9ff900">stor_fini</a>();</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a28b8d21e1f72392c52059e6850e8c906">stob_get</a>();</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        result = <a class="code" href="../../d0/d9e/group__addb2.html#ga698f495e2bbbe62d611bf68a9d857efc">m0_addb2_sit_init</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a>, <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a88229f8e0efdd14faf753547c8dcd9a9">stob</a>, 0);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(result == 0);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">do</span> {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                result = <a class="code" href="../../d0/d9e/group__addb2.html#gab2110155faff378094304be7d072f61e">m0_addb2_sit_next</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a>, &amp;rec);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(result &gt; 0);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(rec != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        } <span class="keywordflow">while</span> (rec-&gt;<a class="code" href="../../d1/ddf/structm0__addb2__record.html#a95c9c0d3c731b25ee927c34589d02b75">ar_val</a>.<a class="code" href="../../dc/d19/structm0__addb2__value.html#abce9507c9024466efe3cfdd77422d7d1">va_id</a> == <a class="code" href="../../d0/d9e/group__addb2.html#gga089000905761a0b2766d4aea1689d0dea1a98659f944f618610c23400a6ad1537">M0_AVI_SIT</a>);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa96804286cd7e38c5da993b7f1845ee6">checked</a> = rec-&gt;<a class="code" href="../../d1/ddf/structm0__addb2__record.html#a95c9c0d3c731b25ee927c34589d02b75">ar_val</a>.<a class="code" href="../../dc/d19/structm0__addb2__value.html#abce9507c9024466efe3cfdd77422d7d1">va_id</a>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ad34f1d79b4ccb7629be2f03451b258d1">check_one</a>(rec);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">while</span> ((result = <a class="code" href="../../d0/d9e/group__addb2.html#gab2110155faff378094304be7d072f61e">m0_addb2_sit_next</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a>, &amp;rec)) &gt; 0)</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ad34f1d79b4ccb7629be2f03451b258d1">check_one</a>(rec);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(result == 0);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <a class="code" href="../../d0/d9e/group__addb2.html#gadb6207be602ace9fa824f02adb6d99ee">m0_addb2_sit_fini</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a>);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a37622254621520b649e871f4d53bcb21">stob_put</a>();</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae4ac040993868a663b00662aab831098">  415</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae4ac040993868a663b00662aab831098">wrap1</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;{</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa408e9a8a907723fc5f6f846d6bf0dd3">wrap</a>(1);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#af35acb8d2518bd9f22852e4e1bf75eaf">  423</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af35acb8d2518bd9f22852e4e1bf75eaf">wrap2</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;{</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa408e9a8a907723fc5f6f846d6bf0dd3">wrap</a>(2);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;}</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a0caf74ec39b4b72adf11faa6fb54a37f">  431</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a0caf74ec39b4b72adf11faa6fb54a37f">wrap3</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;{</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa408e9a8a907723fc5f6f846d6bf0dd3">wrap</a>(3);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;}</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a25a5f61deee9231f00ef9bd410b8abe1">  439</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a25a5f61deee9231f00ef9bd410b8abe1">wrap7</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;{</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aa408e9a8a907723fc5f6f846d6bf0dd3">wrap</a>(7);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;}</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#af9bdc3014f3d54c426b6d2df10de4960a02278c64c4a4318bce669a93391760c3">  444</a></span>&#160;<span class="keyword">enum</span> { <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af9bdc3014f3d54c426b6d2df10de4960a02278c64c4a4318bce669a93391760c3">THREADS</a> = 8, <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af9bdc3014f3d54c426b6d2df10de4960ac415dd9ea3a56ec2f64c410958fcdbe4">OUTER</a> = 50, <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af9bdc3014f3d54c426b6d2df10de4960aed30e52636db1f531e6f826fd49d6773">INNER</a> = 100 };</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#af8b1633a6844b53691ef39ec539bb83f">  446</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d8/d9e/structm0__semaphore.html">m0_semaphore</a> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af8b1633a6844b53691ef39ec539bb83f">pump_start</a>;</div><div class="line"><a name="l00447"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae76782b8ce56a2601cfc73679ca1b8a4">  447</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d8/d9e/structm0__semaphore.html">m0_semaphore</a> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae76782b8ce56a2601cfc73679ca1b8a4">pump_done</a>;</div><div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#aee8a1f2f4490f059f05a4a50f5294cb8">  448</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aee8a1f2f4490f059f05a4a50f5294cb8">pump_exit</a>;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#aee94396c9a7cf36fcdf4f1f0dcc88217">  450</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aee94396c9a7cf36fcdf4f1f0dcc88217">io_thread</a>(<span class="keywordtype">int</span> <a class="code" href="../../d0/d5d/ut_2sm_8c.html#a946a8f8377210c472c7cbdf11f154280">x</a>)</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;{</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keyword">static</span> uint64_t <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#ae3831fffc49e626dd50da5fa40537d3e">body</a>[8100];</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordtype">int</span>             <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordflow">do</span> {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                <a class="code" href="../../d1/d5d/group__semaphore.html#ga13cc25845a0d00f79cc3397e12881c76">m0_semaphore_down</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af8b1633a6844b53691ef39ec539bb83f">pump_start</a>);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af9bdc3014f3d54c426b6d2df10de4960aed30e52636db1f531e6f826fd49d6773">INNER</a>; ++<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                        <span class="keyword">struct </span><a class="code" href="../../db/d51/structm0__addb2__trace__obj.html">m0_addb2_trace_obj</a> *<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                        <a class="code" href="../../d7/ded/group__memory.html#ga2dd26426583fa272fa2061075e2dcf57">M0_ALLOC_PTR</a>(<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                        <a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>-&gt;o_tr.tr_nr   = 8000;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                        <a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>-&gt;o_tr.tr_body = <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#ae3831fffc49e626dd50da5fa40537d3e">body</a>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                        <a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>-&gt;o_done       = (<span class="keywordtype">void</span> *)&amp;<a class="code" href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3">m0_free</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                        <a class="code" href="../../d0/d9e/group__addb2.html#gad84119e420af0bea92d6a610321e7782">m0_addb2_storage_submit</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>, <a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                <a class="code" href="../../d1/d5d/group__semaphore.html#gaec2688b125e30e354e0d388c6381b81d">m0_semaphore_up</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae76782b8ce56a2601cfc73679ca1b8a4">pump_done</a>);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        } <span class="keywordflow">while</span> (!<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aee8a1f2f4490f059f05a4a50f5294cb8">pump_exit</a>);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#ab11d2730c5c88e8b12c7c0dc56604a4c">  470</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ab11d2730c5c88e8b12c7c0dc56604a4c">io_idle</a>(<span class="keyword">struct</span> <a class="code" href="../../db/dd7/structm0__addb2__storage.html">m0_addb2_storage</a> *<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>)</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;{</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a21cf1c32c91189c2f1a870554fd1ca4c">test_idle</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;}</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a67d2220e73b8f50c7ce30880f56a15e8">  475</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a67d2220e73b8f50c7ce30880f56a15e8">io_done</a>(<span class="keyword">struct</span> <a class="code" href="../../db/dd7/structm0__addb2__storage.html">m0_addb2_storage</a> *<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>,</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                    <span class="keyword">struct</span> <a class="code" href="../../db/d51/structm0__addb2__trace__obj.html">m0_addb2_trace_obj</a> *<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>)</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;{</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="../../dc/d74/addb2_2ut_2storage_8c.html#a2f6f07574cec1979c3651231433defd3">  483</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a2f6f07574cec1979c3651231433defd3">fini_io</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;{</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordtype">int</span> j;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordtype">int</span> result;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/d67/structm0__thread.html">m0_thread</a> <a class="code" href="../../d4/d44/group__cas.html#ga5d544e7766a9ca095a37614378c444f0">t</a>[<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af9bdc3014f3d54c426b6d2df10de4960a02278c64c4a4318bce669a93391760c3">THREADS</a>] = {};</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d2/d7a/structm0__addb2__storage__ops.html">m0_addb2_storage_ops</a> io_ops = {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                .<a class="code" href="../../d2/d7a/structm0__addb2__storage__ops.html#a15a0ad43fb7e413e1a8d832a3ff8f6ea">sto_idle</a> = &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ab11d2730c5c88e8b12c7c0dc56604a4c">io_idle</a>,</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                .sto_done = &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a67d2220e73b8f50c7ce30880f56a15e8">io_done</a></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        };</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <a class="code" href="../../d1/d5d/group__semaphore.html#gafd41b84576d421f207cccf02190ca3ad">m0_semaphore_init</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af8b1633a6844b53691ef39ec539bb83f">pump_start</a>, 0);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <a class="code" href="../../d1/d5d/group__semaphore.html#gafd41b84576d421f207cccf02190ca3ad">m0_semaphore_init</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae76782b8ce56a2601cfc73679ca1b8a4">pump_done</a>, 0);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(<a class="code" href="../../d4/d44/group__cas.html#ga5d544e7766a9ca095a37614378c444f0">t</a>); ++<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                result = <a class="code" href="../../da/dd8/group__thread.html#gadfa88d6ec630f9ef157f5ac6fd3cb778">M0_THREAD_INIT</a>(&amp;<a class="code" href="../../d4/d44/group__cas.html#ga5d544e7766a9ca095a37614378c444f0">t</a>[<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>], <span class="keywordtype">int</span>, <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aee94396c9a7cf36fcdf4f1f0dcc88217">io_thread</a>, 0,</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                                        <span class="stringliteral">&quot;io_thread&quot;</span>);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(result == 0);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af9bdc3014f3d54c426b6d2df10de4960ac415dd9ea3a56ec2f64c410958fcdbe4">OUTER</a>; ++<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae035fecc8085486c858e05ac656c4119">idled</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aee8a1f2f4490f059f05a4a50f5294cb8">pump_exit</a> = (<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> == <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af9bdc3014f3d54c426b6d2df10de4960ac415dd9ea3a56ec2f64c410958fcdbe4">OUTER</a> - 1);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                <a class="code" href="../../d1/d5d/group__semaphore.html#gafd41b84576d421f207cccf02190ca3ad">m0_semaphore_init</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a25d3bdbf732e435ff42ffd92a284bea7">idlewait</a>, 0);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a> = <a class="code" href="../../d0/d9e/group__addb2.html#ga8e8e54e49f4d435b5d097cf22e010005">m0_addb2_storage_init</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae01f83c0db62232963d563c132709d38">location</a>, <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aaf105ae5beaca1dee30ae54530691fcea28269565b29f1519c9a8401e647c391b">DOMAIN_KEY</a>, <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> == 0,</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                                             <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> == 0, &amp;io_ops, <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#aaf105ae5beaca1dee30ae54530691fcea4aa71180778b711338785695df5d7c52">SIZE</a>, <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(<a class="code" href="../../d4/d44/group__cas.html#ga5d544e7766a9ca095a37614378c444f0">t</a>); ++j)</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                        <a class="code" href="../../d1/d5d/group__semaphore.html#gaec2688b125e30e354e0d388c6381b81d">m0_semaphore_up</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af8b1633a6844b53691ef39ec539bb83f">pump_start</a>);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(<a class="code" href="../../d4/d44/group__cas.html#ga5d544e7766a9ca095a37614378c444f0">t</a>); ++j)</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                        <a class="code" href="../../d1/d5d/group__semaphore.html#ga13cc25845a0d00f79cc3397e12881c76">m0_semaphore_down</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae76782b8ce56a2601cfc73679ca1b8a4">pump_done</a>);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                <a class="code" href="../../d0/d9e/group__addb2.html#ga7cfd5628d8e7480196a3c3e1ad8f3612">m0_addb2_storage_stop</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <a class="code" href="../../d1/d5d/group__semaphore.html#ga13cc25845a0d00f79cc3397e12881c76">m0_semaphore_down</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a25d3bdbf732e435ff42ffd92a284bea7">idlewait</a>);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                <a class="code" href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae035fecc8085486c858e05ac656c4119">idled</a>);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                <a class="code" href="../../d0/d9e/group__addb2.html#gadc4647d6cc4fff779ca2c152431357ba">m0_addb2_storage_fini</a>(<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a>);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                <a class="code" href="../../d1/d5d/group__semaphore.html#ga591af22ea97e46e634dc4379d87e5f2f">m0_semaphore_fini</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a25d3bdbf732e435ff42ffd92a284bea7">idlewait</a>);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(<a class="code" href="../../d4/d44/group__cas.html#ga5d544e7766a9ca095a37614378c444f0">t</a>); ++<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                <a class="code" href="../../db/d41/group__kthread.html#ga250c810f6cc1aad898687f5282314713">m0_thread_join</a>(&amp;<a class="code" href="../../d4/d44/group__cas.html#ga5d544e7766a9ca095a37614378c444f0">t</a>[<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                <a class="code" href="../../da/dd8/group__thread.html#ga2a9d1d0b44cfa91b6fd83f66d2f4fc00">m0_thread_fini</a>(&amp;<a class="code" href="../../d4/d44/group__cas.html#ga5d544e7766a9ca095a37614378c444f0">t</a>[<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <a class="code" href="../../d1/d5d/group__semaphore.html#ga591af22ea97e46e634dc4379d87e5f2f">m0_semaphore_fini</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae76782b8ce56a2601cfc73679ca1b8a4">pump_done</a>);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <a class="code" href="../../d1/d5d/group__semaphore.html#ga591af22ea97e46e634dc4379d87e5f2f">m0_semaphore_fini</a>(&amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af8b1633a6844b53691ef39ec539bb83f">pump_start</a>);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;}</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="../../d8/d87/m0ut_8c.html#af256c3357802eda832b073763eaed554">  526</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../da/d59/structm0__ut__suite.html">m0_ut_suite</a> <a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af256c3357802eda832b073763eaed554">addb2_storage_ut</a> = {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        .<a class="code" href="../../da/d59/structm0__ut__suite.html#a0036d25e039fa6eb1d910416ab5a9ef1">ts_name</a> = <span class="stringliteral">&quot;addb2-storage&quot;</span>,</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        .ts_init = <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        .ts_fini = <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        .ts_tests = {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                { <span class="stringliteral">&quot;write-init-fini&quot;</span>,               &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a5fb9a384419d173dde14b6049b10f08c">write_init_fini</a> },</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                { <span class="stringliteral">&quot;submit-one&quot;</span>,                    &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a67c9c3d2b95f51c6b53fed38de8cb61d">submit_one</a> },</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                { <span class="stringliteral">&quot;read-one&quot;</span>,                      &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#adac8905d9532026b9eefb4428db4a1eb">read_one</a> },</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                { <span class="stringliteral">&quot;read-many&quot;</span>,                     &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ad87c36efc8fa8516dbdff00b27c88363">read_many</a> },</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                { <span class="stringliteral">&quot;write-many&quot;</span>,                    &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a2023bcaa97027c51be3b37d0e9757539">write_many</a>},</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                { <span class="stringliteral">&quot;wrap-1&quot;</span>,                        &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#ae4ac040993868a663b00662aab831098">wrap1</a> },</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                { <span class="stringliteral">&quot;wrap-2&quot;</span>,                        &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#af35acb8d2518bd9f22852e4e1bf75eaf">wrap2</a> },</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                { <span class="stringliteral">&quot;wrap-3&quot;</span>,                        &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a0caf74ec39b4b72adf11faa6fb54a37f">wrap3</a> },</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                { <span class="stringliteral">&quot;wrap-7&quot;</span>,                        &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a25a5f61deee9231f00ef9bd410b8abe1">wrap7</a> },</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                { <span class="stringliteral">&quot;fini-io&quot;</span>,                       &amp;<a class="code" href="../../dc/d74/addb2_2ut_2storage_8c.html#a2f6f07574cec1979c3651231433defd3">fini_io</a> },</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                { <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        }</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;};</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="preprocessor">#undef M0_TRACE_SUBSYSTEM</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment"> *  Local variables:</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"> *  c-indentation-style: &quot;K&amp;R&quot;</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment"> *  c-basic-offset: 8</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment"> *  tab-width: 8</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment"> *  fill-column: 80</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment"> *  scroll-step: 1</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment"> *  End:</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment"> */</span></div><div class="ttc" id="ut_8h_html"><div class="ttname"><a href="../../da/ddc/ut_8h.html">ut.h</a></div></div>
<div class="ttc" id="identifier_8h_html"><div class="ttname"><a href="../../d7/da7/identifier_8h.html">identifier.h</a></div></div>
<div class="ttc" id="structm0__addb2__frame__header_html_a8e2fd5ef699d38cb217e919b5fdbc558"><div class="ttname"><a href="../../d0/d76/structm0__addb2__frame__header.html#a8e2fd5ef699d38cb217e919b5fdbc558">m0_addb2_frame_header::he_seqno</a></div><div class="ttdeci">uint64_t he_seqno</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d92/addb2_2storage_8h_source.html#l00133">storage.h:133</a></div></div>
<div class="ttc" id="group__addb2_html_ga44f4269a2b682fc51bd9ec6a113f49e2"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#ga44f4269a2b682fc51bd9ec6a113f49e2">mach_fini</a></div><div class="ttdeci">void mach_fini(struct m0_addb2_mach *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/addb2_2ut_2common_8c_source.html#l00078">common.c:78</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a43fdee6cdf0324724ca8c73d0e0b74f4"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a43fdee6cdf0324724ca8c73d0e0b74f4">stor</a></div><div class="ttdeci">static struct m0_addb2_storage * stor</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00041">storage.c:41</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_ae76782b8ce56a2601cfc73679ca1b8a4"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#ae76782b8ce56a2601cfc73679ca1b8a4">pump_done</a></div><div class="ttdeci">static struct m0_semaphore pump_done</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00447">storage.c:447</a></div></div>
<div class="ttc" id="trace_8h_html"><div class="ttname"><a href="../../d1/d1b/trace_8h.html">trace.h</a></div></div>
<div class="ttc" id="stob_2domain_8h_html"><div class="ttname"><a href="../../df/da1/stob_2domain_8h.html">domain.h</a></div></div>
<div class="ttc" id="structm0__addb2__frame__header_html_af07f9b8ce00ef48d1471336e0400daee"><div class="ttname"><a href="../../d0/d76/structm0__addb2__frame__header.html#af07f9b8ce00ef48d1471336e0400daee">m0_addb2_frame_header::he_prev_offset</a></div><div class="ttdeci">uint64_t he_prev_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d92/addb2_2storage_8h_source.html#l00135">storage.h:135</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a21cf1c32c91189c2f1a870554fd1ca4c"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a21cf1c32c91189c2f1a870554fd1ca4c">test_idle</a></div><div class="ttdeci">static void test_idle(struct m0_addb2_storage *stor)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00095">storage.c:95</a></div></div>
<div class="ttc" id="group__addb2_html_gga089000905761a0b2766d4aea1689d0deab423f19cd764c593628057e6cd4a9741"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#gga089000905761a0b2766d4aea1689d0deab423f19cd764c593628057e6cd4a9741">M0_AVI_EXTERNAL_RANGE_2</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da7/identifier_8h_source.html#l00126">identifier.h:126</a></div></div>
<div class="ttc" id="memory_8h_html"><div class="ttname"><a href="../../dc/d18/memory_8h.html">memory.h</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_ab11d2730c5c88e8b12c7c0dc56604a4c"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#ab11d2730c5c88e8b12c7c0dc56604a4c">io_idle</a></div><div class="ttdeci">static void io_idle(struct m0_addb2_storage *stor)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00470">storage.c:470</a></div></div>
<div class="ttc" id="structm0__addb2__sit_html"><div class="ttname"><a href="../../dd/ddc/structm0__addb2__sit.html">m0_addb2_sit</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1f/sit_8c_source.html#l00059">sit.c:59</a></div></div>
<div class="ttc" id="lib_2user__space_2misc_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/lib_2user__space_2misc_8h_source.html#l00038">misc.h:38</a></div></div>
<div class="ttc" id="ut_2consumer_8c_html_a68d1e4577870933f97f6909f74b31e29"><div class="ttname"><a href="../../d6/d7d/ut_2consumer_8c.html#a68d1e4577870933f97f6909f74b31e29">m</a></div><div class="ttdeci">static struct m0_addb2_mach * m</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d7d/ut_2consumer_8c_source.html#l00038">consumer.c:38</a></div></div>
<div class="ttc" id="group__stob_html_ga56160fb005c7a5e49471b61ff48271d4"><div class="ttname"><a href="../../d9/d6a/group__stob.html#ga56160fb005c7a5e49471b61ff48271d4">m0_stob_locate</a></div><div class="ttdeci">M0_INTERNAL int m0_stob_locate(struct m0_stob *stob)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/stob_2stob_8c_source.html#l00128">stob.c:128</a></div></div>
<div class="ttc" id="group__kthread_html_ga250c810f6cc1aad898687f5282314713"><div class="ttname"><a href="../../db/d41/group__kthread.html#ga250c810f6cc1aad898687f5282314713">m0_thread_join</a></div><div class="ttdeci">int m0_thread_join(struct m0_thread *q)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d05/kthread_8c_source.html#l00169">kthread.c:169</a></div></div>
<div class="ttc" id="ut_2sm_8c_html_a946a8f8377210c472c7cbdf11f154280"><div class="ttname"><a href="../../d0/d5d/ut_2sm_8c.html#a946a8f8377210c472c7cbdf11f154280">x</a></div><div class="ttdeci">static bool x</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5d/ut_2sm_8c_source.html#l00168">sm.c:168</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_aaf105ae5beaca1dee30ae54530691fcea28269565b29f1519c9a8401e647c391b"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#aaf105ae5beaca1dee30ae54530691fcea28269565b29f1519c9a8401e647c391b">DOMAIN_KEY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00045">storage.c:45</a></div></div>
<div class="ttc" id="group__stob_html_gac8ab4b263eecd00024e3465d20d54f15"><div class="ttname"><a href="../../d9/d6a/group__stob.html#gac8ab4b263eecd00024e3465d20d54f15">m0_stob_domain_destroy</a></div><div class="ttdeci">M0_INTERNAL int m0_stob_domain_destroy(struct m0_stob_domain *dom)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/db4/stob_2domain_8c_source.html#l00227">domain.c:227</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a67d2220e73b8f50c7ce30880f56a15e8"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a67d2220e73b8f50c7ce30880f56a15e8">io_done</a></div><div class="ttdeci">static void io_done(struct m0_addb2_storage *stor, struct m0_addb2_trace_obj *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00475">storage.c:475</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a0caf74ec39b4b72adf11faa6fb54a37f"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a0caf74ec39b4b72adf11faa6fb54a37f">wrap3</a></div><div class="ttdeci">static void wrap3(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00431">storage.c:431</a></div></div>
<div class="ttc" id="structm0__addb2__storage__ops_html_a15a0ad43fb7e413e1a8d832a3ff8f6ea"><div class="ttname"><a href="../../d2/d7a/structm0__addb2__storage__ops.html#a15a0ad43fb7e413e1a8d832a3ff8f6ea">m0_addb2_storage_ops::sto_idle</a></div><div class="ttdeci">void(* sto_idle)(struct m0_addb2_storage *stor)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d92/addb2_2storage_8h_source.html#l00074">storage.h:74</a></div></div>
<div class="ttc" id="structm0__semaphore_html"><div class="ttname"><a href="../../d8/d9e/structm0__semaphore.html">m0_semaphore</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddf/linux__kernel_2semaphore_8h_source.html#l00035">semaphore.h:35</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_adec4cb4899ae3ba81dcb530edc61c520"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#adec4cb4899ae3ba81dcb530edc61c520">machwait</a></div><div class="ttdeci">static struct m0_semaphore machwait</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00151">storage.c:151</a></div></div>
<div class="ttc" id="group__addb2_html_gga4ac5fd894c5b88fc4ab416e9867c9a91a965eb801509a30d40b08d9b988edf820"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#gga4ac5fd894c5b88fc4ab416e9867c9a91a965eb801509a30d40b08d9b988edf820">BSIZE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dde/internal_8h_source.html#l00078">internal.h:78</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a5fa0502732d54a6928778d402155f630"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a5fa0502732d54a6928778d402155f630">stob_size</a></div><div class="ttdeci">static m0_bcount_t stob_size</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00169">storage.c:169</a></div></div>
<div class="ttc" id="group__addb2_html_ga3d4dcf28ffcd2e95f9ec428d2d220629"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#ga3d4dcf28ffcd2e95f9ec428d2d220629">M0_ADDB2_PUSH</a></div><div class="ttdeci">#define M0_ADDB2_PUSH(id,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d66/addb2_2addb2_8h_source.html#l00261">addb2.h:261</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_aee8a1f2f4490f059f05a4a50f5294cb8"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#aee8a1f2f4490f059f05a4a50f5294cb8">pump_exit</a></div><div class="ttdeci">static bool pump_exit</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00448">storage.c:448</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_abe168a98fef9d5ce0268c73866655bb1"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#abe168a98fef9d5ce0268c73866655bb1">test_commit</a></div><div class="ttdeci">static void test_commit(struct m0_addb2_storage *_stor, const struct m0_addb2_frame_header *_last)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00137">storage.c:137</a></div></div>
<div class="ttc" id="group__addb2_html_ga7cfd5628d8e7480196a3c3e1ad8f3612"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#ga7cfd5628d8e7480196a3c3e1ad8f3612">m0_addb2_storage_stop</a></div><div class="ttdeci">M0_INTERNAL void m0_addb2_storage_stop(struct m0_addb2_storage *stor)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d59/kaddb2_8c_source.html#l00066">kaddb2.c:66</a></div></div>
<div class="ttc" id="group__addb2_html_ggabed82baf7f470b522273a3e37c24c600a531e301f557a94137237bfea2307d7f0"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#ggabed82baf7f470b522273a3e37c24c600a531e301f557a94137237bfea2307d7f0">FRAME_SIZE_MAX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dde/internal_8h_source.html#l00053">internal.h:53</a></div></div>
<div class="ttc" id="structm0__addb2__value_html_abce9507c9024466efe3cfdd77422d7d1"><div class="ttname"><a href="../../dc/d19/structm0__addb2__value.html#abce9507c9024466efe3cfdd77422d7d1">m0_addb2_value::va_id</a></div><div class="ttdeci">uint64_t va_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d82/consumer_8h_source.html#l00103">consumer.h:103</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_aed54f6f4c655bb38cc68faee35df653c"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#aed54f6f4c655bb38cc68faee35df653c">add_one</a></div><div class="ttdeci">static void add_one(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00282">storage.c:282</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a77587c69c3e6849b8f254ded0d0c29cc"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a77587c69c3e6849b8f254ded0d0c29cc">mach</a></div><div class="ttdeci">static struct m0_addb2_mach * mach</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00042">storage.c:42</a></div></div>
<div class="ttc" id="types_8h_html_a754ca36f0e1fff3edef4f267024b1a1f"><div class="ttname"><a href="../../d9/d49/types_8h.html#a754ca36f0e1fff3edef4f267024b1a1f">m0_bcount_t</a></div><div class="ttdeci">uint64_t m0_bcount_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d49/types_8h_source.html#l00077">types.h:77</a></div></div>
<div class="ttc" id="group__thread_html_gadfa88d6ec630f9ef157f5ac6fd3cb778"><div class="ttname"><a href="../../da/dd8/group__thread.html#gadfa88d6ec630f9ef157f5ac6fd3cb778">M0_THREAD_INIT</a></div><div class="ttdeci">#define M0_THREAD_INIT(thread, TYPE, init, func, arg, namefmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/thread_8h_source.html#l00139">thread.h:139</a></div></div>
<div class="ttc" id="structm0__addb2__record_html_a7dd6647e31b99c10d982662f34d9e1ba"><div class="ttname"><a href="../../d1/ddf/structm0__addb2__record.html#a7dd6647e31b99c10d982662f34d9e1ba">m0_addb2_record::ar_label_nr</a></div><div class="ttdeci">unsigned ar_label_nr</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d82/consumer_8h_source.html#l00116">consumer.h:116</a></div></div>
<div class="ttc" id="lib_2misc_8h_html_ae0d2e870ac085d7b16c48c2c52765009"><div class="ttname"><a href="../../df/d2a/lib_2misc_8h.html#ae0d2e870ac085d7b16c48c2c52765009">M0_SET0</a></div><div class="ttdeci">#define M0_SET0(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2a/lib_2misc_8h_source.html#l00064">misc.h:64</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_af35acb8d2518bd9f22852e4e1bf75eaf"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#af35acb8d2518bd9f22852e4e1bf75eaf">wrap2</a></div><div class="ttdeci">static void wrap2(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00423">storage.c:423</a></div></div>
<div class="ttc" id="m0t1fs_2linux__kernel_2dir_8c_html_a5e595e1eb32d34914893f0fdbbcbe7ec"><div class="ttname"><a href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a5e595e1eb32d34914893f0fdbbcbe7ec">M0_ADDB2_ADD</a></div><div class="ttdeci">M0_ADDB2_ADD(M0_AVI_FS_CREATE, new_fid.f_container, new_fid.f_key, mode, rc)</div></div>
<div class="ttc" id="structm0__ut__suite_html"><div class="ttname"><a href="../../da/d59/structm0__ut__suite.html">m0_ut_suite</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddc/ut_8h_source.html#l00077">ut.h:77</a></div></div>
<div class="ttc" id="group__addb2_html_gga089000905761a0b2766d4aea1689d0deaa671ee1297cd5b29dcda98d4f30e8db1"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#gga089000905761a0b2766d4aea1689d0deaa671ee1297cd5b29dcda98d4f30e8db1">M0_AVI_EXTERNAL_RANGE_3</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da7/identifier_8h_source.html#l00127">identifier.h:127</a></div></div>
<div class="ttc" id="ut_2tlist_8c_html_a21dc5b93c91d40e224e7bb5fc98016eb"><div class="ttname"><a href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a></div><div class="ttdeci">static struct foo * obj</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc9/ut_2tlist_8c_source.html#l00302">tlist.c:302</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_af9bdc3014f3d54c426b6d2df10de4960a02278c64c4a4318bce669a93391760c3"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#af9bdc3014f3d54c426b6d2df10de4960a02278c64c4a4318bce669a93391760c3">THREADS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00444">storage.c:444</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_ae01f83c0db62232963d563c132709d38"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#ae01f83c0db62232963d563c132709d38">location</a></div><div class="ttdeci">const char * location</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00050">storage.c:50</a></div></div>
<div class="ttc" id="m0t1fs_2linux__kernel_2dir_8c_html_ae3831fffc49e626dd50da5fa40537d3e"><div class="ttname"><a href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#ae3831fffc49e626dd50da5fa40537d3e">body</a></div><div class="ttdeci">struct m0_fop_cob * body</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c_source.html#l01436">dir.c:1436</a></div></div>
<div class="ttc" id="structm0__addb2__trace__obj_html_a9cf9ed0fc31914dca204aeca6b48f7c0"><div class="ttname"><a href="../../db/d51/structm0__addb2__trace__obj.html#a9cf9ed0fc31914dca204aeca6b48f7c0">m0_addb2_trace_obj::o_tr</a></div><div class="ttdeci">struct m0_addb2_trace o_tr</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d66/addb2_2addb2_8h_source.html#l00451">addb2.h:451</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_af9bdc3014f3d54c426b6d2df10de4960ac415dd9ea3a56ec2f64c410958fcdbe4"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#af9bdc3014f3d54c426b6d2df10de4960ac415dd9ea3a56ec2f64c410958fcdbe4">OUTER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00444">storage.c:444</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_ad87c36efc8fa8516dbdff00b27c88363"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#ad87c36efc8fa8516dbdff00b27c88363">read_many</a></div><div class="ttdeci">static void read_many(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00323">storage.c:323</a></div></div>
<div class="ttc" id="addb2_2addb2_8h_html"><div class="ttname"><a href="../../d7/d66/addb2_2addb2_8h.html">addb2.h</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_adcaf569693529bf65f6d8cc5c80b2a48"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#adcaf569693529bf65f6d8cc5c80b2a48">stor_init</a></div><div class="ttdeci">static void stor_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00171">storage.c:171</a></div></div>
<div class="ttc" id="m0t1fs_2linux__kernel_2dir_8c_html_a7e98b8a17c0aad30ba64d47b74e2a6c1"><div class="ttname"><a href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c_source.html#l01033">dir.c:1033</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a2f6f07574cec1979c3651231433defd3"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a2f6f07574cec1979c3651231433defd3">fini_io</a></div><div class="ttdeci">static void fini_io(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00483">storage.c:483</a></div></div>
<div class="ttc" id="addb2_2storage_8h_html"><div class="ttname"><a href="../../df/d92/addb2_2storage_8h.html">storage.h</a></div></div>
<div class="ttc" id="group__stob_html_ggaa7f44fcbd3117c4e779bcd5ce05f5eb0ab31c388ce0c445b4f28e23d0ed029a2f"><div class="ttname"><a href="../../d9/d6a/group__stob.html#ggaa7f44fcbd3117c4e779bcd5ce05f5eb0ab31c388ce0c445b4f28e23d0ed029a2f">CSS_EXISTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dc9/stob_2stob_8h_source.html#l00089">stob.h:89</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a85299582aba681102630e6c9dc2a28ea"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a85299582aba681102630e6c9dc2a28ea">test_submit</a></div><div class="ttdeci">static int test_submit(const struct m0_addb2_mach *m, struct m0_addb2_trace *t)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00160">storage.c:160</a></div></div>
<div class="ttc" id="group__addb2_html_gadc4647d6cc4fff779ca2c152431357ba"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#gadc4647d6cc4fff779ca2c152431357ba">m0_addb2_storage_fini</a></div><div class="ttdeci">M0_INTERNAL void m0_addb2_storage_fini(struct m0_addb2_storage *stor)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d59/kaddb2_8c_source.html#l00063">kaddb2.c:63</a></div></div>
<div class="ttc" id="structm0__addb2__storage_html"><div class="ttname"><a href="../../db/dd7/structm0__addb2__storage.html">m0_addb2_storage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d72/addb2_2storage_8c_source.html#l00151">storage.c:151</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_aaf105ae5beaca1dee30ae54530691fcea4aa71180778b711338785695df5d7c52"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#aaf105ae5beaca1dee30ae54530691fcea4aa71180778b711338785695df5d7c52">SIZE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00047">storage.c:47</a></div></div>
<div class="ttc" id="group__addb2_html_ga18ea645de625e53540973ac825509463"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#ga18ea645de625e53540973ac825509463">VAL</a></div><div class="ttdeci">#define VAL(id,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5e/addb2_2ut_2common_8h_source.html#l00062">common.h:62</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_aa408e9a8a907723fc5f6f846d6bf0dd3"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#aa408e9a8a907723fc5f6f846d6bf0dd3">wrap</a></div><div class="ttdeci">static void wrap(int n)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00377">storage.c:377</a></div></div>
<div class="ttc" id="group__addb2_html_ga6fc4a9312d0b93be87453a6abcd17bb6"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#ga6fc4a9312d0b93be87453a6abcd17bb6">m0_addb2_push</a></div><div class="ttdeci">void m0_addb2_push(uint64_t id, int n, const uint64_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da1/addb2_8c_source.html#l00412">addb2.c:412</a></div></div>
<div class="ttc" id="lib_2misc_8h_html_a52a2298f85ca045ab4c515c793a7dd43"><div class="ttname"><a href="../../df/d2a/lib_2misc_8h.html#a52a2298f85ca045ab4c515c793a7dd43">M0_AMB</a></div><div class="ttdeci">#define M0_AMB(obj, ptr, field)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2a/lib_2misc_8h_source.html#l00320">misc.h:320</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a67c9c3d2b95f51c6b53fed38de8cb61d"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a67c9c3d2b95f51c6b53fed38de8cb61d">submit_one</a></div><div class="ttdeci">static void submit_one(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00202">storage.c:202</a></div></div>
<div class="ttc" id="group__addb2_html_ggadc29c2ff13d900c2f185ee95427fb06caa6940acaf817ec626a3aefe2a3603619"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#ggadc29c2ff13d900c2f185ee95427fb06caa6940acaf817ec626a3aefe2a3603619">M0_ADDB2_LABEL_MAX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d82/consumer_8h_source.html#l00095">consumer.h:95</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_afb3547e32d89b6f6171658e8bf5f6802"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#afb3547e32d89b6f6171658e8bf5f6802">sit</a></div><div class="ttdeci">static struct m0_addb2_sit * sit</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00040">storage.c:40</a></div></div>
<div class="ttc" id="group__addb2_html_ga55a2474a3559026d7efbd9727501ea45"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#ga55a2474a3559026d7efbd9727501ea45">idle</a></div><div class="ttdeci">void(* idle)(const struct m0_addb2_mach *mach)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/addb2_2ut_2common_8c_source.html#l00034">common.c:34</a></div></div>
<div class="ttc" id="structm0__addb2__mach_html"><div class="ttname"><a href="../../de/d7f/structm0__addb2__mach.html">m0_addb2_mach</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da1/addb2_8c_source.html#l00231">addb2.c:231</a></div></div>
<div class="ttc" id="structm0__stob_html"><div class="ttname"><a href="../../d1/d0a/structm0__stob.html">m0_stob</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dc9/stob_2stob_8h_source.html#l00163">stob.h:163</a></div></div>
<div class="ttc" id="structm0__stob__id_html"><div class="ttname"><a href="../../d7/ddd/structm0__stob__id.html">m0_stob_id</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dc9/stob_2stob_8h_source.html#l00101">stob.h:101</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a88229f8e0efdd14faf753547c8dcd9a9"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a88229f8e0efdd14faf753547c8dcd9a9">stob</a></div><div class="ttdeci">static struct m0_stob * stob</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00039">storage.c:39</a></div></div>
<div class="ttc" id="structm0__addb2__trace__obj_html"><div class="ttname"><a href="../../db/d51/structm0__addb2__trace__obj.html">m0_addb2_trace_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d66/addb2_2addb2_8h_source.html#l00449">addb2.h:449</a></div></div>
<div class="ttc" id="assert_8h_html_ac8bebb1ebb72c1dae891a1a1c24e7aec"><div class="ttname"><a href="../../dc/da7/assert_8h.html#ac8bebb1ebb72c1dae891a1a1c24e7aec">M0_ASSERT</a></div><div class="ttdeci">#define M0_ASSERT(cond)</div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a37622254621520b649e871f4d53bcb21"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a37622254621520b649e871f4d53bcb21">stob_put</a></div><div class="ttdeci">static void stob_put(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00069">storage.c:69</a></div></div>
<div class="ttc" id="group__addb2_html_ga51a3fd60cb21d2779c485482251f2612"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#ga51a3fd60cb21d2779c485482251f2612">m0_addb2_mach_stop</a></div><div class="ttdeci">void m0_addb2_mach_stop(struct m0_addb2_mach *mach)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da1/addb2_8c_source.html#l00630">addb2.c:630</a></div></div>
<div class="ttc" id="structm0__addb2__frame__header_html_a4955df732220183c6d3fff2ff10da52e"><div class="ttname"><a href="../../d0/d76/structm0__addb2__frame__header.html#a4955df732220183c6d3fff2ff10da52e">m0_addb2_frame_header::he_offset</a></div><div class="ttdeci">uint64_t he_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d92/addb2_2storage_8h_source.html#l00134">storage.h:134</a></div></div>
<div class="ttc" id="group__addb2_html_gga089000905761a0b2766d4aea1689d0dea6d355061c68a33c8c304d1ceec404461"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#gga089000905761a0b2766d4aea1689d0dea6d355061c68a33c8c304d1ceec404461">M0_AVI_EXTERNAL_RANGE_4</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da7/identifier_8h_source.html#l00128">identifier.h:128</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_ad34f1d79b4ccb7629be2f03451b258d1"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#ad34f1d79b4ccb7629be2f03451b258d1">check_one</a></div><div class="ttdeci">static void check_one(const struct m0_addb2_record *rec)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00300">storage.c:300</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_afcda4134ad2754ddc446ea500fd8d9f8"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#afcda4134ad2754ddc446ea500fd8d9f8">frame_fill</a></div><div class="ttdeci">static void frame_fill(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00354">storage.c:354</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a9f6e3ec3610e38fbeeae1f4be82180ce"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a9f6e3ec3610e38fbeeae1f4be82180ce">once_idle</a></div><div class="ttdeci">static void once_idle(struct m0_addb2_storage *_stor)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00083">storage.c:83</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a6b7b47dd702d9e331586d485013fd1eaabfaeccb8ac6d8070a096bd833aed6972"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a6b7b47dd702d9e331586d485013fd1eaabfaeccb8ac6d8070a096bd833aed6972">NR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00317">storage.c:317</a></div></div>
<div class="ttc" id="group__cas_html_ga5d544e7766a9ca095a37614378c444f0"><div class="ttname"><a href="../../d4/d44/group__cas.html#ga5d544e7766a9ca095a37614378c444f0">t</a></div><div class="ttdeci">static struct m0_thread t[8]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d09/cas_2ut_2service__ut_8c_source.html#l01230">service_ut.c:1230</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_adac8905d9532026b9eefb4428db4a1eb"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#adac8905d9532026b9eefb4428db4a1eb">read_one</a></div><div class="ttdeci">static void read_one(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00223">storage.c:223</a></div></div>
<div class="ttc" id="group__thread_html_ga2a9d1d0b44cfa91b6fd83f66d2f4fc00"><div class="ttname"><a href="../../da/dd8/group__thread.html#ga2a9d1d0b44cfa91b6fd83f66d2f4fc00">m0_thread_fini</a></div><div class="ttdeci">void m0_thread_fini(struct m0_thread *q)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de7/thread_8c_source.html#l00092">thread.c:92</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a6b9f7e6115c241d0a8ea3087490f1043"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a6b9f7e6115c241d0a8ea3087490f1043">dom</a></div><div class="ttdeci">static struct m0_stob_domain * dom</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00038">storage.c:38</a></div></div>
<div class="ttc" id="group__stob_html_ga73edd9e177abafdf4b508ffb2b467218"><div class="ttname"><a href="../../d9/d6a/group__stob.html#ga73edd9e177abafdf4b508ffb2b467218">m0_stob_id_make</a></div><div class="ttdeci">M0_INTERNAL void m0_stob_id_make(uint64_t container, uint64_t key, const struct m0_fid *dom_id, struct m0_stob_id *stob_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/stob_2stob_8c_source.html#l00343">stob.c:343</a></div></div>
<div class="ttc" id="group__addb2_html_ga698f495e2bbbe62d611bf68a9d857efc"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#ga698f495e2bbbe62d611bf68a9d857efc">m0_addb2_sit_init</a></div><div class="ttdeci">int m0_addb2_sit_init(struct m0_addb2_sit **out, struct m0_stob *stob, m0_bindex_t start)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1f/sit_8c_source.html#l00108">sit.c:108</a></div></div>
<div class="ttc" id="group__semaphore_html_gafd41b84576d421f207cccf02190ca3ad"><div class="ttname"><a href="../../d1/d5d/group__semaphore.html#gafd41b84576d421f207cccf02190ca3ad">m0_semaphore_init</a></div><div class="ttdeci">M0_INTERNAL int m0_semaphore_init(struct m0_semaphore *semaphore, unsigned value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d96/linux__kernel_2semaphore_8c_source.html#l00038">semaphore.c:38</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_acde3a36d9b0582ab7fcb5f5cbba98d9e"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#acde3a36d9b0582ab7fcb5f5cbba98d9e">PAYLOAD</a></div><div class="ttdeci">#define PAYLOAD(seq)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00264">storage.c:264</a></div></div>
<div class="ttc" id="structm0__addb2__record_html_a87a8bcff14793fb30a7b2a374c0c0f6d"><div class="ttname"><a href="../../d1/ddf/structm0__addb2__record.html#a87a8bcff14793fb30a7b2a374c0c0f6d">m0_addb2_record::ar_label</a></div><div class="ttdeci">struct m0_addb2_value ar_label[M0_ADDB2_LABEL_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d82/consumer_8h_source.html#l00118">consumer.h:118</a></div></div>
<div class="ttc" id="structm0__thread_html"><div class="ttname"><a href="../../d1/d67/structm0__thread.html">m0_thread</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/thread_8h_source.html#l00110">thread.h:110</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a31123ad6765f610aa2cb41df68aa5aee"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a31123ad6765f610aa2cb41df68aa5aee">committed</a></div><div class="ttdeci">static unsigned committed</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00092">storage.c:92</a></div></div>
<div class="ttc" id="group__addb2_html_ga17cd66fdd775ff663f67e474c1a5d404"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#ga17cd66fdd775ff663f67e474c1a5d404">receq</a></div><div class="ttdeci">bool receq(const struct m0_addb2_record *r0, const struct small_record *r1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/addb2_2ut_2common_8c_source.html#l00134">common.c:134</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a9d6e0185c55aad06026c72f649065ad6"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a9d6e0185c55aad06026c72f649065ad6">test_ops</a></div><div class="ttdeci">static const struct m0_addb2_storage_ops test_ops</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00145">storage.c:145</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a5fb9a384419d173dde14b6049b10f08c"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a5fb9a384419d173dde14b6049b10f08c">write_init_fini</a></div><div class="ttdeci">static void write_init_fini(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00104">storage.c:104</a></div></div>
<div class="ttc" id="group__addb2_html_ga13ae1b932a6367943b24526db4de199b"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#ga13ae1b932a6367943b24526db4de199b">m0_addb2_add</a></div><div class="ttdeci">void m0_addb2_add(uint64_t id, int n, const uint64_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da1/addb2_8c_source.html#l00466">addb2.c:466</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a2023bcaa97027c51be3b37d0e9757539"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a2023bcaa97027c51be3b37d0e9757539">write_many</a></div><div class="ttdeci">static void write_many(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00209">storage.c:209</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_ab9f02989ed8aa354ccf8aa080bb48c03"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#ab9f02989ed8aa354ccf8aa080bb48c03">test_done</a></div><div class="ttdeci">static void test_done(struct m0_addb2_storage *_stor, struct m0_addb2_trace_obj *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00130">storage.c:130</a></div></div>
<div class="ttc" id="internal_8h_html"><div class="ttname"><a href="../../db/dde/internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="structsmall__record_html"><div class="ttname"><a href="../../d3/de4/structsmall__record.html">small_record</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5e/addb2_2ut_2common_8h_source.html#l00056">common.h:56</a></div></div>
<div class="ttc" id="structm0__addb2__storage__ops_html"><div class="ttname"><a href="../../d2/d7a/structm0__addb2__storage__ops.html">m0_addb2_storage_ops</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d92/addb2_2storage_8h_source.html#l00069">storage.h:69</a></div></div>
<div class="ttc" id="group__addb2_html_gga089000905761a0b2766d4aea1689d0dea92143f96007627acec9821e5f5dc7f55"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#gga089000905761a0b2766d4aea1689d0dea92143f96007627acec9821e5f5dc7f55">M0_AVI_EXTERNAL_RANGE_1</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da7/identifier_8h_source.html#l00125">identifier.h:125</a></div></div>
<div class="ttc" id="group__addb2_html_gafb6568c6a2a4e6accba9e327925e94c2"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#gafb6568c6a2a4e6accba9e327925e94c2">mach_set</a></div><div class="ttdeci">struct m0_addb2_mach * mach_set(int(*s)(const struct m0_addb2_mach *, struct m0_addb2_trace *))</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/addb2_2ut_2common_8c_source.html#l00065">common.c:65</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_af8b1633a6844b53691ef39ec539bb83f"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#af8b1633a6844b53691ef39ec539bb83f">pump_start</a></div><div class="ttdeci">static struct m0_semaphore pump_start</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00446">storage.c:446</a></div></div>
<div class="ttc" id="group__addb2_html_gaf54729605f3d1cb7995f4c10df8ad238"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#gaf54729605f3d1cb7995f4c10df8ad238">m0_addb2_pop</a></div><div class="ttdeci">void m0_addb2_pop(uint64_t id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da1/addb2_8c_source.html#l00440">addb2.c:440</a></div></div>
<div class="ttc" id="lib_2misc_8h_html_a70993fc357f576c5a7d2ac4b7f4f35c5"><div class="ttname"><a href="../../df/d2a/lib_2misc_8h.html#a70993fc357f576c5a7d2ac4b7f4f35c5">m0_forall</a></div><div class="ttdeci">#define m0_forall(var, nr,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2a/lib_2misc_8h_source.html#l00112">misc.h:112</a></div></div>
<div class="ttc" id="structm0__stob__domain_html_a99a5f1eadbc6b92303ad096051d088cb"><div class="ttname"><a href="../../dc/d61/structm0__stob__domain.html#a99a5f1eadbc6b92303ad096051d088cb">m0_stob_domain::sd_id</a></div><div class="ttdeci">struct m0_fid sd_id</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da1/stob_2domain_8h_source.html#l00096">domain.h:96</a></div></div>
<div class="ttc" id="structm0__ut__suite_html_a0036d25e039fa6eb1d910416ab5a9ef1"><div class="ttname"><a href="../../da/d59/structm0__ut__suite.html#a0036d25e039fa6eb1d910416ab5a9ef1">m0_ut_suite::ts_name</a></div><div class="ttdeci">const char * ts_name</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddc/ut_8h_source.html#l00099">ut.h:99</a></div></div>
<div class="ttc" id="group__stob_html_ga4bb31cbb2cf86bb5a2861b4617751a93"><div class="ttname"><a href="../../d9/d6a/group__stob.html#ga4bb31cbb2cf86bb5a2861b4617751a93">m0_stob_destroy</a></div><div class="ttdeci">M0_INTERNAL int m0_stob_destroy(struct m0_stob *stob, struct m0_dtx *dtx)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/stob_2stob_8c_source.html#l00200">stob.c:200</a></div></div>
<div class="ttc" id="consumer_8h_html"><div class="ttname"><a href="../../d4/d82/consumer_8h.html">consumer.h</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a80155586fa275b28773c9b203f52cabaa184335da0677a7bd010146af3e69066c"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a80155586fa275b28773c9b203f52cabaa184335da0677a7bd010146af3e69066c">DEPTH_MAX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00280">storage.c:280</a></div></div>
<div class="ttc" id="rpc_2ut_2fops_8h_html_a27700a99892b7d9ae8741a462791ef78"><div class="ttname"><a href="../../d6/d69/rpc_2ut_2fops_8h.html#a27700a99892b7d9ae8741a462791ef78">n</a></div><div class="ttdeci">uint64_t n</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d69/rpc_2ut_2fops_8h_source.html#l00107">fops.h:107</a></div></div>
<div class="ttc" id="group__stob_html_gaf70b93d1beacd1e8edbaf11f78e083e6"><div class="ttname"><a href="../../d9/d6a/group__stob.html#gaf70b93d1beacd1e8edbaf11f78e083e6">m0_stob_state_get</a></div><div class="ttdeci">M0_INTERNAL enum m0_stob_state m0_stob_state_get(struct m0_stob *stob)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/stob_2stob_8c_source.html#l00265">stob.c:265</a></div></div>
<div class="ttc" id="semaphore_8h_html"><div class="ttname"><a href="../../d6/dc6/semaphore_8h.html">semaphore.h</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_af92ef4c665e86e05599037e1afc70c49"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#af92ef4c665e86e05599037e1afc70c49">context_clean</a></div><div class="ttdeci">static void context_clean(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00367">storage.c:367</a></div></div>
<div class="ttc" id="group__addb2_html_ga8e8e54e49f4d435b5d097cf22e010005"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#ga8e8e54e49f4d435b5d097cf22e010005">m0_addb2_storage_init</a></div><div class="ttdeci">M0_INTERNAL struct m0_addb2_storage * m0_addb2_storage_init(const char *location, uint64_t key, bool mkfs, bool force, const struct m0_addb2_storage_ops *ops, m0_bcount_t size, void *cookie)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d59/kaddb2_8c_source.html#l00042">kaddb2.c:42</a></div></div>
<div class="ttc" id="group__stob_html_ga4d33b373ff45ebb8b6b227f878108bd9"><div class="ttname"><a href="../../d9/d6a/group__stob.html#ga4d33b373ff45ebb8b6b227f878108bd9">m0_stob_domain_init</a></div><div class="ttdeci">M0_INTERNAL int m0_stob_domain_init(const char *location, const char *str_cfg_init, struct m0_stob_domain **out)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/db4/stob_2domain_8c_source.html#l00195">domain.c:195</a></div></div>
<div class="ttc" id="group__addb2_html_gab2110155faff378094304be7d072f61e"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#gab2110155faff378094304be7d072f61e">m0_addb2_sit_next</a></div><div class="ttdeci">int m0_addb2_sit_next(struct m0_addb2_sit *it, struct m0_addb2_record **out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1f/sit_8c_source.html#l00148">sit.c:148</a></div></div>
<div class="ttc" id="lib_2misc_8h_html"><div class="ttname"><a href="../../df/d2a/lib_2misc_8h.html">misc.h</a></div></div>
<div class="ttc" id="structm0__addb2__record_html_a95c9c0d3c731b25ee927c34589d02b75"><div class="ttname"><a href="../../d1/ddf/structm0__addb2__record.html#a95c9c0d3c731b25ee927c34589d02b75">m0_addb2_record::ar_val</a></div><div class="ttdeci">struct m0_addb2_value ar_val</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d82/consumer_8h_source.html#l00114">consumer.h:114</a></div></div>
<div class="ttc" id="group__memory_html_ga2dd26426583fa272fa2061075e2dcf57"><div class="ttname"><a href="../../d7/ded/group__memory.html#ga2dd26426583fa272fa2061075e2dcf57">M0_ALLOC_PTR</a></div><div class="ttdeci">#define M0_ALLOC_PTR(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d18/memory_8h_source.html#l00086">memory.h:86</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a3b97f4c3e2bf8d111039a4014e3a68a5"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a3b97f4c3e2bf8d111039a4014e3a68a5">traces_submitted</a></div><div class="ttdeci">static unsigned traces_submitted</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00158">storage.c:158</a></div></div>
<div class="ttc" id="group__semaphore_html_ga591af22ea97e46e634dc4379d87e5f2f"><div class="ttname"><a href="../../d1/d5d/group__semaphore.html#ga591af22ea97e46e634dc4379d87e5f2f">m0_semaphore_fini</a></div><div class="ttdeci">M0_INTERNAL void m0_semaphore_fini(struct m0_semaphore *semaphore)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d96/linux__kernel_2semaphore_8c_source.html#l00045">semaphore.c:45</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_aee94396c9a7cf36fcdf4f1f0dcc88217"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#aee94396c9a7cf36fcdf4f1f0dcc88217">io_thread</a></div><div class="ttdeci">static void io_thread(int x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00450">storage.c:450</a></div></div>
<div class="ttc" id="structm0__addb2__value_html"><div class="ttname"><a href="../../dc/d19/structm0__addb2__value.html">m0_addb2_value</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d82/consumer_8h_source.html#l00102">consumer.h:102</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_aaf105ae5beaca1dee30ae54530691fcea9c1fb0d4a11eb857bf61bbbbb6e49f14"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#aaf105ae5beaca1dee30ae54530691fcea9c1fb0d4a11eb857bf61bbbbb6e49f14">STOB_KEY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00046">storage.c:46</a></div></div>
<div class="ttc" id="structm0__stob__domain_html"><div class="ttname"><a href="../../dc/d61/structm0__stob__domain.html">m0_stob_domain</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/da1/stob_2domain_8h_source.html#l00093">domain.h:93</a></div></div>
<div class="ttc" id="group__addb2_html_gad84119e420af0bea92d6a610321e7782"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#gad84119e420af0bea92d6a610321e7782">m0_addb2_storage_submit</a></div><div class="ttdeci">M0_INTERNAL int m0_addb2_storage_submit(struct m0_addb2_storage *stor, struct m0_addb2_trace_obj *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d59/kaddb2_8c_source.html#l00050">kaddb2.c:50</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_acd0227cf1bb196d7438a43c22a9ff900"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#acd0227cf1bb196d7438a43c22a9ff900">stor_fini</a></div><div class="ttdeci">static void stor_fini(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00187">storage.c:187</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_ae035fecc8085486c858e05ac656c4119"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#ae035fecc8085486c858e05ac656c4119">idled</a></div><div class="ttdeci">static bool idled</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00081">storage.c:81</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_aa96804286cd7e38c5da993b7f1845ee6"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#aa96804286cd7e38c5da993b7f1845ee6">checked</a></div><div class="ttdeci">static unsigned checked</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00298">storage.c:298</a></div></div>
<div class="ttc" id="group__addb2_html_ga1eb1669da6b053d74f0029b286b74fe6"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#ga1eb1669da6b053d74f0029b286b74fe6">valeq</a></div><div class="ttdeci">bool valeq(const struct m0_addb2_value *v0, const struct m0_addb2_value *v1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/addb2_2ut_2common_8c_source.html#l00127">common.c:127</a></div></div>
<div class="ttc" id="group__addb2_html_gga089000905761a0b2766d4aea1689d0dea1a98659f944f618610c23400a6ad1537"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#gga089000905761a0b2766d4aea1689d0dea1a98659f944f618610c23400a6ad1537">M0_AVI_SIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da7/identifier_8h_source.html#l00148">identifier.h:148</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a25d3bdbf732e435ff42ffd92a284bea7"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a25d3bdbf732e435ff42ffd92a284bea7">idlewait</a></div><div class="ttdeci">static struct m0_semaphore idlewait</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00090">storage.c:90</a></div></div>
<div class="ttc" id="group__stob_html_gaa6b83e28f137dbf105b2879f854e28fa"><div class="ttname"><a href="../../d9/d6a/group__stob.html#gaa6b83e28f137dbf105b2879f854e28fa">m0_stob_find</a></div><div class="ttdeci">M0_INTERNAL int m0_stob_find(const struct m0_stob_id *id, struct m0_stob **out)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/stob_2stob_8c_source.html#l00092">stob.c:92</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_af256c3357802eda832b073763eaed554"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#af256c3357802eda832b073763eaed554">addb2_storage_ut</a></div><div class="ttdeci">struct m0_ut_suite addb2_storage_ut</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00526">storage.c:526</a></div></div>
<div class="ttc" id="stob_2stob_8h_html"><div class="ttname"><a href="../../d5/dc9/stob_2stob_8h.html">stob.h</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a28b8d21e1f72392c52059e6850e8c906"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a28b8d21e1f72392c52059e6850e8c906">stob_get</a></div><div class="ttdeci">static void stob_get(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00052">storage.c:52</a></div></div>
<div class="ttc" id="structm0__addb2__frame__header_html"><div class="ttname"><a href="../../d0/d76/structm0__addb2__frame__header.html">m0_addb2_frame_header</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d92/addb2_2storage_8h_source.html#l00131">storage.h:131</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_aa195dadf0a13af092bd974c517f76f66"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#aa195dadf0a13af092bd974c517f76f66">done</a></div><div class="ttdeci">static unsigned done</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00091">storage.c:91</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_ae4ac040993868a663b00662aab831098"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#ae4ac040993868a663b00662aab831098">wrap1</a></div><div class="ttdeci">static void wrap1(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00415">storage.c:415</a></div></div>
<div class="ttc" id="group__semaphore_html_ga13cc25845a0d00f79cc3397e12881c76"><div class="ttname"><a href="../../d1/d5d/group__semaphore.html#ga13cc25845a0d00f79cc3397e12881c76">m0_semaphore_down</a></div><div class="ttdeci">M0_INTERNAL void m0_semaphore_down(struct m0_semaphore *semaphore)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d96/linux__kernel_2semaphore_8c_source.html#l00049">semaphore.c:49</a></div></div>
<div class="ttc" id="group__semaphore_html_gaec2688b125e30e354e0d388c6381b81d"><div class="ttname"><a href="../../d1/d5d/group__semaphore.html#gaec2688b125e30e354e0d388c6381b81d">m0_semaphore_up</a></div><div class="ttdeci">M0_INTERNAL void m0_semaphore_up(struct m0_semaphore *semaphore)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d96/linux__kernel_2semaphore_8c_source.html#l00065">semaphore.c:65</a></div></div>
<div class="ttc" id="group__io__foms_html_gae1f1a711ed63882d5ee2131824e2d9ff"><div class="ttname"><a href="../../d9/dc2/group__io__foms.html#gae1f1a711ed63882d5ee2131824e2d9ff">ops</a></div><div class="ttdeci">struct m0_fom_ops ops</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d05/io__foms_8c_source.html#l00623">io_foms.c:623</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a933a766713ee600cc40c33cde8e347d5"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a933a766713ee600cc40c33cde8e347d5">issued</a></div><div class="ttdeci">static unsigned issued</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00262">storage.c:262</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a25a5f61deee9231f00ef9bd410b8abe1"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a25a5f61deee9231f00ef9bd410b8abe1">wrap7</a></div><div class="ttdeci">static void wrap7(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00439">storage.c:439</a></div></div>
<div class="ttc" id="group__memory_html_ga0b8533a3024754008602759e71337eb3"><div class="ttname"><a href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3">m0_free</a></div><div class="ttdeci">void m0_free(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd5/memory_8c_source.html#l00146">memory.c:146</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a5912f7a2b6b37967adccb642cfce1b18"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a5912f7a2b6b37967adccb642cfce1b18">mach_idle</a></div><div class="ttdeci">static void mach_idle(const struct m0_addb2_mach *mach)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00153">storage.c:153</a></div></div>
<div class="ttc" id="lib_2user__space_2misc_8h_html_a25f003de16c08a4888b69f619d70f427"><div class="ttname"><a href="../../db/df8/lib_2user__space_2misc_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a></div><div class="ttdeci">#define ARRAY_SIZE(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/lib_2user__space_2misc_8h_source.html#l00045">misc.h:45</a></div></div>
<div class="ttc" id="group__ut_html_ga5062ad4c5b38438515beee63d3e8251b"><div class="ttname"><a href="../../da/db4/group__ut.html#ga5062ad4c5b38438515beee63d3e8251b">M0_UT_ASSERT</a></div><div class="ttdeci">#define M0_UT_ASSERT(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddc/ut_8h_source.html#l00046">ut.h:46</a></div></div>
<div class="ttc" id="addb2_2ut_2common_8h_html"><div class="ttname"><a href="../../d1/d5e/addb2_2ut_2common_8h.html">common.h</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_a4d12d3fe39b91315810e4c222458929c"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#a4d12d3fe39b91315810e4c222458929c">last</a></div><div class="ttdeci">static struct m0_addb2_frame_header last</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00093">storage.c:93</a></div></div>
<div class="ttc" id="base_8c_html_a62a0158f946bae72edd7b49d7b60bd64"><div class="ttname"><a href="../../dc/de2/base_8c.html#a62a0158f946bae72edd7b49d7b60bd64">payload</a></div><div class="ttdeci">const uint64_t payload[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de2/base_8c_source.html#l00065">base.c:65</a></div></div>
<div class="ttc" id="structm0__addb2__record_html"><div class="ttname"><a href="../../d1/ddf/structm0__addb2__record.html">m0_addb2_record</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d82/consumer_8h_source.html#l00112">consumer.h:112</a></div></div>
<div class="ttc" id="group__addb2_html_gadb6207be602ace9fa824f02adb6d99ee"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#gadb6207be602ace9fa824f02adb6d99ee">m0_addb2_sit_fini</a></div><div class="ttdeci">void m0_addb2_sit_fini(struct m0_addb2_sit *it)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1f/sit_8c_source.html#l00139">sit.c:139</a></div></div>
<div class="ttc" id="structm0__addb2__trace_html"><div class="ttname"><a href="../../dc/d43/structm0__addb2__trace.html">m0_addb2_trace</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d66/addb2_2addb2_8h_source.html#l00441">addb2.h:441</a></div></div>
<div class="ttc" id="addb2_2ut_2storage_8c_html_af9bdc3014f3d54c426b6d2df10de4960aed30e52636db1f531e6f826fd49d6773"><div class="ttname"><a href="../../dc/d74/addb2_2ut_2storage_8c.html#af9bdc3014f3d54c426b6d2df10de4960aed30e52636db1f531e6f826fd49d6773">INNER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/addb2_2ut_2storage_8c_source.html#l00444">storage.c:444</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_4f86cb98095b6d4ae06b28a702c3c48b.html">addb2</a></li><li class="navelem"><a class="el" href="../../dir_f62c69ec1f272b1973b5f4c12882a87f.html">ut</a></li><li class="navelem"><a class="el" href="../../dc/d74/addb2_2ut_2storage_8c.html">storage.c</a></li>
    <li class="footer">Generated on Thu Apr 14 2022 14:02:51 for Motr by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
