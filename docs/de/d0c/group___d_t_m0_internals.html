<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Motr: DTM0 implementation Internals</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Motr
   &#160;<span id="projectnumber">M0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('de/d0c/group___d_t_m0_internals.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">DTM0 implementation Internals</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dcd/structm0__dtm0__log__rec.html">m0_dtm0_log_rec</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga0bb61ac7b7e0816f889ee90fe4afa739"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga0bb61ac7b7e0816f889ee90fe4afa739">m0_be_dtm0_log_credit_op</a> { <br />
&#160;&#160;<a class="el" href="../../de/d0c/group___d_t_m0_internals.html#gga0bb61ac7b7e0816f889ee90fe4afa739a04dd63de5c9fa7f6a32a1a81477a986c">M0_DTML_CREATE</a>, 
<a class="el" href="../../de/d0c/group___d_t_m0_internals.html#gga0bb61ac7b7e0816f889ee90fe4afa739a255c51fd7c28c48835956a1f4871e7c0">M0_DTML_SENT</a>, 
<a class="el" href="../../de/d0c/group___d_t_m0_internals.html#gga0bb61ac7b7e0816f889ee90fe4afa739a33bae49cf2468d5b346b5dcf37cedf37">M0_DTML_EXECUTED</a>, 
<a class="el" href="../../de/d0c/group___d_t_m0_internals.html#gga0bb61ac7b7e0816f889ee90fe4afa739acc68b978d56e97f89507f3d5acc4999d">M0_DTML_PERSISTENT</a>, 
<br />
&#160;&#160;<a class="el" href="../../de/d0c/group___d_t_m0_internals.html#gga0bb61ac7b7e0816f889ee90fe4afa739a70204a3266819c6d76b1dd4035ed7eba">M0_DTML_PRUNE</a>, 
<a class="el" href="../../de/d0c/group___d_t_m0_internals.html#gga0bb61ac7b7e0816f889ee90fe4afa739a23298f8637ef43981153043634046e9b">M0_DTML_REDO</a>
<br />
 }</td></tr>
<tr class="separator:ga0bb61ac7b7e0816f889ee90fe4afa739"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga16dbe31766f190d99c396fe49f3dfdb4"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga16dbe31766f190d99c396fe49f3dfdb4">m0_be_dtm0_log_alloc</a> (struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> **log)</td></tr>
<tr class="separator:ga16dbe31766f190d99c396fe49f3dfdb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6cf18fa38c0b73023cfec5077c0e192c"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga6cf18fa38c0b73023cfec5077c0e192c">m0_be_dtm0_log_init</a> (struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *log, struct <a class="el" href="../../d4/d9b/structm0__be__seg.html">m0_be_seg</a> *<a class="el" href="../../d1/d1c/ut_2db_8c.html#a64a95d1c7674f7dcab1d8334f6c8d6b5">seg</a>, struct <a class="el" href="../../dc/d9c/structm0__dtm0__clk__src.html">m0_dtm0_clk_src</a> *cs, bool is_plog)</td></tr>
<tr class="separator:ga6cf18fa38c0b73023cfec5077c0e192c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05ae19cfc2ad4add31d03f8a5ab77451"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga05ae19cfc2ad4add31d03f8a5ab77451">m0_be_dtm0_log_fini</a> (struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *log)</td></tr>
<tr class="separator:ga05ae19cfc2ad4add31d03f8a5ab77451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96de5e607ccac4d7d0e05370a34e9c61"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga96de5e607ccac4d7d0e05370a34e9c61">m0_be_dtm0_log_free</a> (struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> **log)</td></tr>
<tr class="separator:ga96de5e607ccac4d7d0e05370a34e9c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacdfaf624e36afd93d2b40bc24cdf3954"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#gacdfaf624e36afd93d2b40bc24cdf3954">m0_be_dtm0_log_credit</a> (enum <a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga0bb61ac7b7e0816f889ee90fe4afa739">m0_be_dtm0_log_credit_op</a> <a class="el" href="../../d3/d1b/libdemo_8c.html#a99a30df0f2488360cdd46b4b88e5f5f0">op</a>, struct <a class="el" href="../../de/da0/structm0__dtm0__tx__desc.html">m0_dtm0_tx_desc</a> *txd, struct <a class="el" href="../../de/d06/structm0__buf.html">m0_buf</a> *<a class="el" href="../../d6/d7d/ut_2consumer_8c.html#a94312eb5ca2bb4d3688b0e0065fbb080">payload</a>, struct <a class="el" href="../../d4/d9b/structm0__be__seg.html">m0_be_seg</a> *<a class="el" href="../../d1/d1c/ut_2db_8c.html#a64a95d1c7674f7dcab1d8334f6c8d6b5">seg</a>, struct <a class="el" href="../../d3/dcd/structm0__dtm0__log__rec.html">m0_dtm0_log_rec</a> *rec, struct <a class="el" href="../../d0/df0/structm0__be__tx__credit.html">m0_be_tx_credit</a> *accum)</td></tr>
<tr class="separator:gacdfaf624e36afd93d2b40bc24cdf3954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ada6ad8462840b2c78dfe270f0800d0"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga9ada6ad8462840b2c78dfe270f0800d0">m0_be_dtm0_log_create</a> (struct <a class="el" href="../../d2/d7e/structm0__be__tx.html">m0_be_tx</a> *tx, struct <a class="el" href="../../d4/d9b/structm0__be__seg.html">m0_be_seg</a> *<a class="el" href="../../d1/d1c/ut_2db_8c.html#a64a95d1c7674f7dcab1d8334f6c8d6b5">seg</a>, struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> **<a class="el" href="../../dd/d6d/group__xcode.html#ga50fe33eaae68b43814656f241a6ac907">out</a>)</td></tr>
<tr class="separator:ga9ada6ad8462840b2c78dfe270f0800d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb535d6f96135934c649e029b4ec5558"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#gaeb535d6f96135934c649e029b4ec5558">m0_be_dtm0_log_destroy</a> (struct <a class="el" href="../../d2/d7e/structm0__be__tx.html">m0_be_tx</a> *tx, struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> **log)</td></tr>
<tr class="separator:gaeb535d6f96135934c649e029b4ec5558"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga872a9d11682e621c3a3a1310043d7831"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga872a9d11682e621c3a3a1310043d7831">m0_be_dtm0_log_update</a> (struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *log, struct <a class="el" href="../../d2/d7e/structm0__be__tx.html">m0_be_tx</a> *tx, struct <a class="el" href="../../de/da0/structm0__dtm0__tx__desc.html">m0_dtm0_tx_desc</a> *txd, struct <a class="el" href="../../de/d06/structm0__buf.html">m0_buf</a> *<a class="el" href="../../d6/d7d/ut_2consumer_8c.html#a94312eb5ca2bb4d3688b0e0065fbb080">payload</a>)</td></tr>
<tr class="separator:ga872a9d11682e621c3a3a1310043d7831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3672a41d2c340a18f93a380b8493dfd"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL struct <a class="el" href="../../d3/dcd/structm0__dtm0__log__rec.html">m0_dtm0_log_rec</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#gae3672a41d2c340a18f93a380b8493dfd">m0_be_dtm0_log_find</a> (struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *log, const struct <a class="el" href="../../dd/d20/structm0__dtm0__tid.html">m0_dtm0_tid</a> *<a class="el" href="../../d7/d93/mdservice_2ut_2mdstore_8c.html#af2cd62f07d171de58efd6b1e2b766c6a">id</a>)</td></tr>
<tr class="separator:gae3672a41d2c340a18f93a380b8493dfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68e3456ffc1de25e96b9e80d4c4f0ef5"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga68e3456ffc1de25e96b9e80d4c4f0ef5">m0_be_dtm0_log_prune</a> (struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *log, struct <a class="el" href="../../d2/d7e/structm0__be__tx.html">m0_be_tx</a> *tx, const struct <a class="el" href="../../dd/d20/structm0__dtm0__tid.html">m0_dtm0_tid</a> *<a class="el" href="../../d7/d93/mdservice_2ut_2mdstore_8c.html#af2cd62f07d171de58efd6b1e2b766c6a">id</a>)</td></tr>
<tr class="separator:ga68e3456ffc1de25e96b9e80d4c4f0ef5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga882842ba941e09db7efa4b3d6d886d09"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga882842ba941e09db7efa4b3d6d886d09">m0_be_dtm0_plog_can_prune</a> (struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *log, const struct <a class="el" href="../../dd/d20/structm0__dtm0__tid.html">m0_dtm0_tid</a> *<a class="el" href="../../d7/d93/mdservice_2ut_2mdstore_8c.html#af2cd62f07d171de58efd6b1e2b766c6a">id</a>, struct <a class="el" href="../../d0/df0/structm0__be__tx__credit.html">m0_be_tx_credit</a> *cred)</td></tr>
<tr class="separator:ga882842ba941e09db7efa4b3d6d886d09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e44c21f5dc0bec803c9574157d522fa"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga5e44c21f5dc0bec803c9574157d522fa">m0_be_dtm0_plog_prune</a> (struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *log, struct <a class="el" href="../../d2/d7e/structm0__be__tx.html">m0_be_tx</a> *tx, const struct <a class="el" href="../../dd/d20/structm0__dtm0__tid.html">m0_dtm0_tid</a> *<a class="el" href="../../d7/d93/mdservice_2ut_2mdstore_8c.html#af2cd62f07d171de58efd6b1e2b766c6a">id</a>)</td></tr>
<tr class="separator:ga5e44c21f5dc0bec803c9574157d522fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c63b760ce5abb3ee399e7e2262bd509"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga1c63b760ce5abb3ee399e7e2262bd509">m0_be_dtm0_log_clear</a> (struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *log)</td></tr>
<tr class="separator:ga1c63b760ce5abb3ee399e7e2262bd509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95d33f40101e89bc27009b34af408e95"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga95d33f40101e89bc27009b34af408e95">m0_be_dtm0_volatile_log_insert</a> (struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *log, struct <a class="el" href="../../d3/dcd/structm0__dtm0__log__rec.html">m0_dtm0_log_rec</a> *rec)</td></tr>
<tr class="separator:ga95d33f40101e89bc27009b34af408e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55745cf43945907c9eeb1c1e6ea1bd50"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga55745cf43945907c9eeb1c1e6ea1bd50">m0_be_dtm0_volatile_log_update</a> (struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *log, struct <a class="el" href="../../d3/dcd/structm0__dtm0__log__rec.html">m0_dtm0_log_rec</a> *rec)</td></tr>
<tr class="separator:ga55745cf43945907c9eeb1c1e6ea1bd50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac498db87e35e8844883e4150794533cb"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#gac498db87e35e8844883e4150794533cb">m0_be_dtm0_log_pmsg_post</a> (struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *log, struct <a class="el" href="../../d5/d01/structm0__fop.html">m0_fop</a> *<a class="el" href="../../d9/dbf/ut_2item_8c.html#aa6954df11aaf0bcf90cf350315b8c544">fop</a>)</td></tr>
<tr class="separator:gac498db87e35e8844883e4150794533cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h1><a class="anchor" id="This"></a>
section describes the dtm0 log related enumerations and structures.</h1>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga0bb61ac7b7e0816f889ee90fe4afa739"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0bb61ac7b7e0816f889ee90fe4afa739">&#9670;&nbsp;</a></span>m0_be_dtm0_log_credit_op</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga0bb61ac7b7e0816f889ee90fe4afa739">m0_be_dtm0_log_credit_op</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><b>m0_be_dtm0_log_credit_op</b> enum</p>
<p>DTM0 persistent log is implemented on top of be modules and uses be_list for storing the log records. m0_be_dtm0_log_credit_op is an enumeration of the operation codes that can be specified to obtain credits for performing the corresponding operation related to dtm0_log. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga0bb61ac7b7e0816f889ee90fe4afa739a04dd63de5c9fa7f6a32a1a81477a986c"></a>M0_DTML_CREATE&#160;</td><td class="fielddoc"><p><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga9ada6ad8462840b2c78dfe270f0800d0">m0_be_dtm0_log_create()</a> </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0bb61ac7b7e0816f889ee90fe4afa739a255c51fd7c28c48835956a1f4871e7c0"></a>M0_DTML_SENT&#160;</td><td class="fielddoc"><p><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga872a9d11682e621c3a3a1310043d7831">m0_be_dtm0_log_update()</a> </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0bb61ac7b7e0816f889ee90fe4afa739a33bae49cf2468d5b346b5dcf37cedf37"></a>M0_DTML_EXECUTED&#160;</td><td class="fielddoc"><p><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga872a9d11682e621c3a3a1310043d7831">m0_be_dtm0_log_update()</a> </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0bb61ac7b7e0816f889ee90fe4afa739acc68b978d56e97f89507f3d5acc4999d"></a>M0_DTML_PERSISTENT&#160;</td><td class="fielddoc"><p><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga872a9d11682e621c3a3a1310043d7831">m0_be_dtm0_log_update()</a> </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0bb61ac7b7e0816f889ee90fe4afa739a70204a3266819c6d76b1dd4035ed7eba"></a>M0_DTML_PRUNE&#160;</td><td class="fielddoc"><p><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga68e3456ffc1de25e96b9e80d4c4f0ef5">m0_be_dtm0_log_prune()</a> </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0bb61ac7b7e0816f889ee90fe4afa739a23298f8637ef43981153043634046e9b"></a>M0_DTML_REDO&#160;</td><td class="fielddoc"><p><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga872a9d11682e621c3a3a1310043d7831">m0_be_dtm0_log_update()</a> </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d3/d2d/dtm0__log_8h_source.html#l00141">141</a> of file <a class="el" href="../../d3/d2d/dtm0__log_8h_source.html">dtm0_log.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga16dbe31766f190d99c396fe49f3dfdb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga16dbe31766f190d99c396fe49f3dfdb4">&#9670;&nbsp;</a></span>m0_be_dtm0_log_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL int m0_be_dtm0_log_alloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> **&#160;</td>
          <td class="paramname"><em>out</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><b>Typical</b> call flow for calling DTM0 log interface routines:</p>
<p>** Initialisation/Finalisation for volatile fields of the log ** Create a persistent log or just allocate a volatile (in-memory) log m0_be_dtm0_log_create / m0_be_dtm0_log_alloc</p><ul>
<li><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga6cf18fa38c0b73023cfec5077c0e192c">m0_be_dtm0_log_init()</a> ** Preparation phase</li>
<li><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#gacdfaf624e36afd93d2b40bc24cdf3954">m0_be_dtm0_log_credit()</a> ** Normal operation phase</li>
<li><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga872a9d11682e621c3a3a1310043d7831">m0_be_dtm0_log_update()</a></li>
<li><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga68e3456ffc1de25e96b9e80d4c4f0ef5">m0_be_dtm0_log_prune()</a></li>
<li><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#gae3672a41d2c340a18f93a380b8493dfd">m0_be_dtm0_log_find()</a> Allocate an <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a>. This call will allocate a dtm0 volatile log. We need to call this routine once before we can perform any operations on .</li>
</ul>
<dl class="section pre"><dt>Precondition</dt><dd>log != NULL. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>*log is allocated and ready to be initialized.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td>Pointer to variable in which to return the allocate memory address.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. Anything else is a failure.</dd></dl>
<p>Allocate memory for a dtm0 volatile log structure. </p>

<p class="definition">Definition at line <a class="el" href="../../db/de1/dtm0__log_8c_source.html#l00070">70</a> of file <a class="el" href="../../db/de1/dtm0__log_8c_source.html">dtm0_log.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga16dbe31766f190d99c396fe49f3dfdb4_cgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga16dbe31766f190d99c396fe49f3dfdb4_cgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga16dbe31766f190d99c396fe49f3dfdb4_cgraph" id="de/d0c/group___d_t_m0_internals_ga16dbe31766f190d99c396fe49f3dfdb4_cgraph">
<area shape="rect" id="node2" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="208,5,284,32"/>
<area shape="rect" id="node3" href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3" title="m0_free" alt="" coords="211,56,281,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga16dbe31766f190d99c396fe49f3dfdb4_icgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga16dbe31766f190d99c396fe49f3dfdb4_icgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga16dbe31766f190d99c396fe49f3dfdb4_icgraph" id="de/d0c/group___d_t_m0_internals_ga16dbe31766f190d99c396fe49f3dfdb4_icgraph">
<area shape="rect" id="node2" href="../../d1/da8/dtm0_2service_8c.html#a8f141e656943cca52b3e360450ea7687" title="volatile_log_init" alt="" coords="229,5,339,32"/>
<area shape="rect" id="node3" href="../../da/dbb/dtm0__log__ut_8c.html#abdfa976dc6b47b142bdaec0c2bfd121d" title="test_volatile_dtm0_log" alt="" coords="208,56,360,83"/>
</map>
</div>

</div>
</div>
<a id="ga1c63b760ce5abb3ee399e7e2262bd509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1c63b760ce5abb3ee399e7e2262bd509">&#9670;&nbsp;</a></span>m0_be_dtm0_log_clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_be_dtm0_log_clear </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a pointer to a dtm0 volatile log clear the log and finalize it.</p>
<dl class="section pre"><dt>Precondition</dt><dd>log is not a persistent log </dd>
<dd>
m0_dtm0_tx_desc_state_eq == M0_DTPS_PERSISTENT for all records in the log. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>None</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td>Pointer to the volatile log that we want to clear. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>TODO: rename this to indicate that it's used for volatile usecase only. TODO: remove later. Removes all records from the volatile log. </p>

<p class="definition">Definition at line <a class="el" href="../../db/de1/dtm0__log_8c_source.html#l00520">520</a> of file <a class="el" href="../../db/de1/dtm0__log_8c_source.html">dtm0_log.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga1c63b760ce5abb3ee399e7e2262bd509_cgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga1c63b760ce5abb3ee399e7e2262bd509_cgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga1c63b760ce5abb3ee399e7e2262bd509_cgraph" id="de/d0c/group___d_t_m0_internals_ga1c63b760ce5abb3ee399e7e2262bd509_cgraph">
<area shape="rect" id="node2" href="../../db/de1/dtm0__log_8c.html#ac5f8d314ede54cc52b5da5ee935ee4d6" title="m0_dtm0_log_rec__invariant" alt="" coords="209,5,397,32"/>
<area shape="rect" id="node3" href="../../d2/d66/group__dtm.html#gaaa6a908a4bd8de756d14c1e21ffc3aef" title="m0_dtm0_tx_desc_state_eq" alt="" coords="210,56,397,83"/>
<area shape="rect" id="node4" href="../../db/de1/dtm0__log_8c.html#a219255d25e7e8c5df472574c96a6fdab" title="log_rec_fini" alt="" coords="259,107,347,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga1c63b760ce5abb3ee399e7e2262bd509_icgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga1c63b760ce5abb3ee399e7e2262bd509_icgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga1c63b760ce5abb3ee399e7e2262bd509_icgraph" id="de/d0c/group___d_t_m0_internals_ga1c63b760ce5abb3ee399e7e2262bd509_icgraph">
<area shape="rect" id="node2" href="../../d1/da8/dtm0_2service_8c.html#a07819456e506247243cfcab411c78e12" title="dtm0_service_stop" alt="" coords="209,5,341,32"/>
</map>
</div>

</div>
</div>
<a id="ga9ada6ad8462840b2c78dfe270f0800d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9ada6ad8462840b2c78dfe270f0800d0">&#9670;&nbsp;</a></span>m0_be_dtm0_log_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL int m0_be_dtm0_log_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d7e/structm0__be__tx.html">m0_be_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d9b/structm0__be__seg.html">m0_be_seg</a> *&#160;</td>
          <td class="paramname"><em>seg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> **&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This routine is used to create a dtm0 persistent log.</p>
<dl class="section pre"><dt>Precondition</dt><dd>tx != NULL </dd>
<dd>
seg != NULL </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>None</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tx</td><td>handle to an already opened transaction. </td></tr>
    <tr><td class="paramname">seg</td><td>be segment on which to create the log. </td></tr>
    <tr><td class="paramname">out</td><td>variable in which to store the pointer to the newly created log. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, anything else is a failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de1/dtm0__log_8c_source.html#l00237">237</a> of file <a class="el" href="../../db/de1/dtm0__log_8c_source.html">dtm0_log.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga9ada6ad8462840b2c78dfe270f0800d0_icgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga9ada6ad8462840b2c78dfe270f0800d0_icgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga9ada6ad8462840b2c78dfe270f0800d0_icgraph" id="de/d0c/group___d_t_m0_internals_ga9ada6ad8462840b2c78dfe270f0800d0_icgraph">
<area shape="rect" id="node2" href="../../da/dbb/dtm0__log__ut_8c.html#a49f310e8416f8f807639ae20b55caf81" title="persistent_log_create" alt="" coords="217,5,364,32"/>
<area shape="rect" id="node3" href="../../de/db0/dtm0_2helper_8h.html#adcfc39ab0940acb3befd727374f0c2cf" title="m0_dtm0_log_create" alt="" coords="219,56,362,83"/>
</map>
</div>

</div>
</div>
<a id="gacdfaf624e36afd93d2b40bc24cdf3954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacdfaf624e36afd93d2b40bc24cdf3954">&#9670;&nbsp;</a></span>m0_be_dtm0_log_credit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_be_dtm0_log_credit </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga0bb61ac7b7e0816f889ee90fe4afa739">m0_be_dtm0_log_credit_op</a>&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/da0/structm0__dtm0__tx__desc.html">m0_dtm0_tx_desc</a> *&#160;</td>
          <td class="paramname"><em>txd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/d06/structm0__buf.html">m0_buf</a> *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d9b/structm0__be__seg.html">m0_be_seg</a> *&#160;</td>
          <td class="paramname"><em>seg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dcd/structm0__dtm0__log__rec.html">m0_dtm0_log_rec</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/df0/structm0__be__tx__credit.html">m0_be_tx_credit</a> *&#160;</td>
          <td class="paramname"><em>accum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For performing an operation on a persistent log, we need to take the appropriate number of be transaction credit.</p>
<dl class="section pre"><dt>Precondition</dt><dd>op in enum m0_be_dtm0_log_credit_op seg != NULL accum != NULL </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>None</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">op</td><td>Operation code for the type of dtm0 log operation that we want to perform. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d0c/group___d_t_m0_internals.html#ga0bb61ac7b7e0816f889ee90fe4afa739">m0_be_dtm0_log_credit_op</a>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txd</td><td>A valid dtm0 tx descriptor that we want to store in the log record. </td></tr>
    <tr><td class="paramname">payload</td><td>The payload is an opaque structure for dtm0 log to store in the log record. </td></tr>
    <tr><td class="paramname">seg</td><td>The be segment on which the log resides. </td></tr>
    <tr><td class="paramname">A</td><td>pointer to a valid <a class="el" href="../../d3/dcd/structm0__dtm0__log__rec.html">m0_dtm0_log_rec</a>. </td></tr>
    <tr><td class="paramname">accum</td><td>This contains the number of credits required for performing the operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de1/dtm0__log_8c_source.html#l00202">202</a> of file <a class="el" href="../../db/de1/dtm0__log_8c_source.html">dtm0_log.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_gacdfaf624e36afd93d2b40bc24cdf3954_cgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_gacdfaf624e36afd93d2b40bc24cdf3954_cgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_gacdfaf624e36afd93d2b40bc24cdf3954_cgraph" id="de/d0c/group___d_t_m0_internals_gacdfaf624e36afd93d2b40bc24cdf3954_cgraph">
<area shape="rect" id="node2" href="../../db/de1/dtm0__log_8c.html#a6f206ec9dddb0b24ea005e47eed2acac" title="log_create_credit" alt="" coords="216,5,337,32"/>
<area shape="rect" id="node3" href="../../db/de1/dtm0__log_8c.html#ad5c1e71f0a1f4bc42baa626c00ecebc4" title="log_rec_partial_insert\l_credit" alt="" coords="388,78,533,119"/>
<area shape="rect" id="node4" href="../../db/de1/dtm0__log_8c.html#acc575e91fac5555ceb1d8e2997d38e17" title="log_rec_full_insert\l_credit" alt="" coords="213,107,340,149"/>
<area shape="rect" id="node5" href="../../db/de1/dtm0__log_8c.html#a9b60fa6e769d6cebf34d902f3734ab90" title="log_rec_del_credit" alt="" coords="213,173,340,200"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_gacdfaf624e36afd93d2b40bc24cdf3954_icgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_gacdfaf624e36afd93d2b40bc24cdf3954_icgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_gacdfaf624e36afd93d2b40bc24cdf3954_icgraph" id="de/d0c/group___d_t_m0_internals_gacdfaf624e36afd93d2b40bc24cdf3954_icgraph">
<area shape="rect" id="node2" href="../../d0/d60/cas_2service_8c.html#a29689e28da45f2e4450dd0c4bc129f5e" title="cas_dtm0_logrec_credit_add" alt="" coords="213,5,401,32"/>
<area shape="rect" id="node3" href="../../de/d0c/group___d_t_m0_internals.html#ga882842ba941e09db7efa4b3d6d886d09" title="m0_be_dtm0_plog_can\l_prune" alt="" coords="229,57,385,98"/>
<area shape="rect" id="node4" href="../../da/dbb/dtm0__log__ut_8c.html#a50b539e091fbae1e87b468a7503afc76" title="persistent_log_operate" alt="" coords="449,93,603,120"/>
<area shape="rect" id="node5" href="../../da/dbb/dtm0__log__ut_8c.html#a49f310e8416f8f807639ae20b55caf81" title="persistent_log_create" alt="" coords="234,173,381,200"/>
<area shape="rect" id="node6" href="../../de/db0/dtm0_2helper_8h.html#adcfc39ab0940acb3befd727374f0c2cf" title="m0_dtm0_log_create" alt="" coords="236,224,379,251"/>
<area shape="rect" id="node7" href="../../d4/d89/dtm0_2fop_8c.html#a0e10c98ddbbee6a7a7ffb7a84cbcbeff" title="dtm0_pmsg_fom_tick" alt="" coords="234,275,381,301"/>
</map>
</div>

</div>
</div>
<a id="gaeb535d6f96135934c649e029b4ec5558"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeb535d6f96135934c649e029b4ec5558">&#9670;&nbsp;</a></span>m0_be_dtm0_log_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_be_dtm0_log_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d7e/structm0__be__tx.html">m0_be_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> **&#160;</td>
          <td class="paramname"><em>log</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This routine is used to destroy a previously created persistent dtm0 log</p>
<dl class="section pre"><dt>Precondition</dt><dd>tx != NULL </dd>
<dd>
*log != NULL </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>None</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tx</td><td>handle to an already opened transaction. </td></tr>
    <tr><td class="paramname">log</td><td>Pointer to the dtm0 log which we wish to destroy </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de1/dtm0__log_8c_source.html#l00260">260</a> of file <a class="el" href="../../db/de1/dtm0__log_8c_source.html">dtm0_log.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_gaeb535d6f96135934c649e029b4ec5558_icgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_gaeb535d6f96135934c649e029b4ec5558_icgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_gaeb535d6f96135934c649e029b4ec5558_icgraph" id="de/d0c/group___d_t_m0_internals_gaeb535d6f96135934c649e029b4ec5558_icgraph">
<area shape="rect" id="node2" href="../../de/db0/dtm0_2helper_8h.html#adcfc39ab0940acb3befd727374f0c2cf" title="m0_dtm0_log_create" alt="" coords="224,5,367,32"/>
</map>
</div>

</div>
</div>
<a id="gae3672a41d2c340a18f93a380b8493dfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae3672a41d2c340a18f93a380b8493dfd">&#9670;&nbsp;</a></span>m0_be_dtm0_log_find()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL struct <a class="el" href="../../d3/dcd/structm0__dtm0__log__rec.html">m0_dtm0_log_rec</a>* m0_be_dtm0_log_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d20/structm0__dtm0__tid.html">m0_dtm0_tid</a> *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a pointer to a dtm0 transaction id, this routine searches the log for the log record matching this tx id and returns it.</p>
<dl class="section pre"><dt>Precondition</dt><dd>m0_be_dtm0_log__invariant(log) </dd>
<dd>
m0_dtm0_tid__invariant(id)) </dd>
<dd>
m0_mutex_is_locked(&amp;log-&gt;dl_lock)</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>None</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td>Pointer to the dtm0 log in which we wish to search. </td></tr>
    <tr><td class="paramname">tid</td><td>Pointer to a dtm0 transaction id corresponding to the record that we wish to fetch from the log. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d3/dcd/structm0__dtm0__log__rec.html">m0_dtm0_log_rec</a> corresponding to the input tid or NULL if no such record is found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de1/dtm0__log_8c_source.html#l00270">270</a> of file <a class="el" href="../../db/de1/dtm0__log_8c_source.html">dtm0_log.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_gae3672a41d2c340a18f93a380b8493dfd_cgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_gae3672a41d2c340a18f93a380b8493dfd_cgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_gae3672a41d2c340a18f93a380b8493dfd_cgraph" id="de/d0c/group___d_t_m0_internals_gae3672a41d2c340a18f93a380b8493dfd_cgraph">
<area shape="rect" id="node2" href="../../db/de1/dtm0__log_8c.html#a18d1cb4c5ff8b55c4bb39992126496f2" title="m0_be_dtm0_log__invariant" alt="" coords="203,5,387,32"/>
<area shape="rect" id="node3" href="../../d2/d66/group__dtm.html#ga303f0f5aa35283f55802eacb87e25043" title="m0_dtm0_tid__invariant" alt="" coords="215,56,375,83"/>
<area shape="rect" id="node4" href="../../d0/d04/group__mutex.html#ga0c96633d90ccf7e2ed6ffee75d983975" title="m0_mutex_is_locked" alt="" coords="222,107,367,133"/>
<area shape="rect" id="node5" href="../../d2/d66/group__dtm.html#ga46e271719ec00f943a8f852f0ca593fb" title="m0_dtm0_tid_cmp" alt="" coords="230,157,359,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_gae3672a41d2c340a18f93a380b8493dfd_icgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_gae3672a41d2c340a18f93a380b8493dfd_icgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_gae3672a41d2c340a18f93a380b8493dfd_icgraph" id="de/d0c/group___d_t_m0_internals_gae3672a41d2c340a18f93a380b8493dfd_icgraph">
<area shape="rect" id="node2" href="../../de/d0c/group___d_t_m0_internals.html#ga872a9d11682e621c3a3a1310043d7831" title="m0_be_dtm0_log_update" alt="" coords="215,35,382,61"/>
<area shape="rect" id="node3" href="../../da/dbb/dtm0__log__ut_8c.html#abdfa976dc6b47b142bdaec0c2bfd121d" title="test_volatile_dtm0_log" alt="" coords="443,9,595,36"/>
<area shape="rect" id="node4" href="../../da/dbb/dtm0__log__ut_8c.html#a50b539e091fbae1e87b468a7503afc76" title="persistent_log_operate" alt="" coords="443,60,596,87"/>
<area shape="rect" id="node5" href="../../de/d0c/group___d_t_m0_internals.html#gac498db87e35e8844883e4150794533cb" title="m0_be_dtm0_log_pmsg_post" alt="" coords="203,136,395,163"/>
<area shape="rect" id="node6" href="../../d6/df3/dtm0_2fop_8h.html#af9b60ae337d40ecc4be173968f5d986b" title="m0_dtm0_on_committed" alt="" coords="216,187,381,213"/>
</map>
</div>

</div>
</div>
<a id="ga05ae19cfc2ad4add31d03f8a5ab77451"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga05ae19cfc2ad4add31d03f8a5ab77451">&#9670;&nbsp;</a></span>m0_be_dtm0_log_fini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_be_dtm0_log_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finalize a dtm0 log. We need to call this routine once after we have finished performing all operations on it.</p>
<dl class="section pre"><dt>Precondition</dt><dd>m0_be_dtm0_log__invariant needs to be satisfied. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>All fields of *log are finalized. For volatile log the memory allocated by m0_be_dtm0_log_alloc is freed.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td>Pointer to a valid log.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de1/dtm0__log_8c_source.html#l00111">111</a> of file <a class="el" href="../../db/de1/dtm0__log_8c_source.html">dtm0_log.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga05ae19cfc2ad4add31d03f8a5ab77451_cgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga05ae19cfc2ad4add31d03f8a5ab77451_cgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga05ae19cfc2ad4add31d03f8a5ab77451_cgraph" id="de/d0c/group___d_t_m0_internals_ga05ae19cfc2ad4add31d03f8a5ab77451_cgraph">
<area shape="rect" id="node2" href="../../db/de1/dtm0__log_8c.html#a18d1cb4c5ff8b55c4bb39992126496f2" title="m0_be_dtm0_log__invariant" alt="" coords="199,5,383,32"/>
<area shape="rect" id="node3" href="../../d0/d04/group__mutex.html#ga3343af66e17b74ebf3f77fa6a31201c4" title="m0_mutex_fini" alt="" coords="237,56,344,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga05ae19cfc2ad4add31d03f8a5ab77451_icgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga05ae19cfc2ad4add31d03f8a5ab77451_icgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga05ae19cfc2ad4add31d03f8a5ab77451_icgraph" id="de/d0c/group___d_t_m0_internals_ga05ae19cfc2ad4add31d03f8a5ab77451_icgraph">
<area shape="rect" id="node2" href="../../d1/da8/dtm0_2service_8c.html#a07819456e506247243cfcab411c78e12" title="dtm0_service_stop" alt="" coords="209,5,341,32"/>
<area shape="rect" id="node3" href="../../da/dbb/dtm0__log__ut_8c.html#abdfa976dc6b47b142bdaec0c2bfd121d" title="test_volatile_dtm0_log" alt="" coords="199,56,351,83"/>
</map>
</div>

</div>
</div>
<a id="ga96de5e607ccac4d7d0e05370a34e9c61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga96de5e607ccac4d7d0e05370a34e9c61">&#9670;&nbsp;</a></span>m0_be_dtm0_log_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_be_dtm0_log_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> **&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free the memory allocated by m0_be_dtm0_log_alloc</p>
<dl class="section pre"><dt>Precondition</dt><dd>m0_be_dtm0_log-&gt;dl_is_persistent needs to be false. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>*log is set to NULL.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td>Pointer to a log structure that has been previously allocated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de1/dtm0__log_8c_source.html#l00119">119</a> of file <a class="el" href="../../db/de1/dtm0__log_8c_source.html">dtm0_log.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga96de5e607ccac4d7d0e05370a34e9c61_cgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga96de5e607ccac4d7d0e05370a34e9c61_cgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga96de5e607ccac4d7d0e05370a34e9c61_cgraph" id="de/d0c/group___d_t_m0_internals_ga96de5e607ccac4d7d0e05370a34e9c61_cgraph">
<area shape="rect" id="node2" href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3" title="m0_free" alt="" coords="204,5,273,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga96de5e607ccac4d7d0e05370a34e9c61_icgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga96de5e607ccac4d7d0e05370a34e9c61_icgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga96de5e607ccac4d7d0e05370a34e9c61_icgraph" id="de/d0c/group___d_t_m0_internals_ga96de5e607ccac4d7d0e05370a34e9c61_icgraph">
<area shape="rect" id="node2" href="../../d1/da8/dtm0_2service_8c.html#a8f141e656943cca52b3e360450ea7687" title="volatile_log_init" alt="" coords="225,5,335,32"/>
<area shape="rect" id="node3" href="../../d1/da8/dtm0_2service_8c.html#a07819456e506247243cfcab411c78e12" title="dtm0_service_stop" alt="" coords="214,56,346,83"/>
<area shape="rect" id="node4" href="../../da/dbb/dtm0__log__ut_8c.html#abdfa976dc6b47b142bdaec0c2bfd121d" title="test_volatile_dtm0_log" alt="" coords="204,107,356,133"/>
</map>
</div>

</div>
</div>
<a id="ga6cf18fa38c0b73023cfec5077c0e192c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6cf18fa38c0b73023cfec5077c0e192c">&#9670;&nbsp;</a></span>m0_be_dtm0_log_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL int m0_be_dtm0_log_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d9b/structm0__be__seg.html">m0_be_seg</a> *&#160;</td>
          <td class="paramname"><em>seg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/d9c/structm0__dtm0__clk__src.html">m0_dtm0_clk_src</a> *&#160;</td>
          <td class="paramname"><em>cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_plog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a dtm0 log. We need to call this routine once before we can perform any operations on it.</p>
<dl class="section pre"><dt>Precondition</dt><dd>log != NULL; </dd>
<dd>
cs != NULL; </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>*log is initialized and ready to be used</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td>Pointer to a <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> that has to be initialized. </td></tr>
    <tr><td class="paramname">cs</td><td>Pointer to a clock source. This will be used for comparisons involving log record timestamps. </td></tr>
    <tr><td class="paramname">is_plog</td><td>A flag to indicate whether the dtm0 log that we are trying to init is a volatile of persistent store.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. Anything else is a failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de1/dtm0__log_8c_source.html#l00094">94</a> of file <a class="el" href="../../db/de1/dtm0__log_8c_source.html">dtm0_log.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga6cf18fa38c0b73023cfec5077c0e192c_cgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga6cf18fa38c0b73023cfec5077c0e192c_cgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga6cf18fa38c0b73023cfec5077c0e192c_cgraph" id="de/d0c/group___d_t_m0_internals_ga6cf18fa38c0b73023cfec5077c0e192c_cgraph">
<area shape="rect" id="node2" href="../../d0/d04/group__mutex.html#ga342a63c7734a82930710cafbe895013f" title="m0_mutex_init" alt="" coords="199,5,305,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga6cf18fa38c0b73023cfec5077c0e192c_icgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga6cf18fa38c0b73023cfec5077c0e192c_icgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga6cf18fa38c0b73023cfec5077c0e192c_icgraph" id="de/d0c/group___d_t_m0_internals_ga6cf18fa38c0b73023cfec5077c0e192c_icgraph">
<area shape="rect" id="node2" href="../../d1/da8/dtm0_2service_8c.html#a8f141e656943cca52b3e360450ea7687" title="volatile_log_init" alt="" coords="219,5,330,32"/>
<area shape="rect" id="node3" href="../../d1/da8/dtm0_2service_8c.html#a650d60efa9bae0a7660435dcd79e3640" title="persistent_log_init" alt="" coords="211,56,338,83"/>
<area shape="rect" id="node4" href="../../da/dbb/dtm0__log__ut_8c.html#abdfa976dc6b47b142bdaec0c2bfd121d" title="test_volatile_dtm0_log" alt="" coords="199,107,351,133"/>
<area shape="rect" id="node5" href="../../da/dbb/dtm0__log__ut_8c.html#a49f310e8416f8f807639ae20b55caf81" title="persistent_log_create" alt="" coords="201,157,348,184"/>
<area shape="rect" id="node6" href="../../da/dbb/dtm0__log__ut_8c.html#a0c25601d912f520a86359dbc6db14dd2" title="m0_be_ut_dtm0_log_test" alt="" coords="399,183,567,209"/>
</map>
</div>

</div>
</div>
<a id="gac498db87e35e8844883e4150794533cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac498db87e35e8844883e4150794533cb">&#9670;&nbsp;</a></span>m0_be_dtm0_log_pmsg_post()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_be_dtm0_log_pmsg_post </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/d01/structm0__fop.html">m0_fop</a> *&#160;</td>
          <td class="paramname"><em>fop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deliver a persistent message to the log.</p>
<dl class="section pre"><dt>Precondition</dt><dd>log is a volatile log </dd>
<dd>
fop-&gt;f_type ==  </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>None</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td>Pointer to the dtm0 log which we wish to destroy </td></tr>
    <tr><td class="paramname">fop</td><td>This is a fop for the request carrying a PERSISTENT notice </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>TODO: Only volatile log is supported so far. </p>

<p class="definition">Definition at line <a class="el" href="../../db/de1/dtm0__log_8c_source.html#l00637">637</a> of file <a class="el" href="../../db/de1/dtm0__log_8c_source.html">dtm0_log.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_gac498db87e35e8844883e4150794533cb_cgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_gac498db87e35e8844883e4150794533cb_cgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_gac498db87e35e8844883e4150794533cb_cgraph" id="de/d0c/group___d_t_m0_internals_gac498db87e35e8844883e4150794533cb_cgraph">
<area shape="rect" id="node2" href="../../d6/d39/group__fop.html#ga514d8cd13fb698f7498be1147831f5b0" title="m0_fop_data" alt="" coords="485,277,583,303"/>
<area shape="rect" id="node3" href="../../d2/d66/group__dtm.html#ga08783ef5649ec3046221ce22fcf2f992" title="m0_dtm0_tx_desc__invariant" alt="" coords="245,49,437,75"/>
<area shape="rect" id="node4" href="../../d0/d04/group__mutex.html#gae26efdb3a765f750c5992041d6ee2336" title="m0_mutex_lock" alt="" coords="284,99,399,126"/>
<area shape="rect" id="node5" href="../../de/d0c/group___d_t_m0_internals.html#gae3672a41d2c340a18f93a380b8493dfd" title="m0_be_dtm0_log_find" alt="" coords="267,150,416,177"/>
<area shape="rect" id="node6" href="../../d2/d66/group__dtm.html#gaaa6a908a4bd8de756d14c1e21ffc3aef" title="m0_dtm0_tx_desc_state_eq" alt="" coords="248,201,435,227"/>
<area shape="rect" id="node7" href="../../d0/d04/group__mutex.html#ga18963570792098f5ab3cf3e8ede8046a" title="m0_mutex_unlock" alt="" coords="277,251,405,278"/>
<area shape="rect" id="node8" href="../../d2/d66/group__dtm.html#ga014de37d7418055272a21a079dbd3077" title="m0_dtm0_dtx_pmsg_post" alt="" coords="255,302,427,329"/>
<area shape="rect" id="node9" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#ad1c2b8b0cf1cc0d319e690c0bef9569e" title="M0_LEAVE" alt="" coords="489,339,579,366"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_gac498db87e35e8844883e4150794533cb_icgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_gac498db87e35e8844883e4150794533cb_icgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_gac498db87e35e8844883e4150794533cb_icgraph" id="de/d0c/group___d_t_m0_internals_gac498db87e35e8844883e4150794533cb_icgraph">
<area shape="rect" id="node2" href="../../d4/d89/dtm0_2fop_8c.html#a0e10c98ddbbee6a7a7ffb7a84cbcbeff" title="dtm0_pmsg_fom_tick" alt="" coords="245,5,392,32"/>
</map>
</div>

</div>
</div>
<a id="ga68e3456ffc1de25e96b9e80d4c4f0ef5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga68e3456ffc1de25e96b9e80d4c4f0ef5">&#9670;&nbsp;</a></span>m0_be_dtm0_log_prune()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL int m0_be_dtm0_log_prune </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/d7e/structm0__be__tx.html">m0_be_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d20/structm0__dtm0__tid.html">m0_dtm0_tid</a> *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a pointer to a dtm0 transaction id, this routine searches the log for the log record matching this tx id and removes all the records having id lower or equal to the specified id.</p>
<dl class="section pre"><dt>Precondition</dt><dd>*log-&gt;dl_is_persistent == false (This is a volatile log) </dd>
<dd>
m0_be_dtm0_log__invariant(log) </dd>
<dd>
m0_dtm0_tid__invariant(id) </dd>
<dd>
m0_mutex_is_locked(&amp;log-&gt;dl_lock) </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>None</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td>Pointer to the log from which we want to delete the record. </td></tr>
    <tr><td class="paramname">tx</td><td>Pointer to an open be transaction. </td></tr>
    <tr><td class="paramname">id</td><td>Pointer to a dtm0 transaction id corresponding to the record that we wish to delete from the log. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-ENOENT if no record exists for this id, 0 if the record is found and successfully deleted, Anything else is considered a failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de1/dtm0__log_8c_source.html#l00477">477</a> of file <a class="el" href="../../db/de1/dtm0__log_8c_source.html">dtm0_log.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga68e3456ffc1de25e96b9e80d4c4f0ef5_cgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga68e3456ffc1de25e96b9e80d4c4f0ef5_cgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga68e3456ffc1de25e96b9e80d4c4f0ef5_cgraph" id="de/d0c/group___d_t_m0_internals_ga68e3456ffc1de25e96b9e80d4c4f0ef5_cgraph">
<area shape="rect" id="node2" href="../../db/de1/dtm0__log_8c.html#a18d1cb4c5ff8b55c4bb39992126496f2" title="m0_be_dtm0_log__invariant" alt="" coords="215,5,399,32"/>
<area shape="rect" id="node3" href="../../d2/d66/group__dtm.html#ga303f0f5aa35283f55802eacb87e25043" title="m0_dtm0_tid__invariant" alt="" coords="227,56,387,83"/>
<area shape="rect" id="node4" href="../../d0/d04/group__mutex.html#ga0c96633d90ccf7e2ed6ffee75d983975" title="m0_mutex_is_locked" alt="" coords="235,107,380,133"/>
<area shape="rect" id="node5" href="../../d2/d66/group__dtm.html#gaaa6a908a4bd8de756d14c1e21ffc3aef" title="m0_dtm0_tx_desc_state_eq" alt="" coords="214,157,401,184"/>
<area shape="rect" id="node6" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="269,208,345,235"/>
<area shape="rect" id="node7" href="../../d2/d66/group__dtm.html#ga46e271719ec00f943a8f852f0ca593fb" title="m0_dtm0_tid_cmp" alt="" coords="243,259,372,285"/>
<area shape="rect" id="node8" href="../../db/de1/dtm0__log_8c.html#ac5f8d314ede54cc52b5da5ee935ee4d6" title="m0_dtm0_log_rec__invariant" alt="" coords="213,309,401,336"/>
<area shape="rect" id="node9" href="../../db/de1/dtm0__log_8c.html#a219255d25e7e8c5df472574c96a6fdab" title="log_rec_fini" alt="" coords="263,360,351,387"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga68e3456ffc1de25e96b9e80d4c4f0ef5_icgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga68e3456ffc1de25e96b9e80d4c4f0ef5_icgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga68e3456ffc1de25e96b9e80d4c4f0ef5_icgraph" id="de/d0c/group___d_t_m0_internals_ga68e3456ffc1de25e96b9e80d4c4f0ef5_icgraph">
<area shape="rect" id="node2" href="../../da/dbb/dtm0__log__ut_8c.html#abdfa976dc6b47b142bdaec0c2bfd121d" title="test_volatile_dtm0_log" alt="" coords="213,5,365,32"/>
</map>
</div>

</div>
</div>
<a id="ga872a9d11682e621c3a3a1310043d7831"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga872a9d11682e621c3a3a1310043d7831">&#9670;&nbsp;</a></span>m0_be_dtm0_log_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL int m0_be_dtm0_log_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/d7e/structm0__be__tx.html">m0_be_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/da0/structm0__dtm0__tx__desc.html">m0_dtm0_tx_desc</a> *&#160;</td>
          <td class="paramname"><em>txd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/d06/structm0__buf.html">m0_buf</a> *&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This routine is used to update a record in the dtm0 log. If the record does not exist it will be inserted.</p>
<dl class="section pre"><dt>Precondition</dt><dd>payload != NULL </dd>
<dd>
m0_be_dtm0_log__invariant(log) </dd>
<dd>
m0_dtm0_tx_desc__invariant(txd) </dd>
<dd>
m0_mutex_is_locked(&amp;log-&gt;dl_lock) </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>None</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td>Pointer to the dtm0 log which we wish to update. </td></tr>
    <tr><td class="paramname">tx</td><td>handle to an already opened transaction. </td></tr>
    <tr><td class="paramname">txd</td><td>A valid dtm0 tx descriptor that we want to store in the log record. </td></tr>
    <tr><td class="paramname">payload</td><td>The payload is an opaque structure for dtm0 log to store in the log record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, anything else is a failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de1/dtm0__log_8c_source.html#l00460">460</a> of file <a class="el" href="../../db/de1/dtm0__log_8c_source.html">dtm0_log.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga872a9d11682e621c3a3a1310043d7831_cgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga872a9d11682e621c3a3a1310043d7831_cgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga872a9d11682e621c3a3a1310043d7831_cgraph" id="de/d0c/group___d_t_m0_internals_ga872a9d11682e621c3a3a1310043d7831_cgraph">
<area shape="rect" id="node2" href="../../db/de1/dtm0__log_8c.html#a18d1cb4c5ff8b55c4bb39992126496f2" title="m0_be_dtm0_log__invariant" alt="" coords="460,59,644,86"/>
<area shape="rect" id="node3" href="../../d2/d66/group__dtm.html#ga08783ef5649ec3046221ce22fcf2f992" title="m0_dtm0_tx_desc__invariant" alt="" coords="220,34,412,61"/>
<area shape="rect" id="node4" href="../../d0/d04/group__mutex.html#ga0c96633d90ccf7e2ed6ffee75d983975" title="m0_mutex_is_locked" alt="" coords="479,110,625,137"/>
<area shape="rect" id="node5" href="../../de/d0c/group___d_t_m0_internals.html#gae3672a41d2c340a18f93a380b8493dfd" title="m0_be_dtm0_log_find" alt="" coords="241,85,391,111"/>
<area shape="rect" id="node6" href="../../db/de1/dtm0__log_8c.html#a3b5be1586edfde4f0fc8f8e7959fb131" title="dtm0_log__set" alt="" coords="263,186,369,213"/>
<area shape="rect" id="node7" href="../../db/de1/dtm0__log_8c.html#a6431e60524d704be389381fe7e2347a7" title="dtm0_log__insert" alt="" coords="255,237,377,263"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga872a9d11682e621c3a3a1310043d7831_icgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga872a9d11682e621c3a3a1310043d7831_icgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga872a9d11682e621c3a3a1310043d7831_icgraph" id="de/d0c/group___d_t_m0_internals_ga872a9d11682e621c3a3a1310043d7831_icgraph">
<area shape="rect" id="node2" href="../../da/dbb/dtm0__log__ut_8c.html#abdfa976dc6b47b142bdaec0c2bfd121d" title="test_volatile_dtm0_log" alt="" coords="226,5,378,32"/>
<area shape="rect" id="node3" href="../../da/dbb/dtm0__log__ut_8c.html#a50b539e091fbae1e87b468a7503afc76" title="persistent_log_operate" alt="" coords="225,56,379,83"/>
<area shape="rect" id="node4" href="../../d6/df3/dtm0_2fop_8h.html#ab2a39337fde70c636e42454b51cb66a7" title="m0_dtm0_logrec_update" alt="" coords="220,107,384,133"/>
</map>
</div>

</div>
</div>
<a id="ga882842ba941e09db7efa4b3d6d886d09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga882842ba941e09db7efa4b3d6d886d09">&#9670;&nbsp;</a></span>m0_be_dtm0_plog_can_prune()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL bool m0_be_dtm0_plog_can_prune </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d20/structm0__dtm0__tid.html">m0_dtm0_tid</a> *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/df0/structm0__be__tx__credit.html">m0_be_tx_credit</a> *&#160;</td>
          <td class="paramname"><em>accum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a pointer to a dtm0 persistent log and a transaction id, this routine searches the log for the log record matching this tx id and checks whether all log records with id lower or equal to the specified id are persistent and if they can be pruned.</p>
<dl class="section pre"><dt>Precondition</dt><dd>m0_be_dtm0_log__invariant(log) </dd>
<dd>
m0_dtm0_tid__invariant(id) </dd>
<dd>
m0_mutex_is_locked(&amp;log-&gt;dl_lock) </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>None</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td>Pointer to the log from which we want to delete the record. </td></tr>
    <tr><td class="paramname">tx</td><td>Pointer to an open be transaction. </td></tr>
    <tr><td class="paramname">id</td><td>Pointer to a dtm0 transaction id corresponding to the record that we wish to delete from the log. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-ENOENT if no record exists for this tid, 0 if the record is found and all previous records in the log including this record can be successfully deleted, -EPROTO if the record is found but NOT all previous records in the log can be deleted, Anything else is considered a failure.</dd></dl>
<p>To prune a record from the log, it needs to be persistent in the log and all the records in the log with id lower than this must be persistent as well. And, when we delete this record we will need to delete all such records. This function is used to determine whether the record with the given id can be pruned from the log and if yes, it also returns a count of the number of be tx credits that would be requried to delete these many records. </p>

<p class="definition">Definition at line <a class="el" href="../../db/de1/dtm0__log_8c_source.html#l00573">573</a> of file <a class="el" href="../../db/de1/dtm0__log_8c_source.html">dtm0_log.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga882842ba941e09db7efa4b3d6d886d09_cgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga882842ba941e09db7efa4b3d6d886d09_cgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga882842ba941e09db7efa4b3d6d886d09_cgraph" id="de/d0c/group___d_t_m0_internals_ga882842ba941e09db7efa4b3d6d886d09_cgraph">
<area shape="rect" id="node2" href="../../db/de1/dtm0__log_8c.html#a18d1cb4c5ff8b55c4bb39992126496f2" title="m0_be_dtm0_log__invariant" alt="" coords="211,5,395,32"/>
<area shape="rect" id="node3" href="../../d2/d66/group__dtm.html#ga303f0f5aa35283f55802eacb87e25043" title="m0_dtm0_tid__invariant" alt="" coords="223,56,383,83"/>
<area shape="rect" id="node4" href="../../d0/d04/group__mutex.html#ga0c96633d90ccf7e2ed6ffee75d983975" title="m0_mutex_is_locked" alt="" coords="230,107,375,133"/>
<area shape="rect" id="node5" href="../../d2/d66/group__dtm.html#gaaa6a908a4bd8de756d14c1e21ffc3aef" title="m0_dtm0_tx_desc_state_eq" alt="" coords="209,157,396,184"/>
<area shape="rect" id="node6" href="../../de/d0c/group___d_t_m0_internals.html#gacdfaf624e36afd93d2b40bc24cdf3954" title="m0_be_dtm0_log_credit" alt="" coords="223,208,383,235"/>
<area shape="rect" id="node7" href="../../d2/d66/group__dtm.html#ga46e271719ec00f943a8f852f0ca593fb" title="m0_dtm0_tid_cmp" alt="" coords="238,259,367,285"/>
<area shape="rect" id="node8" href="../../d9/dcf/group__be.html#ga8eb882c1d51e74d6bf52272329cfac15" title="m0_be_tx_credit_add" alt="" coords="229,309,376,336"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga882842ba941e09db7efa4b3d6d886d09_icgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga882842ba941e09db7efa4b3d6d886d09_icgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga882842ba941e09db7efa4b3d6d886d09_icgraph" id="de/d0c/group___d_t_m0_internals_ga882842ba941e09db7efa4b3d6d886d09_icgraph">
<area shape="rect" id="node2" href="../../da/dbb/dtm0__log__ut_8c.html#a50b539e091fbae1e87b468a7503afc76" title="persistent_log_operate" alt="" coords="209,13,363,39"/>
</map>
</div>

</div>
</div>
<a id="ga5e44c21f5dc0bec803c9574157d522fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e44c21f5dc0bec803c9574157d522fa">&#9670;&nbsp;</a></span>m0_be_dtm0_plog_prune()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL int m0_be_dtm0_plog_prune </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/d7e/structm0__be__tx.html">m0_be_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d20/structm0__dtm0__tid.html">m0_dtm0_tid</a> *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a pointer to a dtm0 persistent log and a transaction id, this routine searches the log for the log record matching this tx id and removes all the log records with id lower or equal to the specified id that are persistent.</p>
<dl class="section pre"><dt>Precondition</dt><dd>*log-&gt;dl_is_persistent == true </dd>
<dd>
m0_be_dtm0_log__invariant(log) </dd>
<dd>
m0_dtm0_tid__invariant(id) </dd>
<dd>
m0_mutex_is_locked(&amp;log-&gt;dl_lock) </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>None</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td>Pointer to the log from which we want to delete the record. </td></tr>
    <tr><td class="paramname">tx</td><td>Pointer to an open be transaction. </td></tr>
    <tr><td class="paramname">id</td><td>Pointer to a dtm0 transaction id corresponding to the record that we wish to delete from the log. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-ENOENT if no record exists for this id, 0 if the record is found and successfully deleted, Anything else is considered a failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de1/dtm0__log_8c_source.html#l00609">609</a> of file <a class="el" href="../../db/de1/dtm0__log_8c_source.html">dtm0_log.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga5e44c21f5dc0bec803c9574157d522fa_cgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga5e44c21f5dc0bec803c9574157d522fa_cgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga5e44c21f5dc0bec803c9574157d522fa_cgraph" id="de/d0c/group___d_t_m0_internals_ga5e44c21f5dc0bec803c9574157d522fa_cgraph">
<area shape="rect" id="node2" href="../../db/de1/dtm0__log_8c.html#a18d1cb4c5ff8b55c4bb39992126496f2" title="m0_be_dtm0_log__invariant" alt="" coords="220,5,404,32"/>
<area shape="rect" id="node3" href="../../d2/d66/group__dtm.html#ga303f0f5aa35283f55802eacb87e25043" title="m0_dtm0_tid__invariant" alt="" coords="232,56,392,83"/>
<area shape="rect" id="node4" href="../../d0/d04/group__mutex.html#ga0c96633d90ccf7e2ed6ffee75d983975" title="m0_mutex_is_locked" alt="" coords="239,107,385,133"/>
<area shape="rect" id="node5" href="../../db/de1/dtm0__log_8c.html#a69f30ae4f808844ea1a88696a19f322f" title="plog_rec_fini" alt="" coords="265,157,359,184"/>
<area shape="rect" id="node6" href="../../d2/d66/group__dtm.html#ga46e271719ec00f943a8f852f0ca593fb" title="m0_dtm0_tid_cmp" alt="" coords="247,208,377,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga5e44c21f5dc0bec803c9574157d522fa_icgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga5e44c21f5dc0bec803c9574157d522fa_icgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga5e44c21f5dc0bec803c9574157d522fa_icgraph" id="de/d0c/group___d_t_m0_internals_ga5e44c21f5dc0bec803c9574157d522fa_icgraph">
<area shape="rect" id="node2" href="../../da/dbb/dtm0__log__ut_8c.html#a50b539e091fbae1e87b468a7503afc76" title="persistent_log_operate" alt="" coords="220,5,373,32"/>
</map>
</div>

</div>
</div>
<a id="ga95d33f40101e89bc27009b34af408e95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga95d33f40101e89bc27009b34af408e95">&#9670;&nbsp;</a></span>m0_be_dtm0_volatile_log_insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL int m0_be_dtm0_volatile_log_insert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dcd/structm0__dtm0__log__rec.html">m0_dtm0_log_rec</a> *&#160;</td>
          <td class="paramname"><em>rec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a pointer to a dtm0 volatile log and a log record, insert the record in the log.</p>
<dl class="section pre"><dt>Precondition</dt><dd>log is a volatile log </dd>
<dd>
rec is initialized and valid </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>None</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td>Pointer to the volatile log into which that we want to insert the record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de1/dtm0__log_8c_source.html#l00540">540</a> of file <a class="el" href="../../db/de1/dtm0__log_8c_source.html">dtm0_log.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga95d33f40101e89bc27009b34af408e95_cgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga95d33f40101e89bc27009b34af408e95_cgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga95d33f40101e89bc27009b34af408e95_cgraph" id="de/d0c/group___d_t_m0_internals_ga95d33f40101e89bc27009b34af408e95_cgraph">
<area shape="rect" id="node2" href="../../d2/d66/group__dtm.html#ga61a6a574f66a20c5d4e2003c5212b401" title="m0_dtm0_tx_desc_copy" alt="" coords="199,5,363,32"/>
<area shape="rect" id="node3" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079" title="M0_RC" alt="" coords="411,31,477,57"/>
<area shape="rect" id="node4" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="243,107,319,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga95d33f40101e89bc27009b34af408e95_icgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga95d33f40101e89bc27009b34af408e95_icgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga95d33f40101e89bc27009b34af408e95_icgraph" id="de/d0c/group___d_t_m0_internals_ga95d33f40101e89bc27009b34af408e95_icgraph">
<area shape="rect" id="node2" href="../../d2/d66/group__dtm.html#gad48d491c4ce4864315614b4ef3c64bdd" title="dtx_log_insert" alt="" coords="199,13,301,39"/>
</map>
</div>

</div>
</div>
<a id="ga55745cf43945907c9eeb1c1e6ea1bd50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55745cf43945907c9eeb1c1e6ea1bd50">&#9670;&nbsp;</a></span>m0_be_dtm0_volatile_log_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_be_dtm0_volatile_log_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dea/structm0__be__dtm0__log.html">m0_be_dtm0_log</a> *&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dcd/structm0__dtm0__log__rec.html">m0_dtm0_log_rec</a> *&#160;</td>
          <td class="paramname"><em>rec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This routine is used to update a record in a dtm0 volatile log.</p>
<dl class="section pre"><dt>Precondition</dt><dd>log is a volatile log </dd>
<dd>
rec is initialized and valid </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>None</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td>Pointer to the dtm0 log which we wish to destroy </td></tr>
    <tr><td class="paramname">rec</td><td>Pointer to a valid dtm0 log record that we want to update. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de1/dtm0__log_8c_source.html#l00555">555</a> of file <a class="el" href="../../db/de1/dtm0__log_8c_source.html">dtm0_log.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga55745cf43945907c9eeb1c1e6ea1bd50_cgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga55745cf43945907c9eeb1c1e6ea1bd50_cgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga55745cf43945907c9eeb1c1e6ea1bd50_cgraph" id="de/d0c/group___d_t_m0_internals_ga55745cf43945907c9eeb1c1e6ea1bd50_cgraph">
<area shape="rect" id="node2" href="../../d2/d66/group__dtm.html#gaf278dfc066254895c704636d8618a223" title="m0_dtm0_tx_desc_apply" alt="" coords="199,13,365,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d0c/group___d_t_m0_internals_ga55745cf43945907c9eeb1c1e6ea1bd50_icgraph.png" border="0" usemap="#de/d0c/group___d_t_m0_internals_ga55745cf43945907c9eeb1c1e6ea1bd50_icgraph" alt=""/></div>
<map name="de/d0c/group___d_t_m0_internals_ga55745cf43945907c9eeb1c1e6ea1bd50_icgraph" id="de/d0c/group___d_t_m0_internals_ga55745cf43945907c9eeb1c1e6ea1bd50_icgraph">
<area shape="rect" id="node2" href="../../d2/d66/group__dtm.html#ga12956eb6580217f620e81468c139e031" title="dtx_log_update" alt="" coords="199,13,309,39"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Apr 14 2022 14:03:32 for Motr by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
