<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Motr: motr/obj_lock.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Motr
   &#160;<span id="projectnumber">M0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('da/dcf/obj__lock_8c_source.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">obj_lock.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../da/dcf/obj__lock_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* -*- C -*- */</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2019-2020 Seagate Technology LLC and/or its Affiliates</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * you may not use this file except in compliance with the License.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * You may obtain a copy of the License at</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *     http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * See the License for the specific language governing permissions and</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * limitations under the License.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * For any questions about this software or licensing,</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * please email opensource@seagate.com or cortx-questions@seagate.com.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#gae762ad8776496e788bf62e0fa1615b61">   29</a></span>&#160;<span class="preprocessor">#define M0_TRACE_SUBSYSTEM M0_TRACE_SUBSYS_CLIENT</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d1b/trace_8h.html">lib/trace.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/dea/motr_2client_8h.html">motr/client.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/dcd/motr_2client__internal_8h.html">motr/client_internal.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/dc1/motr_2io_8h.html">motr/io.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d7c/ioservice_2fid__convert_8h.html">ioservice/fid_convert.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d2/def/group__client.html#gabba8714965f4e31ba57d1087f358bb18">rm_ctx_init</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d49/structm0__rm__lock__ctx.html">m0_rm_lock_ctx</a> *<a class="code" href="../../d5/d06/structctx.html">ctx</a>,</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                        <span class="keyword">struct</span> <a class="code" href="../../d2/dae/structm0__client.html">m0_client</a> *<a class="code" href="../../db/d54/doc_2fdmi__demo_2demo-fdmi_2clovis-app_2src_2main_8c.html#a511612809027e9b072ef756ab5a7398e">m0c</a>,</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                        <span class="keyword">struct</span> <a class="code" href="../../d9/d8a/structm0__fid.html">m0_fid</a> *<a class="code" href="../../d4/d00/ut_2di_8c.html#a051b4db29ee353e8028232061faeaa22">fid</a>);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d2/def/group__client.html#ga2de8cadad9aeb6f9fe4244bfb0970b68">rm_ctx_fini</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d3f/structm0__ref.html">m0_ref</a> *ref);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d2/def/group__client.html#ga79b23172f19e36d933712b337c508374">rm_lock_req_init</a>(<span class="keyword">struct</span> <a class="code" href="../../d0/d06/structm0__clink.html">m0_clink</a> *<a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a>,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                             <span class="keyword">struct</span> <a class="code" href="../../dd/d9a/structm0__rm__owner.html">m0_rm_owner</a> *owner,</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                             <span class="keyword">struct</span> <a class="code" href="../../d8/dbf/structm0__rm__lock__req.html">m0_rm_lock_req</a> *<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                             <span class="keyword">enum</span> <a class="code" href="../../d0/d26/group___distributed.html#gaeab9315174471992a264949bdda17a5e">m0_rm_rwlock_req_type</a> rw_type);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d2/def/group__client.html#ga1e358878872b2545ee4db012be0d1737">rm_lock_req_fini</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/dbf/structm0__rm__lock__req.html">m0_rm_lock_req</a> *<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d2/def/group__client.html#gacf924032ec5960e3e29fda08c0e9a832">obj_lock_incoming_complete</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/db4/structm0__rm__incoming.html">m0_rm_incoming</a> *in, int32_t <a class="code" href="../../d7/db8/cm_2repreb_2trigger__fop_8h.html#ac6509c6fe4cbf7bde170597172f8a288">rc</a>);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d2/def/group__client.html#ga14f7e1791353071a77a236405cdabd3e">obj_lock_incoming_conflict</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/db4/structm0__rm__incoming.html">m0_rm_incoming</a> *in);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#ga478b683817a70ec505755792be9f09f4">   60</a></span>&#160;<span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../da/db4/structm0__rm__incoming__ops.html">m0_rm_incoming_ops</a> <a class="code" href="../../d2/def/group__client.html#ga478b683817a70ec505755792be9f09f4">obj_lock_incoming_ops</a> = {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        .<a class="code" href="../../da/db4/structm0__rm__incoming__ops.html#a6ce4e31a6ace33ebf2163a5fb15b7240">rio_complete</a> = <a class="code" href="../../d2/def/group__client.html#gacf924032ec5960e3e29fda08c0e9a832">obj_lock_incoming_complete</a>,</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        .rio_conflict = <a class="code" href="../../d2/def/group__client.html#ga14f7e1791353071a77a236405cdabd3e">obj_lock_incoming_conflict</a></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;};</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#ga18437d28c051a589f50af045b7906e93">   65</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="../../d2/def/group__client.html#ga18437d28c051a589f50af045b7906e93">rm_key_eq</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *key1, <span class="keyword">const</span> <span class="keywordtype">void</span> *key2)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dd/d5f/group__fid.html#ga3beb19e1376abb495a344d48ec5c7398">m0_fid_eq</a>(key1, key2);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#gaca9fb6ed2a7c0865b76ab28eaa626ac0">   70</a></span>&#160;<span class="keyword">static</span> uint64_t <a class="code" href="../../d2/def/group__client.html#gaca9fb6ed2a7c0865b76ab28eaa626ac0">rm_hash_func</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d2/df7/structm0__htable.html">m0_htable</a> *htable, <span class="keyword">const</span> <span class="keywordtype">void</span> *k)</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dd/d5f/group__fid.html#ga61fd7d46623afe06a4835c012f895c84">m0_fid_hash</a>(k) % htable-&gt;<a class="code" href="../../d2/df7/structm0__htable.html#a5f23392c3b79073362d6a26e5b61c26b">h_bucket_nr</a>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<a class="code" href="../../d2/def/group__client.html#ga03050443447adaab2a636bda85e2af81">M0_HT_DESCR_DEFINE</a>(<a class="code" href="../../dd/daa/structrm__ctx.html">rm_ctx</a>, <span class="stringliteral">&quot;Hash-table for RM locks&quot;</span>, M0_INTERNAL,</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                   <span class="keyword">struct</span> <a class="code" href="../../d4/d49/structm0__rm__lock__ctx.html">m0_rm_lock_ctx</a>, rmc_hlink, rmc_magic,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                   <a class="code" href="../../dd/d08/magic_8h.html#a82bffe7189227eff068dab27a6040119a93a4d9b12185b433bae09da4f2f80a9d">M0_RM_MAGIC</a>, <a class="code" href="../../dd/d08/magic_8h.html#a82bffe7189227eff068dab27a6040119a7e2d10de40b4883b7456e3b139af892c">M0_RM_HEAD_MAGIC</a>,</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                   rmc_key, <a class="code" href="../../d2/def/group__client.html#gaca9fb6ed2a7c0865b76ab28eaa626ac0">rm_hash_func</a>, <a class="code" href="../../d2/def/group__client.html#ga18437d28c051a589f50af045b7906e93">rm_key_eq</a>);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<a class="code" href="../../d2/def/group__client.html#ga81b2f82b4d16868661f75f982bdd03b0">M0_HT_DEFINE</a>(<a class="code" href="../../dd/daa/structrm__ctx.html">rm_ctx</a>, M0_INTERNAL, <span class="keyword">struct</span> <a class="code" href="../../d4/d49/structm0__rm__lock__ctx.html">m0_rm_lock_ctx</a>, <span class="keyword">struct</span> <a class="code" href="../../d9/d8a/structm0__fid.html">m0_fid</a>);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#ga33389a834a51e2556fd7cdcff1d0d6fb">   82</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/def/group__client.html#ga33389a834a51e2556fd7cdcff1d0d6fb">m0_obj_lock_init</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/dc5/structm0__obj.html">m0_obj</a> *<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>)</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d9/d8a/structm0__fid.html">m0_fid</a>          <a class="code" href="../../d4/d00/ut_2di_8c.html#a051b4db29ee353e8028232061faeaa22">fid</a>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d4/d49/structm0__rm__lock__ctx.html">m0_rm_lock_ctx</a> *<a class="code" href="../../d0/d90/doc_2fdmi__demo_2demo-fdmi_2m0-instance_2src_2main_8c.html#ac199e81fb0647a009d16c212c64dc1cc">ctx</a>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d7/df4/structm0__entity.html">m0_entity</a>      *<a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a990b3e59451a0375c26a667100b5e700">ent</a> = &amp;<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>-&gt;ob_entity;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d2/dae/structm0__client.html">m0_client</a>      *<a class="code" href="../../db/d54/doc_2fdmi__demo_2demo-fdmi_2clovis-app_2src_2main_8c.html#a511612809027e9b072ef756ab5a7398e">m0c</a> = <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a990b3e59451a0375c26a667100b5e700">ent</a>-&gt;en_realm-&gt;re_instance;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <a class="code" href="../../d8/d98/group__trace.html#ga6548fb7186df5dbebd72d1bcbce1cbc3">M0_ENTRY</a>();</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="../../dc/da7/assert_8h.html#a1c063bd08f7e1ab3a6e6008ef825d471">M0_PRE</a>(<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <a class="code" href="../../d0/d47/group__fidconvert.html#gaa26e6eda8b9234bad106b30290dedc54">m0_fid_gob_make</a>(&amp;<a class="code" href="../../d4/d00/ut_2di_8c.html#a051b4db29ee353e8028232061faeaa22">fid</a>, <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a990b3e59451a0375c26a667100b5e700">ent</a>-&gt;en_id.u_hi, <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a990b3e59451a0375c26a667100b5e700">ent</a>-&gt;en_id.u_lo);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <a class="code" href="../../d8/d98/group__trace.html#gabf13f904bc760a195c4e3b75fa471f58">M0_LOG</a>(<a class="code" href="../../d8/d98/group__trace.html#gga222dfe20eda8c002fbab0ebbb2a7848ba29f4c89b4541ea18801b2d4719e275a2">M0_INFO</a>, <a class="code" href="../../dd/d5f/group__fid.html#ga70847e379a952376a6683b3eb3c99fac">FID_F</a>, <a class="code" href="../../dd/d5f/group__fid.html#ga1fc726272e853cfda6c4c347aa3bf235">FID_P</a>(&amp;<a class="code" href="../../d4/d00/ut_2di_8c.html#a051b4db29ee353e8028232061faeaa22">fid</a>));</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        rm_ctx_hbucket_lock(&amp;<a class="code" href="../../db/d54/doc_2fdmi__demo_2demo-fdmi_2clovis-app_2src_2main_8c.html#a511612809027e9b072ef756ab5a7398e">m0c</a>-&gt;m0c_rm_ctxs, &amp;<a class="code" href="../../d4/d00/ut_2di_8c.html#a051b4db29ee353e8028232061faeaa22">fid</a>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="../../d5/d06/structctx.html">ctx</a> = rm_ctx_htable_lookup(&amp;<a class="code" href="../../db/d54/doc_2fdmi__demo_2demo-fdmi_2clovis-app_2src_2main_8c.html#a511612809027e9b072ef756ab5a7398e">m0c</a>-&gt;m0c_rm_ctxs, &amp;<a class="code" href="../../d4/d00/ut_2di_8c.html#a051b4db29ee353e8028232061faeaa22">fid</a>);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/d06/structctx.html">ctx</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                <a class="code" href="../../d4/de4/refs_8c.html#ad4ed148978270f86b1af2ea8697f8aae">m0_ref_get</a>(&amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_ref);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                <a class="code" href="../../d7/ded/group__memory.html#ga2dd26426583fa272fa2061075e2dcf57">M0_ALLOC_PTR</a>(<a class="code" href="../../d5/d06/structctx.html">ctx</a>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d5/d06/structctx.html">ctx</a> == <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                        rm_ctx_hbucket_unlock(&amp;<a class="code" href="../../db/d54/doc_2fdmi__demo_2demo-fdmi_2clovis-app_2src_2main_8c.html#a511612809027e9b072ef756ab5a7398e">m0c</a>-&gt;m0c_rm_ctxs, &amp;<a class="code" href="../../d4/d00/ut_2di_8c.html#a051b4db29ee353e8028232061faeaa22">fid</a>);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079">M0_RC</a>(-ENOMEM);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                <a class="code" href="../../d2/def/group__client.html#gabba8714965f4e31ba57d1087f358bb18">rm_ctx_init</a>(<a class="code" href="../../d5/d06/structctx.html">ctx</a>, <a class="code" href="../../db/d54/doc_2fdmi__demo_2demo-fdmi_2clovis-app_2src_2main_8c.html#a511612809027e9b072ef756ab5a7398e">m0c</a>, &amp;<a class="code" href="../../d4/d00/ut_2di_8c.html#a051b4db29ee353e8028232061faeaa22">fid</a>);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                rm_ctx_htable_add(&amp;<a class="code" href="../../db/d54/doc_2fdmi__demo_2demo-fdmi_2clovis-app_2src_2main_8c.html#a511612809027e9b072ef756ab5a7398e">m0c</a>-&gt;m0c_rm_ctxs, <a class="code" href="../../d5/d06/structctx.html">ctx</a>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <a class="code" href="../../da/dd3/group__cookie.html#ga289890e8cb6e9317bf3b0ed7dc44076b">m0_cookie_init</a>(&amp;<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>-&gt;ob_cookie, &amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_gen);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        rm_ctx_hbucket_unlock(&amp;<a class="code" href="../../db/d54/doc_2fdmi__demo_2demo-fdmi_2clovis-app_2src_2main_8c.html#a511612809027e9b072ef756ab5a7398e">m0c</a>-&gt;m0c_rm_ctxs, &amp;<a class="code" href="../../d4/d00/ut_2di_8c.html#a051b4db29ee353e8028232061faeaa22">fid</a>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079">M0_RC</a>(0);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;M0_EXPORTED(<a class="code" href="../../d2/def/group__client.html#ga33389a834a51e2556fd7cdcff1d0d6fb">m0_obj_lock_init</a>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#gabba8714965f4e31ba57d1087f358bb18">  114</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d2/def/group__client.html#gabba8714965f4e31ba57d1087f358bb18">rm_ctx_init</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d49/structm0__rm__lock__ctx.html">m0_rm_lock_ctx</a> *<a class="code" href="../../d5/d06/structctx.html">ctx</a>,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                        <span class="keyword">struct</span> <a class="code" href="../../d2/dae/structm0__client.html">m0_client</a> *<a class="code" href="../../db/d54/doc_2fdmi__demo_2demo-fdmi_2clovis-app_2src_2main_8c.html#a511612809027e9b072ef756ab5a7398e">m0c</a>,</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                        <span class="keyword">struct</span> <a class="code" href="../../d9/d8a/structm0__fid.html">m0_fid</a> *<a class="code" href="../../d4/d00/ut_2di_8c.html#a051b4db29ee353e8028232061faeaa22">fid</a>)</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../de/d9b/structm0__rm__domain.html">m0_rm_domain</a>    *rdom;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d5/d33/structm0__pools__common.html">m0_pools_common</a> *<a class="code" href="../../d0/df1/iter__ut_8c.html#a4c8bc378d79b1da900e8319cb36264d1">pc</a> = &amp;<a class="code" href="../../db/d54/doc_2fdmi__demo_2demo-fdmi_2clovis-app_2src_2main_8c.html#a511612809027e9b072ef756ab5a7398e">m0c</a>-&gt;m0c_pools_common;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <a class="code" href="../../d8/d98/group__trace.html#ga6548fb7186df5dbebd72d1bcbce1cbc3">M0_ENTRY</a>();</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        rdom = <a class="code" href="../../d9/d5b/motr_2io_8c.html#a3302727202c12034aa4764cf7623c49a">rm_domain_get</a>(<a class="code" href="../../db/d54/doc_2fdmi__demo_2demo-fdmi_2clovis-app_2src_2main_8c.html#a511612809027e9b072ef756ab5a7398e">m0c</a>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="../../dc/da7/assert_8h.html#ac8bebb1ebb72c1dae891a1a1c24e7aec">M0_ASSERT</a>(rdom != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_magic = <a class="code" href="../../dd/d08/magic_8h.html#a82bffe7189227eff068dab27a6040119a93a4d9b12185b433bae09da4f2f80a9d">M0_RM_MAGIC</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_htable = &amp;<a class="code" href="../../db/d54/doc_2fdmi__demo_2demo-fdmi_2clovis-app_2src_2main_8c.html#a511612809027e9b072ef756ab5a7398e">m0c</a>-&gt;m0c_rm_ctxs;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_key = *<a class="code" href="../../d4/d00/ut_2di_8c.html#a051b4db29ee353e8028232061faeaa22">fid</a>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <a class="code" href="../../da/dd3/group__cookie.html#ga70e6219c7f5302e50b667d2d614f0e1f">m0_cookie_new</a>(&amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_gen);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        rm_ctx_tlink_init(<a class="code" href="../../d5/d06/structctx.html">ctx</a>);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <a class="code" href="../../d4/de4/refs_8c.html#a5d62779a5f7a71f16a43727e524117e0">m0_ref_init</a>(&amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_ref, 1, <a class="code" href="../../d2/def/group__client.html#ga2de8cadad9aeb6f9fe4244bfb0970b68">rm_ctx_fini</a>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="../../da/d7a/group___r_w_lock.html#ga2800c17d9c5729d148e72e9627a84744">m0_rw_lockable_init</a>(&amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_rw_file, &amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_key, rdom);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <a class="code" href="../../d2/deb/group__rm.html#ga94e9428a47babfc5c6d9a13995051b86">m0_rm_remote_init</a>(&amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_creditor, &amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_rw_file.rwl_resource);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_creditor.rem_session = <a class="code" href="../../dd/d7f/group__pool.html#ga2d1a13093f04d75e9d6c5dc32b76c3f2">m0_pools_common_active_rm_session</a>(<a class="code" href="../../d0/df1/iter__ut_8c.html#a4c8bc378d79b1da900e8319cb36264d1">pc</a>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <a class="code" href="../../dc/da7/assert_8h.html#ac8bebb1ebb72c1dae891a1a1c24e7aec">M0_ASSERT</a>(<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_creditor.rem_session != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_creditor.rem_state = <a class="code" href="../../d2/deb/group__rm.html#gga4574776b288dee9a63d39cb2ee4de929a2d08c4d36b63be0d70675dc0d17817d0">REM_SERVICE_LOCATED</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="code" href="../../dd/d5f/group__fid.html#ga66fb0fa971ce7e90bf09d5d6bc468eaf">m0_fid_tgenerate</a>(&amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_own_fid, <a class="code" href="../../d2/deb/group__rm.html#gga5c0bfe186e4d64c38a6c4fb9a76a9419ac10ca7a211f997951eb2cd463e4612b7">M0_RM_OWNER_FT</a>);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="../../da/d7a/group___r_w_lock.html#ga09c9bd19c2ad7e07e2adfdefc9f83cea">m0_rm_rwlock_owner_init</a>(&amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_owner, &amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_own_fid,</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                &amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_rw_file, &amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_creditor);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#ad1c2b8b0cf1cc0d319e690c0bef9569e">M0_LEAVE</a>();</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#gaad8fd6b1932bb15f830e7b945b46d374">  144</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/def/group__client.html#gaad8fd6b1932bb15f830e7b945b46d374">m0_obj_lock_fini</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/dc5/structm0__obj.html">m0_obj</a> *<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>)</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;{</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d4/d49/structm0__rm__lock__ctx.html">m0_rm_lock_ctx</a> *<a class="code" href="../../d0/d90/doc_2fdmi__demo_2demo-fdmi_2m0-instance_2src_2main_8c.html#ac199e81fb0647a009d16c212c64dc1cc">ctx</a>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <a class="code" href="../../d8/d98/group__trace.html#ga6548fb7186df5dbebd72d1bcbce1cbc3">M0_ENTRY</a>();</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="../../dc/da7/assert_8h.html#a1c063bd08f7e1ab3a6e6008ef825d471">M0_PRE</a>(<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <a class="code" href="../../d5/d06/structctx.html">ctx</a> = <a class="code" href="../../da/dd3/group__cookie.html#gaa0979f5a1cf3832ef547eb43c95f3323">m0_cookie_of</a>(&amp;<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>-&gt;ob_cookie, <span class="keyword">struct</span> <a class="code" href="../../d4/d49/structm0__rm__lock__ctx.html">m0_rm_lock_ctx</a>,</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                           <a class="code" href="../../d4/d49/structm0__rm__lock__ctx.html#a07becf6a86ee3ea861cb55b9478daa95">rmc_gen</a>);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <a class="code" href="../../dc/da7/assert_8h.html#ac8bebb1ebb72c1dae891a1a1c24e7aec">M0_ASSERT</a>(<a class="code" href="../../d5/d06/structctx.html">ctx</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        rm_ctx_hbucket_lock(<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_htable, &amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_key);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/de4/refs_8c.html#a7954d6835d9a918376dadcfbdffe0b19">m0_ref_read</a>(&amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_ref) == 1) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                rm_ctx_htable_del(<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_htable, <a class="code" href="../../d5/d06/structctx.html">ctx</a>);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                rm_ctx_hbucket_unlock(<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_htable, &amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_key);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <a class="code" href="../../d4/de4/refs_8c.html#a96dc9c89402bf6a5782c951d9de8285b">m0_ref_put</a>(&amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_ref);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <a class="code" href="../../d4/de4/refs_8c.html#a96dc9c89402bf6a5782c951d9de8285b">m0_ref_put</a>(&amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_ref);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                rm_ctx_hbucket_unlock(<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_htable, &amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_key);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        }</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#ad1c2b8b0cf1cc0d319e690c0bef9569e">M0_LEAVE</a>();</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;M0_EXPORTED(<a class="code" href="../../d2/def/group__client.html#gaad8fd6b1932bb15f830e7b945b46d374">m0_obj_lock_fini</a>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#ga2de8cadad9aeb6f9fe4244bfb0970b68">  168</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d2/def/group__client.html#ga2de8cadad9aeb6f9fe4244bfb0970b68">rm_ctx_fini</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d3f/structm0__ref.html">m0_ref</a> *ref)</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;{</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordtype">int</span>                           <a class="code" href="../../d7/db8/cm_2repreb_2trigger__fop_8h.html#ac6509c6fe4cbf7bde170597172f8a288">rc</a>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d4/d49/structm0__rm__lock__ctx.html">m0_rm_lock_ctx</a>        *<a class="code" href="../../d0/d90/doc_2fdmi__demo_2demo-fdmi_2m0-instance_2src_2main_8c.html#ac199e81fb0647a009d16c212c64dc1cc">ctx</a>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <a class="code" href="../../d8/d98/group__trace.html#ga6548fb7186df5dbebd72d1bcbce1cbc3">M0_ENTRY</a>();</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="../../d5/d06/structctx.html">ctx</a> = <a class="code" href="../../df/d2a/lib_2misc_8h.html#a52a2298f85ca045ab4c515c793a7dd43">M0_AMB</a>(<a class="code" href="../../d5/d06/structctx.html">ctx</a>, ref, <a class="code" href="../../d4/d49/structm0__rm__lock__ctx.html#abffe228241f848214d509d5a805ef239">rmc_ref</a>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="../../d2/deb/group__rm.html#gac98a08b5e4ff735e319304efbad7b67c">m0_rm_owner_windup</a>(&amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_owner);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="../../d7/db8/cm_2repreb_2trigger__fop_8h.html#ac6509c6fe4cbf7bde170597172f8a288">rc</a> = <a class="code" href="../../d2/deb/group__rm.html#ga56fa2cf03c2ed2d3845aed707deb2860">m0_rm_owner_timedwait</a>(&amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_owner,</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                                   <a class="code" href="../../df/d2a/lib_2misc_8h.html#ae644c20b9d43e4e0810716647b3d16be">M0_BITS</a>(<a class="code" href="../../d2/deb/group__rm.html#gga683758bed851c16625c226a2d9820072aad462eb11c9f0ebc67b36378a92733ef">ROS_FINAL</a>, <a class="code" href="../../d2/deb/group__rm.html#gga683758bed851c16625c226a2d9820072a996407d46a91d124fea9d2e4f39fa38d">ROS_INSOLVENT</a>),</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                                   <a class="code" href="../../d9/d7d/group__time.html#ga846e2e2bf3e3fb8894e8caca0f7689e3">M0_TIME_NEVER</a>);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <a class="code" href="../../dc/da7/assert_8h.html#ac8bebb1ebb72c1dae891a1a1c24e7aec">M0_ASSERT</a>(<a class="code" href="../../d7/db8/cm_2repreb_2trigger__fop_8h.html#ac6509c6fe4cbf7bde170597172f8a288">rc</a> == 0);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <a class="code" href="../../da/d7a/group___r_w_lock.html#ga43d649ef422c37e25065f6c9d6bc122e">m0_rm_rwlock_owner_fini</a>(&amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_owner);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="../../d2/deb/group__rm.html#gae5923a38936671693fed204530c5ed4c">m0_rm_remote_fini</a>(&amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_creditor);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <a class="code" href="../../da/d7a/group___r_w_lock.html#ga9f8c4a76d62db4a60d53af206579d2fc">m0_rw_lockable_fini</a>(&amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_rw_file);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        rm_ctx_tlink_fini(<a class="code" href="../../d5/d06/structctx.html">ctx</a>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <a class="code" href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3">m0_free</a>(<a class="code" href="../../d5/d06/structctx.html">ctx</a>);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#ad1c2b8b0cf1cc0d319e690c0bef9569e">M0_LEAVE</a>();</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#gaea07a3a015a1e3e09d4e58a4a9efd348">  191</a></span>&#160;M0_INTERNAL <span class="keywordtype">int</span> <a class="code" href="../../d2/def/group__client.html#gaea07a3a015a1e3e09d4e58a4a9efd348">m0_obj_lock_get</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/dc5/structm0__obj.html">m0_obj</a> *<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>,</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                <span class="keyword">struct</span> <a class="code" href="../../d8/dbf/structm0__rm__lock__req.html">m0_rm_lock_req</a> *<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>,</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                                <span class="keyword">struct</span> <a class="code" href="../../d0/d06/structm0__clink.html">m0_clink</a> *<a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a>,</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                                <span class="keyword">enum</span> <a class="code" href="../../d0/d26/group___distributed.html#gaeab9315174471992a264949bdda17a5e">m0_rm_rwlock_req_type</a> rw_type)</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d4/d49/structm0__rm__lock__ctx.html">m0_rm_lock_ctx</a> *<a class="code" href="../../d0/d90/doc_2fdmi__demo_2demo-fdmi_2m0-instance_2src_2main_8c.html#ac199e81fb0647a009d16c212c64dc1cc">ctx</a>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="../../d8/d98/group__trace.html#ga6548fb7186df5dbebd72d1bcbce1cbc3">M0_ENTRY</a>();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="../../dc/da7/assert_8h.html#a1c063bd08f7e1ab3a6e6008ef825d471">M0_PRE</a>(<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <a class="code" href="../../dc/da7/assert_8h.html#a1c063bd08f7e1ab3a6e6008ef825d471">M0_PRE</a>(<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <a class="code" href="../../dc/da7/assert_8h.html#a1c063bd08f7e1ab3a6e6008ef825d471">M0_PRE</a>(<a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <a class="code" href="../../dc/da7/assert_8h.html#ac8bebb1ebb72c1dae891a1a1c24e7aec">M0_ASSERT</a>(<a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a>-&gt;<a class="code" href="../../d0/d06/structm0__clink.html#ace3e13ae77acb9f8808595646273fa7e">cl_is_oneshot</a>);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <a class="code" href="../../d5/d06/structctx.html">ctx</a> = <a class="code" href="../../da/dd3/group__cookie.html#gaa0979f5a1cf3832ef547eb43c95f3323">m0_cookie_of</a>(&amp;<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>-&gt;ob_cookie, <span class="keyword">struct</span> <a class="code" href="../../d4/d49/structm0__rm__lock__ctx.html">m0_rm_lock_ctx</a>,</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                           <a class="code" href="../../d4/d49/structm0__rm__lock__ctx.html#a07becf6a86ee3ea861cb55b9478daa95">rmc_gen</a>);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="../../dc/da7/assert_8h.html#ac8bebb1ebb72c1dae891a1a1c24e7aec">M0_ASSERT</a>(<a class="code" href="../../d5/d06/structctx.html">ctx</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>-&gt;rlr_rc = 0;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <a class="code" href="../../d2/def/group__client.html#ga79b23172f19e36d933712b337c508374">rm_lock_req_init</a>(<a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a>, &amp;<a class="code" href="../../d5/d06/structctx.html">ctx</a>-&gt;rmc_owner, <a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>, rw_type);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <a class="code" href="../../d2/deb/group__rm.html#ga35b16fb825a3e37b39bace544db5abe5">m0_rm_credit_get</a>(&amp;<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>-&gt;rlr_in);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079">M0_RC</a>(0);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#ga738b1784f0b056e87c8315fbb9461e55">  214</a></span>&#160;M0_INTERNAL <span class="keywordtype">int</span> <a class="code" href="../../d2/def/group__client.html#ga738b1784f0b056e87c8315fbb9461e55">m0_obj_lock_get_sync</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/dc5/structm0__obj.html">m0_obj</a> *<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>,</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                                     <span class="keyword">struct</span> <a class="code" href="../../d8/dbf/structm0__rm__lock__req.html">m0_rm_lock_req</a> *<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>,</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                                     <span class="keyword">enum</span> <a class="code" href="../../d0/d26/group___distributed.html#gaeab9315174471992a264949bdda17a5e">m0_rm_rwlock_req_type</a> rw_type)</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;{</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d0/d06/structm0__clink.html">m0_clink</a> <a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <a class="code" href="../../d8/d98/group__trace.html#ga6548fb7186df5dbebd72d1bcbce1cbc3">M0_ENTRY</a>();</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <a class="code" href="../../dc/da7/assert_8h.html#a1c063bd08f7e1ab3a6e6008ef825d471">M0_PRE</a>(<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="../../dc/da7/assert_8h.html#a1c063bd08f7e1ab3a6e6008ef825d471">M0_PRE</a>(<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="../../df/da0/group__chan.html#ga005725ac0a4cb914289fa63d36827df8">m0_clink_init</a>(&amp;<a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a>, <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a>.<a class="code" href="../../d0/d06/structm0__clink.html#ace3e13ae77acb9f8808595646273fa7e">cl_is_oneshot</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <a class="code" href="../../d2/def/group__client.html#gaea07a3a015a1e3e09d4e58a4a9efd348">m0_obj_lock_get</a>(<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>, <a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>, &amp;<a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a>, rw_type);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <a class="code" href="../../df/da0/group__chan.html#ga2370fce32196fcfe356cbb47046449de">m0_chan_wait</a>(&amp;<a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a>);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="code" href="../../df/da0/group__chan.html#gad8b6e84d3a71f296b398a9c83acea322">m0_clink_fini</a>(&amp;<a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079">M0_RC</a>(<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>-&gt;rlr_rc);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#ga89f3a623a5935bc7e5c3481da41a3812">  233</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/def/group__client.html#ga89f3a623a5935bc7e5c3481da41a3812">m0_obj_write_lock_get</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/dc5/structm0__obj.html">m0_obj</a> *<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>,</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                          <span class="keyword">struct</span> <a class="code" href="../../d8/dbf/structm0__rm__lock__req.html">m0_rm_lock_req</a> *<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>,</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                          <span class="keyword">struct</span> <a class="code" href="../../d0/d06/structm0__clink.html">m0_clink</a> *<a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a>)</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;{</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="../../d8/d98/group__trace.html#ga6548fb7186df5dbebd72d1bcbce1cbc3">M0_ENTRY</a>();</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079">M0_RC</a>(<a class="code" href="../../d2/def/group__client.html#gaea07a3a015a1e3e09d4e58a4a9efd348">m0_obj_lock_get</a>(<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>, <a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>, <a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a>, <a class="code" href="../../d0/d26/group___distributed.html#ggaeab9315174471992a264949bdda17a5ea4b3f046c8a1e4d71cbdd7ac0efb1c2eb">RM_RWLOCK_WRITE</a>));</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;M0_EXPORTED(<a class="code" href="../../d2/def/group__client.html#ga89f3a623a5935bc7e5c3481da41a3812">m0_obj_write_lock_get</a>);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#ga3221f58098cfedf2584c570769cc398e">  242</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/def/group__client.html#ga3221f58098cfedf2584c570769cc398e">m0_obj_write_lock_get_sync</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/dc5/structm0__obj.html">m0_obj</a> *<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>,</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                               <span class="keyword">struct</span> <a class="code" href="../../d8/dbf/structm0__rm__lock__req.html">m0_rm_lock_req</a> *<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>)</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;{</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <a class="code" href="../../d8/d98/group__trace.html#ga6548fb7186df5dbebd72d1bcbce1cbc3">M0_ENTRY</a>();</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079">M0_RC</a>(<a class="code" href="../../d2/def/group__client.html#ga738b1784f0b056e87c8315fbb9461e55">m0_obj_lock_get_sync</a>(<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>, <a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>, <a class="code" href="../../d0/d26/group___distributed.html#ggaeab9315174471992a264949bdda17a5ea4b3f046c8a1e4d71cbdd7ac0efb1c2eb">RM_RWLOCK_WRITE</a>));</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;M0_EXPORTED(<a class="code" href="../../d2/def/group__client.html#ga3221f58098cfedf2584c570769cc398e">m0_obj_write_lock_get_sync</a>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#gae7dbfb43419dfc48ee395ed34e6a3dca">  250</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/def/group__client.html#gae7dbfb43419dfc48ee395ed34e6a3dca">m0_obj_read_lock_get</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/dc5/structm0__obj.html">m0_obj</a> *<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>,</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                         <span class="keyword">struct</span> <a class="code" href="../../d8/dbf/structm0__rm__lock__req.html">m0_rm_lock_req</a> *<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>,</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                         <span class="keyword">struct</span> <a class="code" href="../../d0/d06/structm0__clink.html">m0_clink</a> *<a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a>)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;{</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <a class="code" href="../../d8/d98/group__trace.html#ga6548fb7186df5dbebd72d1bcbce1cbc3">M0_ENTRY</a>();</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079">M0_RC</a>(<a class="code" href="../../d2/def/group__client.html#gaea07a3a015a1e3e09d4e58a4a9efd348">m0_obj_lock_get</a>(<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>, <a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>, <a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a>, <a class="code" href="../../d0/d26/group___distributed.html#ggaeab9315174471992a264949bdda17a5ea8da17f39a1fbfee5d41612badefb1199">RM_RWLOCK_READ</a>));</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;M0_EXPORTED(<a class="code" href="../../d2/def/group__client.html#gae7dbfb43419dfc48ee395ed34e6a3dca">m0_obj_read_lock_get</a>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#ga8aa17bde029951cbc55e41ff56482f78">  259</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/def/group__client.html#ga8aa17bde029951cbc55e41ff56482f78">m0_obj_read_lock_get_sync</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/dc5/structm0__obj.html">m0_obj</a> *<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>,</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                              <span class="keyword">struct</span> <a class="code" href="../../d8/dbf/structm0__rm__lock__req.html">m0_rm_lock_req</a> *<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>)</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;{</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <a class="code" href="../../d8/d98/group__trace.html#ga6548fb7186df5dbebd72d1bcbce1cbc3">M0_ENTRY</a>();</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079">M0_RC</a>(<a class="code" href="../../d2/def/group__client.html#ga738b1784f0b056e87c8315fbb9461e55">m0_obj_lock_get_sync</a>(<a class="code" href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a>, <a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>, <a class="code" href="../../d0/d26/group___distributed.html#ggaeab9315174471992a264949bdda17a5ea8da17f39a1fbfee5d41612badefb1199">RM_RWLOCK_READ</a>));</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;M0_EXPORTED(<a class="code" href="../../d2/def/group__client.html#ga8aa17bde029951cbc55e41ff56482f78">m0_obj_read_lock_get_sync</a>);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#gaa335ee111e5ac4fa91ec36216810f1eb">  267</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/def/group__client.html#gaa335ee111e5ac4fa91ec36216810f1eb">m0_obj_lock_put</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/dbf/structm0__rm__lock__req.html">m0_rm_lock_req</a> *<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>)</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;{</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <a class="code" href="../../d8/d98/group__trace.html#ga6548fb7186df5dbebd72d1bcbce1cbc3">M0_ENTRY</a>();</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <a class="code" href="../../dc/da7/assert_8h.html#a1c063bd08f7e1ab3a6e6008ef825d471">M0_PRE</a>(<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a> != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <a class="code" href="../../d2/deb/group__rm.html#ga5642217a5a12914f27500be7aa65154a">m0_rm_credit_put</a>(&amp;<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>-&gt;rlr_in);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <a class="code" href="../../d2/def/group__client.html#ga1e358878872b2545ee4db012be0d1737">rm_lock_req_fini</a>(<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#ad1c2b8b0cf1cc0d319e690c0bef9569e">M0_LEAVE</a>();</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;M0_EXPORTED(<a class="code" href="../../d2/def/group__client.html#gaa335ee111e5ac4fa91ec36216810f1eb">m0_obj_lock_put</a>);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#ga79b23172f19e36d933712b337c508374">  279</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d2/def/group__client.html#ga79b23172f19e36d933712b337c508374">rm_lock_req_init</a>(<span class="keyword">struct</span> <a class="code" href="../../d0/d06/structm0__clink.html">m0_clink</a> *<a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a>,</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                             <span class="keyword">struct</span> <a class="code" href="../../dd/d9a/structm0__rm__owner.html">m0_rm_owner</a> *owner,</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                             <span class="keyword">struct</span> <a class="code" href="../../d8/dbf/structm0__rm__lock__req.html">m0_rm_lock_req</a> *<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>,</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                             <span class="keyword">enum</span> <a class="code" href="../../d0/d26/group___distributed.html#gaeab9315174471992a264949bdda17a5e">m0_rm_rwlock_req_type</a> rw_type)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;{</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <a class="code" href="../../d8/d98/group__trace.html#ga6548fb7186df5dbebd72d1bcbce1cbc3">M0_ENTRY</a>();</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <a class="code" href="../../da/d7a/group___r_w_lock.html#gaec14c8481849e52572f1ceb59da13c75">m0_rm_rwlock_req_init</a>(&amp;<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>-&gt;rlr_in, owner, &amp;<a class="code" href="../../d2/def/group__client.html#ga478b683817a70ec505755792be9f09f4">obj_lock_incoming_ops</a>,</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                               <a class="code" href="../../d2/deb/group__rm.html#gga7ad065e42df568aba543a60625f372b7ad5f69f7fea90a27489abe915338e9a50">RIF_LOCAL_WAIT</a> | <a class="code" href="../../d2/deb/group__rm.html#gga7ad065e42df568aba543a60625f372b7aa2d2b4f5e0e5f9bc0c197c77524fea88">RIF_MAY_BORROW</a> |</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                               <a class="code" href="../../d2/deb/group__rm.html#gga7ad065e42df568aba543a60625f372b7af6e7b4d4dcd1a17ae74b2458f7576e0a">RIF_MAY_REVOKE</a> | <a class="code" href="../../d2/deb/group__rm.html#gga7ad065e42df568aba543a60625f372b7a5513e12e37ad0d4e7980eb9294763a11">RIF_RESERVE</a>, rw_type);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <a class="code" href="../../d0/d04/group__mutex.html#ga342a63c7734a82930710cafbe895013f">m0_mutex_init</a>(&amp;<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>-&gt;rlr_mutex);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <a class="code" href="../../df/da0/group__chan.html#ga8305aab80d2ff73f3130d28287b0045e">m0_chan_init</a>(&amp;<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>-&gt;rlr_chan, &amp;<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>-&gt;rlr_mutex);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <a class="code" href="../../df/da0/group__chan.html#ga92e0383d9a40b90bf5b0c4246c78c926">m0_clink_add_lock</a>(&amp;<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>-&gt;rlr_chan, <a class="code" href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a>);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#ad1c2b8b0cf1cc0d319e690c0bef9569e">M0_LEAVE</a>();</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#ga1e358878872b2545ee4db012be0d1737">  296</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d2/def/group__client.html#ga1e358878872b2545ee4db012be0d1737">rm_lock_req_fini</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/dbf/structm0__rm__lock__req.html">m0_rm_lock_req</a> *<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>)</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;{</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="../../d8/d98/group__trace.html#ga6548fb7186df5dbebd72d1bcbce1cbc3">M0_ENTRY</a>();</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="../../df/da0/group__chan.html#ga504531d5c2d9696fff877d01cb05cf11">m0_chan_fini_lock</a>(&amp;<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>-&gt;rlr_chan);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <a class="code" href="../../d0/d04/group__mutex.html#ga3343af66e17b74ebf3f77fa6a31201c4">m0_mutex_fini</a>(&amp;<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>-&gt;rlr_mutex);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <a class="code" href="../../d2/deb/group__rm.html#gab1a04ef57fb9eedf5d2f44e85f24dcf8">m0_rm_incoming_fini</a>(&amp;<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>-&gt;rlr_in);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#ad1c2b8b0cf1cc0d319e690c0bef9569e">M0_LEAVE</a>();</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#gacf924032ec5960e3e29fda08c0e9a832">  307</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d2/def/group__client.html#gacf924032ec5960e3e29fda08c0e9a832">obj_lock_incoming_complete</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/db4/structm0__rm__incoming.html">m0_rm_incoming</a> *in, int32_t <a class="code" href="../../d7/db8/cm_2repreb_2trigger__fop_8h.html#ac6509c6fe4cbf7bde170597172f8a288">rc</a>)</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;{</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d8/dbf/structm0__rm__lock__req.html">m0_rm_lock_req</a> *<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <a class="code" href="../../d8/d98/group__trace.html#ga6548fb7186df5dbebd72d1bcbce1cbc3">M0_ENTRY</a>();</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a> = <a class="code" href="../../df/d2a/lib_2misc_8h.html#a52a2298f85ca045ab4c515c793a7dd43">M0_AMB</a>(<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>, in, <a class="code" href="../../d8/dbf/structm0__rm__lock__req.html#a48d56422e9d64f4c135acfcb3246b02a">rlr_in</a>);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>-&gt;rlr_rc = <a class="code" href="../../d7/db8/cm_2repreb_2trigger__fop_8h.html#ac6509c6fe4cbf7bde170597172f8a288">rc</a>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="comment">/* Signals the thread waiting for the lock to be granted */</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <a class="code" href="../../df/da0/group__chan.html#ga256e130fea14abb8d2e46abb0741425f">m0_chan_broadcast_lock</a>(&amp;<a class="code" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a>-&gt;rlr_chan);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#ad1c2b8b0cf1cc0d319e690c0bef9569e">M0_LEAVE</a>();</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;}</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="../../d2/def/group__client.html#ga14f7e1791353071a77a236405cdabd3e">  321</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d2/def/group__client.html#ga14f7e1791353071a77a236405cdabd3e">obj_lock_incoming_conflict</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/db4/structm0__rm__incoming.html">m0_rm_incoming</a> *in)</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;{</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="comment">/* Do nothing */</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;}</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="preprocessor">#undef M0_TRACE_SUBSYSTEM</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"> *  Local variables:</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"> *  c-indentation-style: &quot;K&amp;R&quot;</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment"> *  c-basic-offset: 8</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"> *  tab-width: 8</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"> *  fill-column: 80</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment"> *  scroll-step: 1</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"> *  End:</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"> */</span></div><div class="ttc" id="group__chan_html_ga2370fce32196fcfe356cbb47046449de"><div class="ttname"><a href="../../df/da0/group__chan.html#ga2370fce32196fcfe356cbb47046449de">m0_chan_wait</a></div><div class="ttdeci">M0_INTERNAL void m0_chan_wait(struct m0_clink *link)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da2/chan_8c_source.html#l00336">chan.c:336</a></div></div>
<div class="ttc" id="group__rm_html_gga683758bed851c16625c226a2d9820072a996407d46a91d124fea9d2e4f39fa38d"><div class="ttname"><a href="../../d2/deb/group__rm.html#gga683758bed851c16625c226a2d9820072a996407d46a91d124fea9d2e4f39fa38d">ROS_INSOLVENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/rm_8h_source.html#l00856">rm.h:856</a></div></div>
<div class="ttc" id="assert_8h_html_a1c063bd08f7e1ab3a6e6008ef825d471"><div class="ttname"><a href="../../dc/da7/assert_8h.html#a1c063bd08f7e1ab3a6e6008ef825d471">M0_PRE</a></div><div class="ttdeci">#define M0_PRE(cond)</div></div>
<div class="ttc" id="group__fidconvert_html_gaa26e6eda8b9234bad106b30290dedc54"><div class="ttname"><a href="../../d0/d47/group__fidconvert.html#gaa26e6eda8b9234bad106b30290dedc54">m0_fid_gob_make</a></div><div class="ttdeci">M0_INTERNAL void m0_fid_gob_make(struct m0_fid *gob_fid, uint32_t container, uint64_t key)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d02/ioservice_2fid__convert_8c_source.html#l00046">fid_convert.c:46</a></div></div>
<div class="ttc" id="trace_8h_html"><div class="ttname"><a href="../../d1/d1b/trace_8h.html">trace.h</a></div></div>
<div class="ttc" id="group__chan_html_ga256e130fea14abb8d2e46abb0741425f"><div class="ttname"><a href="../../df/da0/group__chan.html#ga256e130fea14abb8d2e46abb0741425f">m0_chan_broadcast_lock</a></div><div class="ttdeci">M0_INTERNAL void m0_chan_broadcast_lock(struct m0_chan *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da2/chan_8c_source.html#l00178">chan.c:178</a></div></div>
<div class="ttc" id="structm0__obj_html"><div class="ttname"><a href="../../d3/dc5/structm0__obj.html">m0_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dea/motr_2client_8h_source.html#l00788">client.h:788</a></div></div>
<div class="ttc" id="structm0__clink_html"><div class="ttname"><a href="../../d0/d06/structm0__clink.html">m0_clink</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcf/chan_8h_source.html#l00274">chan.h:274</a></div></div>
<div class="ttc" id="group__client_html_gaa335ee111e5ac4fa91ec36216810f1eb"><div class="ttname"><a href="../../d2/def/group__client.html#gaa335ee111e5ac4fa91ec36216810f1eb">m0_obj_lock_put</a></div><div class="ttdeci">void m0_obj_lock_put(struct m0_rm_lock_req *req)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00267">obj_lock.c:267</a></div></div>
<div class="ttc" id="group__fid_html_ga61fd7d46623afe06a4835c012f895c84"><div class="ttname"><a href="../../dd/d5f/group__fid.html#ga61fd7d46623afe06a4835c012f895c84">m0_fid_hash</a></div><div class="ttdeci">M0_INTERNAL uint64_t m0_fid_hash(const struct m0_fid *fid)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2d/fid_8c_source.html#l00295">fid.c:295</a></div></div>
<div class="ttc" id="lib_2user__space_2misc_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/lib_2user__space_2misc_8h_source.html#l00038">misc.h:38</a></div></div>
<div class="ttc" id="group__chan_html_ga005725ac0a4cb914289fa63d36827df8"><div class="ttname"><a href="../../df/da0/group__chan.html#ga005725ac0a4cb914289fa63d36827df8">m0_clink_init</a></div><div class="ttdeci">M0_INTERNAL void m0_clink_init(struct m0_clink *link, m0_chan_cb_t cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da2/chan_8c_source.html#l00201">chan.c:201</a></div></div>
<div class="ttc" id="structm0__rm__incoming__ops_html_a6ce4e31a6ace33ebf2163a5fb15b7240"><div class="ttname"><a href="../../da/db4/structm0__rm__incoming__ops.html#a6ce4e31a6ace33ebf2163a5fb15b7240">m0_rm_incoming_ops::rio_complete</a></div><div class="ttdeci">void(* rio_complete)(struct m0_rm_incoming *in, int32_t rc)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/rm_8h_source.html#l01493">rm.h:1493</a></div></div>
<div class="ttc" id="group__time_html_ga846e2e2bf3e3fb8894e8caca0f7689e3"><div class="ttname"><a href="../../d9/d7d/group__time.html#ga846e2e2bf3e3fb8894e8caca0f7689e3">M0_TIME_NEVER</a></div><div class="ttdeci">const m0_time_t M0_TIME_NEVER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d73/time_8c_source.html#l00108">time.c:108</a></div></div>
<div class="ttc" id="m0t1fs_2linux__kernel_2ut_2file_8c_html_ac1fb8115dcbccb2cdc6477b47df13a3a"><div class="ttname"><a href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#ac1fb8115dcbccb2cdc6477b47df13a3a">req</a></div><div class="ttdeci">static struct io_request req</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c_source.html#l00100">file.c:100</a></div></div>
<div class="ttc" id="group__client_html_gae7dbfb43419dfc48ee395ed34e6a3dca"><div class="ttname"><a href="../../d2/def/group__client.html#gae7dbfb43419dfc48ee395ed34e6a3dca">m0_obj_read_lock_get</a></div><div class="ttdeci">int m0_obj_read_lock_get(struct m0_obj *obj, struct m0_rm_lock_req *req, struct m0_clink *clink)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00250">obj_lock.c:250</a></div></div>
<div class="ttc" id="motr_2client__internal_8h_html"><div class="ttname"><a href="../../d7/dcd/motr_2client__internal_8h.html">client_internal.h</a></div></div>
<div class="ttc" id="group__trace_html_gabf13f904bc760a195c4e3b75fa471f58"><div class="ttname"><a href="../../d8/d98/group__trace.html#gabf13f904bc760a195c4e3b75fa471f58">M0_LOG</a></div><div class="ttdeci">#define M0_LOG(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1b/trace_8h_source.html#l00167">trace.h:167</a></div></div>
<div class="ttc" id="m0t1fs_2linux__kernel_2dir_8c_html_ad1c2b8b0cf1cc0d319e690c0bef9569e"><div class="ttname"><a href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#ad1c2b8b0cf1cc0d319e690c0bef9569e">M0_LEAVE</a></div><div class="ttdeci">M0_LEAVE()</div></div>
<div class="ttc" id="structm0__rm__domain_html"><div class="ttname"><a href="../../de/d9b/structm0__rm__domain.html">m0_rm_domain</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/rm_8h_source.html#l00279">rm.h:279</a></div></div>
<div class="ttc" id="group__client_html_gabba8714965f4e31ba57d1087f358bb18"><div class="ttname"><a href="../../d2/def/group__client.html#gabba8714965f4e31ba57d1087f358bb18">rm_ctx_init</a></div><div class="ttdeci">static void rm_ctx_init(struct m0_rm_lock_ctx *ctx, struct m0_client *m0c, struct m0_fid *fid)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00114">obj_lock.c:114</a></div></div>
<div class="ttc" id="group__client_html_ga3221f58098cfedf2584c570769cc398e"><div class="ttname"><a href="../../d2/def/group__client.html#ga3221f58098cfedf2584c570769cc398e">m0_obj_write_lock_get_sync</a></div><div class="ttdeci">int m0_obj_write_lock_get_sync(struct m0_obj *obj, struct m0_rm_lock_req *req)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00242">obj_lock.c:242</a></div></div>
<div class="ttc" id="group__client_html_gacf924032ec5960e3e29fda08c0e9a832"><div class="ttname"><a href="../../d2/def/group__client.html#gacf924032ec5960e3e29fda08c0e9a832">obj_lock_incoming_complete</a></div><div class="ttdeci">static void obj_lock_incoming_complete(struct m0_rm_incoming *in, int32_t rc)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00307">obj_lock.c:307</a></div></div>
<div class="ttc" id="group___r_w_lock_html_gaec14c8481849e52572f1ceb59da13c75"><div class="ttname"><a href="../../da/d7a/group___r_w_lock.html#gaec14c8481849e52572f1ceb59da13c75">m0_rm_rwlock_req_init</a></div><div class="ttdeci">M0_INTERNAL void m0_rm_rwlock_req_init(struct m0_rm_incoming *req, struct m0_rm_owner *owner, const struct m0_rm_incoming_ops *ops, enum m0_rm_incoming_flags flags, enum m0_rm_rwlock_req_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8d/rm__rwlock_8c_source.html#l00548">rm_rwlock.c:548</a></div></div>
<div class="ttc" id="group__client_html_ga33389a834a51e2556fd7cdcff1d0d6fb"><div class="ttname"><a href="../../d2/def/group__client.html#ga33389a834a51e2556fd7cdcff1d0d6fb">m0_obj_lock_init</a></div><div class="ttdeci">int m0_obj_lock_init(struct m0_obj *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00082">obj_lock.c:82</a></div></div>
<div class="ttc" id="group__client_html_ga89f3a623a5935bc7e5c3481da41a3812"><div class="ttname"><a href="../../d2/def/group__client.html#ga89f3a623a5935bc7e5c3481da41a3812">m0_obj_write_lock_get</a></div><div class="ttdeci">int m0_obj_write_lock_get(struct m0_obj *obj, struct m0_rm_lock_req *req, struct m0_clink *clink)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00233">obj_lock.c:233</a></div></div>
<div class="ttc" id="doc_2fdmi__demo_2demo-fdmi_2clovis-app_2src_2main_8c_html_a511612809027e9b072ef756ab5a7398e"><div class="ttname"><a href="../../db/d54/doc_2fdmi__demo_2demo-fdmi_2clovis-app_2src_2main_8c.html#a511612809027e9b072ef756ab5a7398e">m0c</a></div><div class="ttdeci">static struct m0_clovis * m0c</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/doc_2fdmi__demo_2demo-fdmi_2clovis-app_2src_2main_8c_source.html#l00025">main.c:25</a></div></div>
<div class="ttc" id="structm0__htable_html"><div class="ttname"><a href="../../d2/df7/structm0__htable.html">m0_htable</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfb/hash_8h_source.html#l00173">hash.h:173</a></div></div>
<div class="ttc" id="lib_2misc_8h_html_ae644c20b9d43e4e0810716647b3d16be"><div class="ttname"><a href="../../df/d2a/lib_2misc_8h.html#ae644c20b9d43e4e0810716647b3d16be">M0_BITS</a></div><div class="ttdeci">#define M0_BITS(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2a/lib_2misc_8h_source.html#l00236">misc.h:236</a></div></div>
<div class="ttc" id="group__rm_html_ga94e9428a47babfc5c6d9a13995051b86"><div class="ttname"><a href="../../d2/deb/group__rm.html#ga94e9428a47babfc5c6d9a13995051b86">m0_rm_remote_init</a></div><div class="ttdeci">M0_INTERNAL void m0_rm_remote_init(struct m0_rm_remote *rem, struct m0_rm_resource *res)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/rm_8c_source.html#l01411">rm.c:1411</a></div></div>
<div class="ttc" id="group__client_html_gaad8fd6b1932bb15f830e7b945b46d374"><div class="ttname"><a href="../../d2/def/group__client.html#gaad8fd6b1932bb15f830e7b945b46d374">m0_obj_lock_fini</a></div><div class="ttdeci">void m0_obj_lock_fini(struct m0_obj *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00144">obj_lock.c:144</a></div></div>
<div class="ttc" id="group___r_w_lock_html_ga9f8c4a76d62db4a60d53af206579d2fc"><div class="ttname"><a href="../../da/d7a/group___r_w_lock.html#ga9f8c4a76d62db4a60d53af206579d2fc">m0_rw_lockable_fini</a></div><div class="ttdeci">M0_INTERNAL void m0_rw_lockable_fini(struct m0_rw_lockable *lockable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8d/rm__rwlock_8c_source.html#l00523">rm_rwlock.c:523</a></div></div>
<div class="ttc" id="ut_2tlist_8c_html_a21dc5b93c91d40e224e7bb5fc98016eb"><div class="ttname"><a href="../../dc/dc9/ut_2tlist_8c.html#a21dc5b93c91d40e224e7bb5fc98016eb">obj</a></div><div class="ttdeci">static struct foo * obj</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc9/ut_2tlist_8c_source.html#l00302">tlist.c:302</a></div></div>
<div class="ttc" id="group__rm_html_ga56fa2cf03c2ed2d3845aed707deb2860"><div class="ttname"><a href="../../d2/deb/group__rm.html#ga56fa2cf03c2ed2d3845aed707deb2860">m0_rm_owner_timedwait</a></div><div class="ttdeci">M0_INTERNAL int m0_rm_owner_timedwait(struct m0_rm_owner *owner, uint64_t state, const m0_time_t abs_timeout)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/rm_8c_source.html#l00892">rm.c:892</a></div></div>
<div class="ttc" id="iter__ut_8c_html_a4c8bc378d79b1da900e8319cb36264d1"><div class="ttname"><a href="../../d0/df1/iter__ut_8c.html#a4c8bc378d79b1da900e8319cb36264d1">pc</a></div><div class="ttdeci">static struct m0_pools_common pc</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df1/iter__ut_8c_source.html#l00059">iter_ut.c:59</a></div></div>
<div class="ttc" id="magic_8h_html_a82bffe7189227eff068dab27a6040119a7e2d10de40b4883b7456e3b139af892c"><div class="ttname"><a href="../../dd/d08/magic_8h.html#a82bffe7189227eff068dab27a6040119a7e2d10de40b4883b7456e3b139af892c">M0_RM_HEAD_MAGIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/magic_8h_source.html#l01109">magic.h:1109</a></div></div>
<div class="ttc" id="ut_2di_8c_html_a051b4db29ee353e8028232061faeaa22"><div class="ttname"><a href="../../d4/d00/ut_2di_8c.html#a051b4db29ee353e8028232061faeaa22">fid</a></div><div class="ttdeci">struct m0_fid fid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d00/ut_2di_8c_source.html#l00046">di.c:46</a></div></div>
<div class="ttc" id="m0t1fs_2linux__kernel_2dir_8c_html_a9a02a790ad457506f9f3bc12121e6079"><div class="ttname"><a href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079">M0_RC</a></div><div class="ttdeci">return M0_RC(rc)</div></div>
<div class="ttc" id="structm0__rm__incoming_html"><div class="ttname"><a href="../../d3/db4/structm0__rm__incoming.html">m0_rm_incoming</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/rm_8h_source.html#l01434">rm.h:1434</a></div></div>
<div class="ttc" id="structm0__clink_html_ace3e13ae77acb9f8808595646273fa7e"><div class="ttname"><a href="../../d0/d06/structm0__clink.html#ace3e13ae77acb9f8808595646273fa7e">m0_clink::cl_is_oneshot</a></div><div class="ttdeci">bool cl_is_oneshot</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcf/chan_8h_source.html#l00284">chan.h:284</a></div></div>
<div class="ttc" id="structm0__entity_html"><div class="ttname"><a href="../../d7/df4/structm0__entity.html">m0_entity</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dea/motr_2client_8h_source.html#l00704">client.h:704</a></div></div>
<div class="ttc" id="group__trace_html_ga6548fb7186df5dbebd72d1bcbce1cbc3"><div class="ttname"><a href="../../d8/d98/group__trace.html#ga6548fb7186df5dbebd72d1bcbce1cbc3">M0_ENTRY</a></div><div class="ttdeci">#define M0_ENTRY(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1b/trace_8h_source.html#l00170">trace.h:170</a></div></div>
<div class="ttc" id="group___r_w_lock_html_ga09c9bd19c2ad7e07e2adfdefc9f83cea"><div class="ttname"><a href="../../da/d7a/group___r_w_lock.html#ga09c9bd19c2ad7e07e2adfdefc9f83cea">m0_rm_rwlock_owner_init</a></div><div class="ttdeci">M0_INTERNAL void m0_rm_rwlock_owner_init(struct m0_rm_owner *owner, struct m0_fid *fid, struct m0_rw_lockable *lockable, struct m0_rm_remote *creditor)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8d/rm__rwlock_8c_source.html#l00532">rm_rwlock.c:532</a></div></div>
<div class="ttc" id="group___distributed_html_gaeab9315174471992a264949bdda17a5e"><div class="ttname"><a href="../../d0/d26/group___distributed.html#gaeab9315174471992a264949bdda17a5e">m0_rm_rwlock_req_type</a></div><div class="ttdeci">m0_rm_rwlock_req_type</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d5e/rm__rwlock_8h_source.html#l00104">rm_rwlock.h:104</a></div></div>
<div class="ttc" id="group__client_html_ga2de8cadad9aeb6f9fe4244bfb0970b68"><div class="ttname"><a href="../../d2/def/group__client.html#ga2de8cadad9aeb6f9fe4244bfb0970b68">rm_ctx_fini</a></div><div class="ttdeci">static void rm_ctx_fini(struct m0_ref *ref)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00168">obj_lock.c:168</a></div></div>
<div class="ttc" id="structm0__rm__lock__ctx_html_abffe228241f848214d509d5a805ef239"><div class="ttname"><a href="../../d4/d49/structm0__rm__lock__ctx.html#abffe228241f848214d509d5a805ef239">m0_rm_lock_ctx::rmc_ref</a></div><div class="ttdeci">struct m0_ref rmc_ref</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dcd/motr_2client__internal_8h_source.html#l00658">client_internal.h:658</a></div></div>
<div class="ttc" id="group__rm_html_gga7ad065e42df568aba543a60625f372b7ad5f69f7fea90a27489abe915338e9a50"><div class="ttname"><a href="../../d2/deb/group__rm.html#gga7ad065e42df568aba543a60625f372b7ad5f69f7fea90a27489abe915338e9a50">RIF_LOCAL_WAIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/rm_8h_source.html#l01213">rm.h:1213</a></div></div>
<div class="ttc" id="group__client_html_ga1e358878872b2545ee4db012be0d1737"><div class="ttname"><a href="../../d2/def/group__client.html#ga1e358878872b2545ee4db012be0d1737">rm_lock_req_fini</a></div><div class="ttdeci">static void rm_lock_req_fini(struct m0_rm_lock_req *req)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00296">obj_lock.c:296</a></div></div>
<div class="ttc" id="structm0__rm__lock__req_html_a48d56422e9d64f4c135acfcb3246b02a"><div class="ttname"><a href="../../d8/dbf/structm0__rm__lock__req.html#a48d56422e9d64f4c135acfcb3246b02a">m0_rm_lock_req::rlr_in</a></div><div class="ttdeci">struct m0_rm_incoming rlr_in</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dcd/motr_2client__internal_8h_source.html#l00677">client_internal.h:677</a></div></div>
<div class="ttc" id="refs_8c_html_a96dc9c89402bf6a5782c951d9de8285b"><div class="ttname"><a href="../../d4/de4/refs_8c.html#a96dc9c89402bf6a5782c951d9de8285b">m0_ref_put</a></div><div class="ttdeci">M0_INTERNAL void m0_ref_put(struct m0_ref *ref)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de4/refs_8c_source.html#l00038">refs.c:38</a></div></div>
<div class="ttc" id="structrm__ctx_html"><div class="ttname"><a href="../../dd/daa/structrm__ctx.html">rm_ctx</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d02/rmut_8h_source.html#l00123">rmut.h:123</a></div></div>
<div class="ttc" id="refs_8c_html_a5d62779a5f7a71f16a43727e524117e0"><div class="ttname"><a href="../../d4/de4/refs_8c.html#a5d62779a5f7a71f16a43727e524117e0">m0_ref_init</a></div><div class="ttdeci">void m0_ref_init(struct m0_ref *ref, int init_num, void(*release)(struct m0_ref *ref))</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de4/refs_8c_source.html#l00024">refs.c:24</a></div></div>
<div class="ttc" id="group__client_html_ga8aa17bde029951cbc55e41ff56482f78"><div class="ttname"><a href="../../d2/def/group__client.html#ga8aa17bde029951cbc55e41ff56482f78">m0_obj_read_lock_get_sync</a></div><div class="ttdeci">int m0_obj_read_lock_get_sync(struct m0_obj *obj, struct m0_rm_lock_req *req)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00259">obj_lock.c:259</a></div></div>
<div class="ttc" id="refs_8c_html_ad4ed148978270f86b1af2ea8697f8aae"><div class="ttname"><a href="../../d4/de4/refs_8c.html#ad4ed148978270f86b1af2ea8697f8aae">m0_ref_get</a></div><div class="ttdeci">M0_INTERNAL void m0_ref_get(struct m0_ref *ref)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de4/refs_8c_source.html#l00032">refs.c:32</a></div></div>
<div class="ttc" id="group___distributed_html_ggaeab9315174471992a264949bdda17a5ea4b3f046c8a1e4d71cbdd7ac0efb1c2eb"><div class="ttname"><a href="../../d0/d26/group___distributed.html#ggaeab9315174471992a264949bdda17a5ea4b3f046c8a1e4d71cbdd7ac0efb1c2eb">RM_RWLOCK_WRITE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d5e/rm__rwlock_8h_source.html#l00106">rm_rwlock.h:106</a></div></div>
<div class="ttc" id="group__trace_html_gga222dfe20eda8c002fbab0ebbb2a7848ba29f4c89b4541ea18801b2d4719e275a2"><div class="ttname"><a href="../../d8/d98/group__trace.html#gga222dfe20eda8c002fbab0ebbb2a7848ba29f4c89b4541ea18801b2d4719e275a2">M0_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1b/trace_8h_source.html#l00482">trace.h:482</a></div></div>
<div class="ttc" id="group___r_w_lock_html_ga43d649ef422c37e25065f6c9d6bc122e"><div class="ttname"><a href="../../da/d7a/group___r_w_lock.html#ga43d649ef422c37e25065f6c9d6bc122e">m0_rm_rwlock_owner_fini</a></div><div class="ttdeci">M0_INTERNAL void m0_rm_rwlock_owner_fini(struct m0_rm_owner *owner)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8d/rm__rwlock_8c_source.html#l00542">rm_rwlock.c:542</a></div></div>
<div class="ttc" id="group__rm_html_gga5c0bfe186e4d64c38a6c4fb9a76a9419ac10ca7a211f997951eb2cd463e4612b7"><div class="ttname"><a href="../../d2/deb/group__rm.html#gga5c0bfe186e4d64c38a6c4fb9a76a9419ac10ca7a211f997951eb2cd463e4612b7">M0_RM_OWNER_FT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/rm_8h_source.html#l00241">rm.h:241</a></div></div>
<div class="ttc" id="lib_2misc_8h_html_a52a2298f85ca045ab4c515c793a7dd43"><div class="ttname"><a href="../../df/d2a/lib_2misc_8h.html#a52a2298f85ca045ab4c515c793a7dd43">M0_AMB</a></div><div class="ttdeci">#define M0_AMB(obj, ptr, field)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2a/lib_2misc_8h_source.html#l00320">misc.h:320</a></div></div>
<div class="ttc" id="structm0__ref_html"><div class="ttname"><a href="../../dd/d3f/structm0__ref.html">m0_ref</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df7/refs_8h_source.html#l00034">refs.h:34</a></div></div>
<div class="ttc" id="group__rm_html_gga7ad065e42df568aba543a60625f372b7af6e7b4d4dcd1a17ae74b2458f7576e0a"><div class="ttname"><a href="../../d2/deb/group__rm.html#gga7ad065e42df568aba543a60625f372b7af6e7b4d4dcd1a17ae74b2458f7576e0a">RIF_MAY_REVOKE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/rm_8h_source.html#l01188">rm.h:1188</a></div></div>
<div class="ttc" id="group__chan_html_ga8305aab80d2ff73f3130d28287b0045e"><div class="ttname"><a href="../../df/da0/group__chan.html#ga8305aab80d2ff73f3130d28287b0045e">m0_chan_init</a></div><div class="ttdeci">M0_INTERNAL void m0_chan_init(struct m0_chan *chan, struct m0_mutex *ch_guard)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da2/chan_8c_source.html#l00096">chan.c:96</a></div></div>
<div class="ttc" id="assert_8h_html_ac8bebb1ebb72c1dae891a1a1c24e7aec"><div class="ttname"><a href="../../dc/da7/assert_8h.html#ac8bebb1ebb72c1dae891a1a1c24e7aec">M0_ASSERT</a></div><div class="ttdeci">#define M0_ASSERT(cond)</div></div>
<div class="ttc" id="group__fid_html_ga66fb0fa971ce7e90bf09d5d6bc468eaf"><div class="ttname"><a href="../../dd/d5f/group__fid.html#ga66fb0fa971ce7e90bf09d5d6bc468eaf">m0_fid_tgenerate</a></div><div class="ttdeci">M0_INTERNAL void m0_fid_tgenerate(struct m0_fid *fid, const uint8_t tid)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2d/fid_8c_source.html#l00155">fid.c:155</a></div></div>
<div class="ttc" id="group___distributed_html_ggaeab9315174471992a264949bdda17a5ea8da17f39a1fbfee5d41612badefb1199"><div class="ttname"><a href="../../d0/d26/group___distributed.html#ggaeab9315174471992a264949bdda17a5ea8da17f39a1fbfee5d41612badefb1199">RM_RWLOCK_READ</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d5e/rm__rwlock_8h_source.html#l00105">rm_rwlock.h:105</a></div></div>
<div class="ttc" id="structm0__rm__owner_html"><div class="ttname"><a href="../../dd/d9a/structm0__rm__owner.html">m0_rm_owner</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/rm_8h_source.html#l01004">rm.h:1004</a></div></div>
<div class="ttc" id="group___r_w_lock_html_ga2800c17d9c5729d148e72e9627a84744"><div class="ttname"><a href="../../da/d7a/group___r_w_lock.html#ga2800c17d9c5729d148e72e9627a84744">m0_rw_lockable_init</a></div><div class="ttdeci">M0_INTERNAL void m0_rw_lockable_init(struct m0_rw_lockable *lockable, const struct m0_fid *fid, struct m0_rm_domain *dom)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8d/rm__rwlock_8c_source.html#l00508">rm_rwlock.c:508</a></div></div>
<div class="ttc" id="structm0__client_html"><div class="ttname"><a href="../../d2/dae/structm0__client.html">m0_client</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dcd/motr_2client__internal_8h_source.html#l00525">client_internal.h:525</a></div></div>
<div class="ttc" id="group__client_html_ga14f7e1791353071a77a236405cdabd3e"><div class="ttname"><a href="../../d2/def/group__client.html#ga14f7e1791353071a77a236405cdabd3e">obj_lock_incoming_conflict</a></div><div class="ttdeci">static void obj_lock_incoming_conflict(struct m0_rm_incoming *in)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00321">obj_lock.c:321</a></div></div>
<div class="ttc" id="motr_2client_8h_html"><div class="ttname"><a href="../../d4/dea/motr_2client_8h.html">client.h</a></div></div>
<div class="ttc" id="structm0__rm__lock__ctx_html"><div class="ttname"><a href="../../d4/d49/structm0__rm__lock__ctx.html">m0_rm_lock_ctx</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dcd/motr_2client__internal_8h_source.html#l00640">client_internal.h:640</a></div></div>
<div class="ttc" id="group__client_html_ga03050443447adaab2a636bda85e2af81"><div class="ttname"><a href="../../d2/def/group__client.html#ga03050443447adaab2a636bda85e2af81">M0_HT_DESCR_DEFINE</a></div><div class="ttdeci">M0_HT_DESCR_DEFINE(rm_ctx, &quot;Hash-table for RM locks&quot;, M0_INTERNAL, struct m0_rm_lock_ctx, rmc_hlink, rmc_magic, M0_RM_MAGIC, M0_RM_HEAD_MAGIC, rmc_key, rm_hash_func, rm_key_eq)</div></div>
<div class="ttc" id="motr_2io_8c_html_a3302727202c12034aa4764cf7623c49a"><div class="ttname"><a href="../../d9/d5b/motr_2io_8c.html#a3302727202c12034aa4764cf7623c49a">rm_domain_get</a></div><div class="ttdeci">M0_INTERNAL struct m0_rm_domain * rm_domain_get(struct m0_client *cinst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5b/motr_2io_8c_source.html#l00059">io.c:59</a></div></div>
<div class="ttc" id="group__mutex_html_ga342a63c7734a82930710cafbe895013f"><div class="ttname"><a href="../../d0/d04/group__mutex.html#ga342a63c7734a82930710cafbe895013f">m0_mutex_init</a></div><div class="ttdeci">M0_INTERNAL void m0_mutex_init(struct m0_mutex *mutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d62/mutex_8c_source.html#l00035">mutex.c:35</a></div></div>
<div class="ttc" id="ioservice_2fid__convert_8h_html"><div class="ttname"><a href="../../d4/d7c/ioservice_2fid__convert_8h.html">fid_convert.h</a></div></div>
<div class="ttc" id="group__cookie_html_gaa0979f5a1cf3832ef547eb43c95f3323"><div class="ttname"><a href="../../da/dd3/group__cookie.html#gaa0979f5a1cf3832ef547eb43c95f3323">m0_cookie_of</a></div><div class="ttdeci">#define m0_cookie_of(cookie, type, field)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d85/lib_2cookie_8h_source.html#l00121">cookie.h:121</a></div></div>
<div class="ttc" id="group__cookie_html_ga289890e8cb6e9317bf3b0ed7dc44076b"><div class="ttname"><a href="../../da/dd3/group__cookie.html#ga289890e8cb6e9317bf3b0ed7dc44076b">m0_cookie_init</a></div><div class="ttdeci">M0_INTERNAL void m0_cookie_init(struct m0_cookie *cookie, const uint64_t *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d41/lib_2cookie_8c_source.html#l00090">cookie.c:90</a></div></div>
<div class="ttc" id="group__client_html_ga18437d28c051a589f50af045b7906e93"><div class="ttname"><a href="../../d2/def/group__client.html#ga18437d28c051a589f50af045b7906e93">rm_key_eq</a></div><div class="ttdeci">static bool rm_key_eq(const void *key1, const void *key2)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00065">obj_lock.c:65</a></div></div>
<div class="ttc" id="rdwr__test__bench_8c_html_aca791ebc63a0d7cbb986e608334f7d0c"><div class="ttname"><a href="../../d8/d57/rdwr__test__bench_8c.html#aca791ebc63a0d7cbb986e608334f7d0c">clink</a></div><div class="ttdeci">static struct m0_clink clink[RDWR_REQUEST_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d57/rdwr__test__bench_8c_source.html#l00064">rdwr_test_bench.c:64</a></div></div>
<div class="ttc" id="group__client_html_ga478b683817a70ec505755792be9f09f4"><div class="ttname"><a href="../../d2/def/group__client.html#ga478b683817a70ec505755792be9f09f4">obj_lock_incoming_ops</a></div><div class="ttdeci">const struct m0_rm_incoming_ops obj_lock_incoming_ops</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00060">obj_lock.c:60</a></div></div>
<div class="ttc" id="doc_2fdmi__demo_2demo-fdmi_2m0-instance_2src_2main_8c_html_ac199e81fb0647a009d16c212c64dc1cc"><div class="ttname"><a href="../../d0/d90/doc_2fdmi__demo_2demo-fdmi_2m0-instance_2src_2main_8c.html#ac199e81fb0647a009d16c212c64dc1cc">ctx</a></div><div class="ttdeci">static struct fdmi_ctx ctx</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d90/doc_2fdmi__demo_2demo-fdmi_2m0-instance_2src_2main_8c_source.html#l00080">main.c:80</a></div></div>
<div class="ttc" id="group__fid_html_ga1fc726272e853cfda6c4c347aa3bf235"><div class="ttname"><a href="../../dd/d5f/group__fid.html#ga1fc726272e853cfda6c4c347aa3bf235">FID_P</a></div><div class="ttdeci">#define FID_P(f)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcf/fid_8h_source.html#l00077">fid.h:77</a></div></div>
<div class="ttc" id="structm0__rm__lock__req_html"><div class="ttname"><a href="../../d8/dbf/structm0__rm__lock__req.html">m0_rm_lock_req</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dcd/motr_2client__internal_8h_source.html#l00676">client_internal.h:676</a></div></div>
<div class="ttc" id="group__client_html_ga738b1784f0b056e87c8315fbb9461e55"><div class="ttname"><a href="../../d2/def/group__client.html#ga738b1784f0b056e87c8315fbb9461e55">m0_obj_lock_get_sync</a></div><div class="ttdeci">M0_INTERNAL int m0_obj_lock_get_sync(struct m0_obj *obj, struct m0_rm_lock_req *req, enum m0_rm_rwlock_req_type rw_type)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00214">obj_lock.c:214</a></div></div>
<div class="ttc" id="magic_8h_html_a82bffe7189227eff068dab27a6040119a93a4d9b12185b433bae09da4f2f80a9d"><div class="ttname"><a href="../../dd/d08/magic_8h.html#a82bffe7189227eff068dab27a6040119a93a4d9b12185b433bae09da4f2f80a9d">M0_RM_MAGIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/magic_8h_source.html#l01107">magic.h:1107</a></div></div>
<div class="ttc" id="group__fid_html_ga3beb19e1376abb495a344d48ec5c7398"><div class="ttname"><a href="../../dd/d5f/group__fid.html#ga3beb19e1376abb495a344d48ec5c7398">m0_fid_eq</a></div><div class="ttdeci">M0_INTERNAL bool m0_fid_eq(const struct m0_fid *fid0, const struct m0_fid *fid1)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2d/fid_8c_source.html#l00164">fid.c:164</a></div></div>
<div class="ttc" id="group__chan_html_ga92e0383d9a40b90bf5b0c4246c78c926"><div class="ttname"><a href="../../df/da0/group__chan.html#ga92e0383d9a40b90bf5b0c4246c78c926">m0_clink_add_lock</a></div><div class="ttdeci">void m0_clink_add_lock(struct m0_chan *chan, struct m0_clink *link)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da2/chan_8c_source.html#l00255">chan.c:255</a></div></div>
<div class="ttc" id="group__rm_html_ga5642217a5a12914f27500be7aa65154a"><div class="ttname"><a href="../../d2/deb/group__rm.html#ga5642217a5a12914f27500be7aa65154a">m0_rm_credit_put</a></div><div class="ttdeci">M0_INTERNAL void m0_rm_credit_put(struct m0_rm_incoming *in)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/rm_8c_source.html#l01797">rm.c:1797</a></div></div>
<div class="ttc" id="refs_8c_html_a7954d6835d9a918376dadcfbdffe0b19"><div class="ttname"><a href="../../d4/de4/refs_8c.html#a7954d6835d9a918376dadcfbdffe0b19">m0_ref_read</a></div><div class="ttdeci">M0_INTERNAL int64_t m0_ref_read(const struct m0_ref *ref)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de4/refs_8c_source.html#l00044">refs.c:44</a></div></div>
<div class="ttc" id="group__rm_html_gga7ad065e42df568aba543a60625f372b7a5513e12e37ad0d4e7980eb9294763a11"><div class="ttname"><a href="../../d2/deb/group__rm.html#gga7ad065e42df568aba543a60625f372b7a5513e12e37ad0d4e7980eb9294763a11">RIF_RESERVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/rm_8h_source.html#l01228">rm.h:1228</a></div></div>
<div class="ttc" id="structm0__fid_html"><div class="ttname"><a href="../../d9/d8a/structm0__fid.html">m0_fid</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcf/fid_8h_source.html#l00038">fid.h:38</a></div></div>
<div class="ttc" id="group__rm_html_gae5923a38936671693fed204530c5ed4c"><div class="ttname"><a href="../../d2/deb/group__rm.html#gae5923a38936671693fed204530c5ed4c">m0_rm_remote_fini</a></div><div class="ttdeci">M0_INTERNAL void m0_rm_remote_fini(struct m0_rm_remote *rem)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/rm_8c_source.html#l01431">rm.c:1431</a></div></div>
<div class="ttc" id="group__memory_html_ga2dd26426583fa272fa2061075e2dcf57"><div class="ttname"><a href="../../d7/ded/group__memory.html#ga2dd26426583fa272fa2061075e2dcf57">M0_ALLOC_PTR</a></div><div class="ttdeci">#define M0_ALLOC_PTR(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d18/memory_8h_source.html#l00086">memory.h:86</a></div></div>
<div class="ttc" id="structm0__rm__lock__ctx_html_a07becf6a86ee3ea861cb55b9478daa95"><div class="ttname"><a href="../../d4/d49/structm0__rm__lock__ctx.html#a07becf6a86ee3ea861cb55b9478daa95">m0_rm_lock_ctx::rmc_gen</a></div><div class="ttdeci">uint64_t rmc_gen</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dcd/motr_2client__internal_8h_source.html#l00665">client_internal.h:665</a></div></div>
<div class="ttc" id="group__client_html_ga81b2f82b4d16868661f75f982bdd03b0"><div class="ttname"><a href="../../d2/def/group__client.html#ga81b2f82b4d16868661f75f982bdd03b0">M0_HT_DEFINE</a></div><div class="ttdeci">M0_HT_DEFINE(rm_ctx, M0_INTERNAL, struct m0_rm_lock_ctx, struct m0_fid)</div></div>
<div class="ttc" id="group__rm_html_gga683758bed851c16625c226a2d9820072aad462eb11c9f0ebc67b36378a92733ef"><div class="ttname"><a href="../../d2/deb/group__rm.html#gga683758bed851c16625c226a2d9820072aad462eb11c9f0ebc67b36378a92733ef">ROS_FINAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/rm_8h_source.html#l00863">rm.h:863</a></div></div>
<div class="ttc" id="group__rm_html_gac98a08b5e4ff735e319304efbad7b67c"><div class="ttname"><a href="../../d2/deb/group__rm.html#gac98a08b5e4ff735e319304efbad7b67c">m0_rm_owner_windup</a></div><div class="ttdeci">M0_INTERNAL void m0_rm_owner_windup(struct m0_rm_owner *owner)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/rm_8c_source.html#l00930">rm.c:930</a></div></div>
<div class="ttc" id="structm0__rm__incoming__ops_html"><div class="ttname"><a href="../../da/db4/structm0__rm__incoming__ops.html">m0_rm_incoming_ops</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/rm_8h_source.html#l01488">rm.h:1488</a></div></div>
<div class="ttc" id="group__cookie_html_ga70e6219c7f5302e50b667d2d614f0e1f"><div class="ttname"><a href="../../da/dd3/group__cookie.html#ga70e6219c7f5302e50b667d2d614f0e1f">m0_cookie_new</a></div><div class="ttdeci">M0_INTERNAL void m0_cookie_new(uint64_t *gen)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d41/lib_2cookie_8c_source.html#l00083">cookie.c:83</a></div></div>
<div class="ttc" id="group__rm_html_gga4574776b288dee9a63d39cb2ee4de929a2d08c4d36b63be0d70675dc0d17817d0"><div class="ttname"><a href="../../d2/deb/group__rm.html#gga4574776b288dee9a63d39cb2ee4de929a2d08c4d36b63be0d70675dc0d17817d0">REM_SERVICE_LOCATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/rm_8h_source.html#l00679">rm.h:679</a></div></div>
<div class="ttc" id="group__mutex_html_ga3343af66e17b74ebf3f77fa6a31201c4"><div class="ttname"><a href="../../d0/d04/group__mutex.html#ga3343af66e17b74ebf3f77fa6a31201c4">m0_mutex_fini</a></div><div class="ttdeci">M0_INTERNAL void m0_mutex_fini(struct m0_mutex *mutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d62/mutex_8c_source.html#l00042">mutex.c:42</a></div></div>
<div class="ttc" id="group__chan_html_gad8b6e84d3a71f296b398a9c83acea322"><div class="ttname"><a href="../../df/da0/group__chan.html#gad8b6e84d3a71f296b398a9c83acea322">m0_clink_fini</a></div><div class="ttdeci">M0_INTERNAL void m0_clink_fini(struct m0_clink *link)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da2/chan_8c_source.html#l00208">chan.c:208</a></div></div>
<div class="ttc" id="group__client_html_gaca9fb6ed2a7c0865b76ab28eaa626ac0"><div class="ttname"><a href="../../d2/def/group__client.html#gaca9fb6ed2a7c0865b76ab28eaa626ac0">rm_hash_func</a></div><div class="ttdeci">static uint64_t rm_hash_func(const struct m0_htable *htable, const void *k)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00070">obj_lock.c:70</a></div></div>
<div class="ttc" id="group__client_html_gaea07a3a015a1e3e09d4e58a4a9efd348"><div class="ttname"><a href="../../d2/def/group__client.html#gaea07a3a015a1e3e09d4e58a4a9efd348">m0_obj_lock_get</a></div><div class="ttdeci">M0_INTERNAL int m0_obj_lock_get(struct m0_obj *obj, struct m0_rm_lock_req *req, struct m0_clink *clink, enum m0_rm_rwlock_req_type rw_type)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00191">obj_lock.c:191</a></div></div>
<div class="ttc" id="group__rm_html_gab1a04ef57fb9eedf5d2f44e85f24dcf8"><div class="ttname"><a href="../../d2/deb/group__rm.html#gab1a04ef57fb9eedf5d2f44e85f24dcf8">m0_rm_incoming_fini</a></div><div class="ttdeci">M0_INTERNAL void m0_rm_incoming_fini(struct m0_rm_incoming *in)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/rm_8c_source.html#l01099">rm.c:1099</a></div></div>
<div class="ttc" id="motr_2io_8h_html"><div class="ttname"><a href="../../d4/dc1/motr_2io_8h.html">io.h</a></div></div>
<div class="ttc" id="group__pool_html_ga2d1a13093f04d75e9d6c5dc32b76c3f2"><div class="ttname"><a href="../../dd/d7f/group__pool.html#ga2d1a13093f04d75e9d6c5dc32b76c3f2">m0_pools_common_active_rm_session</a></div><div class="ttdeci">M0_INTERNAL struct m0_rpc_session * m0_pools_common_active_rm_session(struct m0_pools_common *pc)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3e/pool_2pool_8c_source.html#l01074">pool.c:1074</a></div></div>
<div class="ttc" id="structctx_html"><div class="ttname"><a href="../../d5/d06/structctx.html">ctx</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0b/ut_2nucleus_8c_source.html#l00042">nucleus.c:42</a></div></div>
<div class="ttc" id="m0t1fs_2linux__kernel_2dir_8c_html_a990b3e59451a0375c26a667100b5e700"><div class="ttname"><a href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a990b3e59451a0375c26a667100b5e700">ent</a></div><div class="ttdeci">struct m0_dirent * ent</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c_source.html#l01029">dir.c:1029</a></div></div>
<div class="ttc" id="group__rm_html_gga7ad065e42df568aba543a60625f372b7aa2d2b4f5e0e5f9bc0c197c77524fea88"><div class="ttname"><a href="../../d2/deb/group__rm.html#gga7ad065e42df568aba543a60625f372b7aa2d2b4f5e0e5f9bc0c197c77524fea88">RIF_MAY_BORROW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/rm_8h_source.html#l01192">rm.h:1192</a></div></div>
<div class="ttc" id="group__chan_html_ga504531d5c2d9696fff877d01cb05cf11"><div class="ttname"><a href="../../df/da0/group__chan.html#ga504531d5c2d9696fff877d01cb05cf11">m0_chan_fini_lock</a></div><div class="ttdeci">M0_INTERNAL void m0_chan_fini_lock(struct m0_chan *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da2/chan_8c_source.html#l00112">chan.c:112</a></div></div>
<div class="ttc" id="group__memory_html_ga0b8533a3024754008602759e71337eb3"><div class="ttname"><a href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3">m0_free</a></div><div class="ttdeci">void m0_free(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd5/memory_8c_source.html#l00146">memory.c:146</a></div></div>
<div class="ttc" id="cm_2repreb_2trigger__fop_8h_html_ac6509c6fe4cbf7bde170597172f8a288"><div class="ttname"><a href="../../d7/db8/cm_2repreb_2trigger__fop_8h.html#ac6509c6fe4cbf7bde170597172f8a288">rc</a></div><div class="ttdeci">int32_t rc</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/cm_2repreb_2trigger__fop_8h_source.html#l00047">trigger_fop.h:47</a></div></div>
<div class="ttc" id="structm0__htable_html_a5f23392c3b79073362d6a26e5b61c26b"><div class="ttname"><a href="../../d2/df7/structm0__htable.html#a5f23392c3b79073362d6a26e5b61c26b">m0_htable::h_bucket_nr</a></div><div class="ttdeci">uint64_t h_bucket_nr</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfb/hash_8h_source.html#l00178">hash.h:178</a></div></div>
<div class="ttc" id="group__client_html_ga79b23172f19e36d933712b337c508374"><div class="ttname"><a href="../../d2/def/group__client.html#ga79b23172f19e36d933712b337c508374">rm_lock_req_init</a></div><div class="ttdeci">static void rm_lock_req_init(struct m0_clink *clink, struct m0_rm_owner *owner, struct m0_rm_lock_req *req, enum m0_rm_rwlock_req_type rw_type)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcf/obj__lock_8c_source.html#l00279">obj_lock.c:279</a></div></div>
<div class="ttc" id="group__rm_html_ga35b16fb825a3e37b39bace544db5abe5"><div class="ttname"><a href="../../d2/deb/group__rm.html#ga35b16fb825a3e37b39bace544db5abe5">m0_rm_credit_get</a></div><div class="ttdeci">M0_INTERNAL void m0_rm_credit_get(struct m0_rm_incoming *in)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/rm_8c_source.html#l01758">rm.c:1758</a></div></div>
<div class="ttc" id="group__fid_html_ga70847e379a952376a6683b3eb3c99fac"><div class="ttname"><a href="../../dd/d5f/group__fid.html#ga70847e379a952376a6683b3eb3c99fac">FID_F</a></div><div class="ttdeci">#define FID_F</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcf/fid_8h_source.html#l00075">fid.h:75</a></div></div>
<div class="ttc" id="structm0__pools__common_html"><div class="ttname"><a href="../../d5/d33/structm0__pools__common.html">m0_pools_common</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d20/pool_2pool_8h_source.html#l00161">pool.h:161</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_451fba7266f22952316961c3824beed8.html">motr</a></li><li class="navelem"><a class="el" href="../../da/dcf/obj__lock_8c.html">obj_lock.c</a></li>
    <li class="footer">Generated on Thu Apr 14 2022 14:02:58 for Motr by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
