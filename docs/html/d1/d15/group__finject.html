<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Motr: Fault Injection</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Motr
   &#160;<span id="projectnumber">M0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d1/d15/group__finject.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Fault Injection</div>  </div>
</div><!--header-->
<div class="contents">

<p>Fault Injection API provides functions to set "fault points" inside the code, and functions to enable/disable the failure of those points. It's aimed at increasing code coverage by enabling execution of error-handling code paths, which are not covered otherwise by unit tests.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db3/structm0__fi__fault__point.html">m0_fi_fault_point</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d15/structm0__fi__fpoint__data.html">m0_fi_fpoint_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga8529e040604da1c9c287d88280807755"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#ga8529e040604da1c9c287d88280807755">M0_FI_ENABLED</a>(<a class="el" href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f">tag</a>)</td></tr>
<tr class="separator:ga8529e040604da1c9c287d88280807755"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gade225b5a4069e2e287d9fc129469cc66"><td class="memItemLeft" align="right" valign="top">typedef bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#gade225b5a4069e2e287d9fc129469cc66">m0_fi_fpoint_state_func_t</a>) (void *<a class="el" href="../../d6/d7d/ut_2consumer_8c.html#a993533da5c8692dd41b8d45561a00768">data</a>)</td></tr>
<tr class="separator:gade225b5a4069e2e287d9fc129469cc66"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gab4d02319984a134324d5ff94d7545c43"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#gab4d02319984a134324d5ff94d7545c43">m0_fi_fpoint_type</a> { <br />
&#160;&#160;<a class="el" href="../../d1/d15/group__finject.html#ggab4d02319984a134324d5ff94d7545c43a57262445d302f52d831c18e459439c90">M0_FI_ALWAYS</a>, 
<a class="el" href="../../d1/d15/group__finject.html#ggab4d02319984a134324d5ff94d7545c43a95c6615d8b4853185cda39d59e4f2221">M0_FI_ONESHOT</a>, 
<a class="el" href="../../d1/d15/group__finject.html#ggab4d02319984a134324d5ff94d7545c43ab3ed8aa12162dbe12c3023ac23ea1953">M0_FI_RANDOM</a>, 
<a class="el" href="../../d1/d15/group__finject.html#ggab4d02319984a134324d5ff94d7545c43a03f8d4598315f65f3981f0587b8e2a31">M0_FI_OFF_N_ON_M</a>, 
<br />
&#160;&#160;<a class="el" href="../../d1/d15/group__finject.html#ggab4d02319984a134324d5ff94d7545c43a1572cb7207d1a5b8e7b8d6358b4306e3">M0_FI_FUNC</a>, 
<a class="el" href="../../d1/d15/group__finject.html#ggab4d02319984a134324d5ff94d7545c43aa9637bb11a8500f39fe65069500d638a">M0_FI_INVALID_TYPE</a>, 
<a class="el" href="../../d1/d15/group__finject.html#ggab4d02319984a134324d5ff94d7545c43adc971b01e371b1199992152ab750877b">M0_FI_TYPES_NR</a>
<br />
 }</td></tr>
<tr class="separator:gab4d02319984a134324d5ff94d7545c43"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7b5cc68eed94c8080675b9c6d0c92757"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#ga7b5cc68eed94c8080675b9c6d0c92757">m0_fi_init</a> (void)</td></tr>
<tr class="separator:ga7b5cc68eed94c8080675b9c6d0c92757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff77437be0ea057053c96ecca4f8ce34"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#gaff77437be0ea057053c96ecca4f8ce34">m0_fi_fini</a> (void)</td></tr>
<tr class="separator:gaff77437be0ea057053c96ecca4f8ce34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85648ebdc2df40211b3b6692f55c6fcd"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#ga85648ebdc2df40211b3b6692f55c6fcd">m0_fi_print_info</a> (void)</td></tr>
<tr class="separator:ga85648ebdc2df40211b3b6692f55c6fcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d024d347a1be559b067ccb4400d6b5d"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#ga2d024d347a1be559b067ccb4400d6b5d">m0_fi_enable_generic</a> (const char *fp_func, const char *fp_tag, const struct <a class="el" href="../../d8/d15/structm0__fi__fpoint__data.html">m0_fi_fpoint_data</a> *fp_data)</td></tr>
<tr class="separator:ga2d024d347a1be559b067ccb4400d6b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbabede1987f5dcb980506244251aaa7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#gafbabede1987f5dcb980506244251aaa7">m0_fi_enable</a> (const char *func, const char *<a class="el" href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f">tag</a>)</td></tr>
<tr class="separator:gafbabede1987f5dcb980506244251aaa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1da270e9922b1aab138e3cbb15f15f38"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#ga1da270e9922b1aab138e3cbb15f15f38">m0_fi_enable_once</a> (const char *func, const char *<a class="el" href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f">tag</a>)</td></tr>
<tr class="separator:ga1da270e9922b1aab138e3cbb15f15f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabdaa485ea423b8dbac352f67cd0ab15c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#gabdaa485ea423b8dbac352f67cd0ab15c">m0_fi_enable_random</a> (const char *func, const char *<a class="el" href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f">tag</a>, uint32_t <a class="el" href="../../d1/d41/ut_2rwlock_8c.html#ace4cb02b774242887146a15c46c21f36">p</a>)</td></tr>
<tr class="separator:gabdaa485ea423b8dbac352f67cd0ab15c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga092a190daeecba2f3f999e8291612a90"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#ga092a190daeecba2f3f999e8291612a90">m0_fi_enable_off_n_on_m</a> (const char *func, const char *<a class="el" href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f">tag</a>, uint32_t <a class="el" href="../../d6/d69/rpc_2ut_2fops_8h.html#a27700a99892b7d9ae8741a462791ef78">n</a>, uint32_t <a class="el" href="../../d0/d5d/ut_2sm_8c.html#a6242739a26d76e823c61baf321179fcc">m</a>)</td></tr>
<tr class="separator:ga092a190daeecba2f3f999e8291612a90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9892e10051e1537b2e6ef1afcf624165"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#ga9892e10051e1537b2e6ef1afcf624165">m0_fi_enable_each_nth_time</a> (const char *func, const char *<a class="el" href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f">tag</a>, uint32_t <a class="el" href="../../d6/d69/rpc_2ut_2fops_8h.html#a27700a99892b7d9ae8741a462791ef78">n</a>)</td></tr>
<tr class="separator:ga9892e10051e1537b2e6ef1afcf624165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga226431abf5687d433a6ed1eb807464e4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#ga226431abf5687d433a6ed1eb807464e4">m0_fi_enable_func</a> (const char *func, const char *<a class="el" href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f">tag</a>, <a class="el" href="../../d1/d15/group__finject.html#gade225b5a4069e2e287d9fc129469cc66">m0_fi_fpoint_state_func_t</a> trigger_func, void *<a class="el" href="../../d6/d7d/ut_2consumer_8c.html#a993533da5c8692dd41b8d45561a00768">data</a>)</td></tr>
<tr class="separator:ga226431abf5687d433a6ed1eb807464e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47f37402b151ba13d96e5db798ac277b"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#ga47f37402b151ba13d96e5db798ac277b">m0_fi_disable</a> (const char *fp_func, const char *fp_tag)</td></tr>
<tr class="separator:ga47f37402b151ba13d96e5db798ac277b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8209eb9b48e6538765061d7e80d96498"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#ga8209eb9b48e6538765061d7e80d96498">m0_fi_register</a> (struct <a class="el" href="../../de/db3/structm0__fi__fault__point.html">m0_fi_fault_point</a> *<a class="el" href="../../d9/d9f/structfp.html">fp</a>)</td></tr>
<tr class="separator:ga8209eb9b48e6538765061d7e80d96498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac0f987e29abb52ba7181a02c64e81e27"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#gac0f987e29abb52ba7181a02c64e81e27">m0_fi_enabled</a> (struct <a class="el" href="../../d3/d27/structm0__fi__fpoint__state.html">m0_fi_fpoint_state</a> *fps)</td></tr>
<tr class="separator:gac0f987e29abb52ba7181a02c64e81e27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ce786acd51bd7ffba4424beca9ae24a"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL enum <a class="el" href="../../d1/d15/group__finject.html#gab4d02319984a134324d5ff94d7545c43">m0_fi_fpoint_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#ga6ce786acd51bd7ffba4424beca9ae24a">m0_fi_fpoint_type_from_str</a> (const char *type_name)</td></tr>
<tr class="separator:ga6ce786acd51bd7ffba4424beca9ae24a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1234dd03f00899ee1bc58fedff47eaac"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#ga1234dd03f00899ee1bc58fedff47eaac">m0_fi_enable_fault_point</a> (const char *str)</td></tr>
<tr class="separator:ga1234dd03f00899ee1bc58fedff47eaac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43cb0106a1d0e82bf7a38ea85616b810"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/group__finject.html#ga43cb0106a1d0e82bf7a38ea85616b810">m0_fi_enable_fault_points_from_file</a> (const char *file_name)</td></tr>
<tr class="separator:ga43cb0106a1d0e82bf7a38ea85616b810"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Fault Injection API provides functions to set "fault points" inside the code, and functions to enable/disable the failure of those points. It's aimed at increasing code coverage by enabling execution of error-handling code paths, which are not covered otherwise by unit tests. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga8529e040604da1c9c287d88280807755"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8529e040604da1c9c287d88280807755">&#9670;&nbsp;</a></span>M0_FI_ENABLED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define M0_FI_ENABLED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f">tag</a></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">({                                                      \</div><div class="line">        static <span class="keyword">struct </span><a class="code" href="../../de/db3/structm0__fi__fault__point.html">m0_fi_fault_point</a> <a class="code" href="../../d9/d9f/structfp.html">fp</a> = {          \</div><div class="line">                .fp_state    = <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,                    \</div><div class="line"> <span class="comment">/* TODO: add some macro to automatically get name of current module */</span> \</div><div class="line">                .fp_module   = <span class="stringliteral">&quot;UNKNOWN&quot;</span>,               \</div><div class="line">                .fp_file     = __FILE__,                \</div><div class="line">                .fp_line_num = __LINE__,                \</div><div class="line">                .fp_func     = __func__,                \</div><div class="line">                .fp_tag      = (<a class="code" href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f">tag</a>),                   \</div><div class="line">        };                                              <a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a1c039c828314ce748de2792692443d41">\</a></div><div class="line"><a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a1c039c828314ce748de2792692443d41">							\</a></div><div class="line"><a class="code" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a1c039c828314ce748de2792692443d41">	if</a> (<a class="code" href="../../db/dca/group__assert.html#gac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d9/d9f/structfp.html">fp</a>.fp_state == <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {           \</div><div class="line">                m0_fi_register(&amp;<a class="code" href="../../d9/d9f/structfp.html">fp</a>);                    \</div><div class="line">                M0_ASSERT(<a class="code" href="../../d9/d9f/structfp.html">fp</a>.fp_state != <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);         \</div><div class="line">        }                                               <a class="code" href="../../d1/d15/group__finject.html#gac0f987e29abb52ba7181a02c64e81e27">\</a></div><div class="line"><a class="code" href="../../d1/d15/group__finject.html#gac0f987e29abb52ba7181a02c64e81e27">							\</a></div><div class="line"><a class="code" href="../../d1/d15/group__finject.html#gac0f987e29abb52ba7181a02c64e81e27">	m0_fi_enabled</a>(<a class="code" href="../../d9/d9f/structfp.html">fp</a>.fp_state);                    \</div><div class="line">})</div><div class="ttc" id="group__assert_html_gac6c45889010c1bd68631771b64f18101"><div class="ttname"><a href="../../db/dca/group__assert.html#gac6c45889010c1bd68631771b64f18101">unlikely</a></div><div class="ttdeci">#define unlikely(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da7/assert_8h_source.html#l00074">assert.h:74</a></div></div>
<div class="ttc" id="lib_2user__space_2misc_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/lib_2user__space_2misc_8h_source.html#l00038">misc.h:38</a></div></div>
<div class="ttc" id="group__addb2_html_ga3dd636d15d8f375bf0f0fb3c0505231f"><div class="ttname"><a href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f">tag</a></div><div class="ttdeci">static uint64_t tag(uint8_t code, uint64_t id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da1/addb2_8c_source.html#l01047">addb2.c:1047</a></div></div>
<div class="ttc" id="m0t1fs_2linux__kernel_2dir_8c_html_a1c039c828314ce748de2792692443d41"><div class="ttname"><a href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a1c039c828314ce748de2792692443d41">if</a></div><div class="ttdeci">if(value==NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c_source.html#l00350">dir.c:350</a></div></div>
<div class="ttc" id="group__finject_html_gac0f987e29abb52ba7181a02c64e81e27"><div class="ttname"><a href="../../d1/d15/group__finject.html#gac0f987e29abb52ba7181a02c64e81e27">m0_fi_enabled</a></div><div class="ttdeci">bool m0_fi_enabled(struct m0_fi_fpoint_state *fps)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/finject_8c_source.html#l00445">finject.c:445</a></div></div>
<div class="ttc" id="structfp_html"><div class="ttname"><a href="../../d9/d9f/structfp.html">fp</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/rcv__session_8c_source.html#l00058">rcv_session.c:58</a></div></div>
<div class="ttc" id="structm0__fi__fault__point_html"><div class="ttname"><a href="../../de/db3/structm0__fi__fault__point.html">m0_fi_fault_point</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc9/finject_8h_source.html#l00067">finject.h:67</a></div></div>
</div><!-- fragment --><p>Defines a fault point and checks if it's enabled.</p>
<p>FP registration occurs only once, during first time when this macro is "executed". <a class="el" href="../../d1/d15/group__finject.html#ga8209eb9b48e6538765061d7e80d96498">m0_fi_register()</a> is used to register FP in a global dynamic list, which may introduce some delay if this list already contains large amount of registered fault points.</p>
<p>A typical use case for this macro is:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> *<a class="code" href="../../d7/ded/group__memory.html#ga80e6a4e9d078f93b5917555b7b3d3fec">m0_alloc</a>(<span class="keywordtype">size_t</span> <a class="code" href="../../d6/d69/rpc_2ut_2fops_8h.html#a27700a99892b7d9ae8741a462791ef78">n</a>)</div><div class="line">{</div><div class="line">     ...</div><div class="line">     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d15/group__finject.html#ga8529e040604da1c9c287d88280807755">M0_FI_ENABLED</a>(<span class="stringliteral">&quot;pretend_failure&quot;</span>))</div><div class="line">        <span class="keywordflow">return</span> <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line">     ...</div><div class="line">}</div></div><!-- fragment --><p>It creates a fault point with tag "pretend_failure" in function "m0_alloc", which can be enabled/disabled from external code with something like the following:</p>
<div class="fragment"><div class="line"><a class="code" href="../../d1/d15/group__finject.html#ga1da270e9922b1aab138e3cbb15f15f38">m0_fi_enable_once</a>(<span class="stringliteral">&quot;m0_alloc&quot;</span>, <span class="stringliteral">&quot;pretend_failure&quot;</span>);</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d15/group__finject.html#ga2d024d347a1be559b067ccb4400d6b5d">m0_fi_enable_generic()</a> for <a class="el" href="../../d0/d5d/ut_2sm_8c.html#a462318a97be8f41d7970bd97f3276852">more</a> details</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>short descriptive name of fault point, usually separated by and uniquely identifies this FP within a current function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true, if FP is enabled </dd>
<dd>
false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dc9/finject_8h_source.html#l00231">231</a> of file <a class="el" href="../../dd/dc9/finject_8h_source.html">finject.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gade225b5a4069e2e287d9fc129469cc66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade225b5a4069e2e287d9fc129469cc66">&#9670;&nbsp;</a></span>m0_fi_fpoint_state_func_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef bool(* m0_fi_fpoint_state_func_t) (void *<a class="el" href="../../d6/d7d/ut_2consumer_8c.html#a993533da5c8692dd41b8d45561a00768">data</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A prototype of user-supplied callback for M0_FI_FUNC fault points, which is used to to determine if FP should trigger or not. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/dc9/finject_8h_source.html#l00121">121</a> of file <a class="el" href="../../dd/dc9/finject_8h_source.html">finject.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gab4d02319984a134324d5ff94d7545c43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab4d02319984a134324d5ff94d7545c43">&#9670;&nbsp;</a></span>m0_fi_fpoint_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d1/d15/group__finject.html#gab4d02319984a134324d5ff94d7545c43">m0_fi_fpoint_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fault point types, which determine FP behavior in enabled state. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggab4d02319984a134324d5ff94d7545c43a57262445d302f52d831c18e459439c90"></a>M0_FI_ALWAYS&#160;</td><td class="fielddoc"><p>Always triggers when enabled </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab4d02319984a134324d5ff94d7545c43a95c6615d8b4853185cda39d59e4f2221"></a>M0_FI_ONESHOT&#160;</td><td class="fielddoc"><p>Triggers only on first hit, then becomes disabled automatically </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab4d02319984a134324d5ff94d7545c43ab3ed8aa12162dbe12c3023ac23ea1953"></a>M0_FI_RANDOM&#160;</td><td class="fielddoc"><p>Triggers with a given probability </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab4d02319984a134324d5ff94d7545c43a03f8d4598315f65f3981f0587b8e2a31"></a>M0_FI_OFF_N_ON_M&#160;</td><td class="fielddoc"><p>Doesn't trigger first N times, then triggers next M times, then repeats this cycle </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab4d02319984a134324d5ff94d7545c43a1572cb7207d1a5b8e7b8d6358b4306e3"></a>M0_FI_FUNC&#160;</td><td class="fielddoc"><p>Invokes a user-supplied callback of type m0_fi_fpoint_state_func_t to determine if FP should trigger or not </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab4d02319984a134324d5ff94d7545c43aa9637bb11a8500f39fe65069500d638a"></a>M0_FI_INVALID_TYPE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggab4d02319984a134324d5ff94d7545c43adc971b01e371b1199992152ab750877b"></a>M0_FI_TYPES_NR&#160;</td><td class="fielddoc"><p>Number of fault point types </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dd/dc9/finject_8h_source.html#l00093">93</a> of file <a class="el" href="../../dd/dc9/finject_8h_source.html">finject.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga47f37402b151ba13d96e5db798ac277b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga47f37402b151ba13d96e5db798ac277b">&#9670;&nbsp;</a></span>m0_fi_disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_fi_disable </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fp_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fp_tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables fault point, which identified by "func", "tag" pair.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fp_func</td><td>Name of function, which contains a target FP </td></tr>
    <tr><td class="paramname">fp_tag</td><td>FP tag, which was specified as a parameter to <a class="el" href="../../d1/d15/group__finject.html#ga8529e040604da1c9c287d88280807755">M0_FI_ENABLED()</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/finject_8c_source.html#l00485">485</a> of file <a class="el" href="../../dd/dfd/finject_8c_source.html">finject.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga47f37402b151ba13d96e5db798ac277b_cgraph.png" border="0" usemap="#d1/d15/group__finject_ga47f37402b151ba13d96e5db798ac277b_cgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga47f37402b151ba13d96e5db798ac277b_cgraph" id="d1/d15/group__finject_ga47f37402b151ba13d96e5db798ac277b_cgraph">
<area shape="rect" id="node2" href="../../dd/dfd/finject_8c.html#aec26dfece6278c86c20f53169ae68a46" title="fi_state_find" alt="" coords="166,5,259,32"/>
<area shape="rect" id="node3" href="../../dd/dfd/finject_8c.html#a6bdfe2fc23681632237a3da6193de7eb" title="fi_disable_state" alt="" coords="156,56,269,83"/>
</map>
</div>

</div>
</div>
<a id="gafbabede1987f5dcb980506244251aaa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafbabede1987f5dcb980506244251aaa7">&#9670;&nbsp;</a></span>m0_fi_enable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void m0_fi_enable </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enables fault point, which identified by "func", "tag" pair, using M0_FI_ALWAYS FP type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Name of function, which contains the target FP </td></tr>
    <tr><td class="paramname">tag</td><td>FP tag, which was specified as a parameter to <a class="el" href="../../d1/d15/group__finject.html#ga8529e040604da1c9c287d88280807755">M0_FI_ENABLED()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d15/group__finject.html#ga2d024d347a1be559b067ccb4400d6b5d">m0_fi_enable_generic()</a> and <a class="el" href="../../d1/d15/group__finject.html#gab4d02319984a134324d5ff94d7545c43">m0_fi_fpoint_type</a> for <a class="el" href="../../d0/d5d/ut_2sm_8c.html#a462318a97be8f41d7970bd97f3276852">more</a> details </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dc9/finject_8h_source.html#l00276">276</a> of file <a class="el" href="../../dd/dc9/finject_8h_source.html">finject.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_gafbabede1987f5dcb980506244251aaa7_cgraph.png" border="0" usemap="#d1/d15/group__finject_gafbabede1987f5dcb980506244251aaa7_cgraph" alt=""/></div>
<map name="d1/d15/group__finject_gafbabede1987f5dcb980506244251aaa7_cgraph" id="d1/d15/group__finject_gafbabede1987f5dcb980506244251aaa7_cgraph">
<area shape="rect" id="node2" href="../../d1/d15/group__finject.html#ga2d024d347a1be559b067ccb4400d6b5d" title="m0_fi_enable_generic" alt="" coords="152,5,300,32"/>
<area shape="rect" id="node3" href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f" title="tag" alt="" coords="206,56,246,83"/>
</map>
</div>

</div>
</div>
<a id="ga9892e10051e1537b2e6ef1afcf624165"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9892e10051e1537b2e6ef1afcf624165">&#9670;&nbsp;</a></span>m0_fi_enable_each_nth_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void m0_fi_enable_each_nth_time </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A wrapper around <a class="el" href="../../d1/d15/group__finject.html#ga092a190daeecba2f3f999e8291612a90">m0_fi_enable_off_n_on_m()</a> for a special case when N=n-1 and M=1, which simply means to trigger FP each n-th time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Name of function, which contains the target FP </td></tr>
    <tr><td class="paramname">tag</td><td>FP tag, which was specified as a parameter to <a class="el" href="../../d1/d15/group__finject.html#ga8529e040604da1c9c287d88280807755">M0_FI_ENABLED()</a> </td></tr>
    <tr><td class="paramname">n</td><td>A "frequency" with which FP is triggered </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dc9/finject_8h_source.html#l00366">366</a> of file <a class="el" href="../../dd/dc9/finject_8h_source.html">finject.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga9892e10051e1537b2e6ef1afcf624165_cgraph.png" border="0" usemap="#d1/d15/group__finject_ga9892e10051e1537b2e6ef1afcf624165_cgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga9892e10051e1537b2e6ef1afcf624165_cgraph" id="d1/d15/group__finject_ga9892e10051e1537b2e6ef1afcf624165_cgraph">
<area shape="rect" id="node2" href="../../d1/d15/group__finject.html#ga092a190daeecba2f3f999e8291612a90" title="m0_fi_enable_off_n_on_m" alt="" coords="244,5,417,32"/>
<area shape="rect" id="node3" href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f" title="tag" alt="" coords="465,31,505,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga9892e10051e1537b2e6ef1afcf624165_icgraph.png" border="0" usemap="#d1/d15/group__finject_ga9892e10051e1537b2e6ef1afcf624165_icgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga9892e10051e1537b2e6ef1afcf624165_icgraph" id="d1/d15/group__finject_ga9892e10051e1537b2e6ef1afcf624165_icgraph">
<area shape="rect" id="node2" href="../../d4/d8f/ut_2finject_8c.html#a1802cdcfd9a29fc19762af7997d85267" title="test_enable_each_nth_time" alt="" coords="244,5,425,32"/>
</map>
</div>

</div>
</div>
<a id="ga1234dd03f00899ee1bc58fedff47eaac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1234dd03f00899ee1bc58fedff47eaac">&#9670;&nbsp;</a></span>m0_fi_enable_fault_point()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL int m0_fi_enable_fault_point </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/dfe/user__space_2finject__init_8c_source.html#l00103">103</a> of file <a class="el" href="../../dd/dfe/user__space_2finject__init_8c_source.html">finject_init.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga1234dd03f00899ee1bc58fedff47eaac_cgraph.png" border="0" usemap="#d1/d15/group__finject_ga1234dd03f00899ee1bc58fedff47eaac_cgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga1234dd03f00899ee1bc58fedff47eaac_cgraph" id="d1/d15/group__finject_ga1234dd03f00899ee1bc58fedff47eaac_cgraph">
<area shape="rect" id="node2" href="../../dd/d6d/group__xcode.html#gaf5d404b6c082f27929b4055163548731" title="token" alt="" coords="247,5,301,32"/>
<area shape="rect" id="node3" href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f" title="tag" alt="" coords="254,56,294,83"/>
<area shape="rect" id="node4" href="../../d1/d15/group__finject.html#ga6ce786acd51bd7ffba4424beca9ae24a" title="m0_fi_fpoint_type_from_str" alt="" coords="184,107,364,133"/>
<area shape="rect" id="node5" href="../../d1/d15/group__finject.html#ga2d024d347a1be559b067ccb4400d6b5d" title="m0_fi_enable_generic" alt="" coords="200,157,348,184"/>
<area shape="rect" id="node6" href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3" title="m0_free" alt="" coords="239,208,309,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga1234dd03f00899ee1bc58fedff47eaac_icgraph.png" border="0" usemap="#d1/d15/group__finject_ga1234dd03f00899ee1bc58fedff47eaac_icgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga1234dd03f00899ee1bc58fedff47eaac_icgraph" id="d1/d15/group__finject_ga1234dd03f00899ee1bc58fedff47eaac_icgraph">
<area shape="rect" id="node2" href="../../df/dca/group__m0d.html#gaf88444e6f6d87b12543e4dea22d0a9d4" title="_args_parse" alt="" coords="184,5,277,32"/>
<area shape="rect" id="node3" href="../../d8/d87/m0ut_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="205,56,256,83"/>
</map>
</div>

</div>
</div>
<a id="ga43cb0106a1d0e82bf7a38ea85616b810"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga43cb0106a1d0e82bf7a38ea85616b810">&#9670;&nbsp;</a></span>m0_fi_enable_fault_points_from_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL int m0_fi_enable_fault_points_from_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/dfe/user__space_2finject__init_8c_source.html#l00258">258</a> of file <a class="el" href="../../dd/dfe/user__space_2finject__init_8c_source.html">finject_init.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga43cb0106a1d0e82bf7a38ea85616b810_cgraph.png" border="0" usemap="#d1/d15/group__finject_ga43cb0106a1d0e82bf7a38ea85616b810_cgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga43cb0106a1d0e82bf7a38ea85616b810_cgraph" id="d1/d15/group__finject_ga43cb0106a1d0e82bf7a38ea85616b810_cgraph">
<area shape="rect" id="node2" href="../../dd/dfe/user__space_2finject__init_8c.html#aa3ea14cf4c910d4335dd740647589feb" title="process_yaml" alt="" coords="184,13,287,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga43cb0106a1d0e82bf7a38ea85616b810_icgraph.png" border="0" usemap="#d1/d15/group__finject_ga43cb0106a1d0e82bf7a38ea85616b810_icgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga43cb0106a1d0e82bf7a38ea85616b810_icgraph" id="d1/d15/group__finject_ga43cb0106a1d0e82bf7a38ea85616b810_icgraph">
<area shape="rect" id="node2" href="../../d8/d87/m0ut_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="184,13,235,39"/>
</map>
</div>

</div>
</div>
<a id="ga226431abf5687d433a6ed1eb807464e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga226431abf5687d433a6ed1eb807464e4">&#9670;&nbsp;</a></span>m0_fi_enable_func()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void m0_fi_enable_func </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d15/group__finject.html#gade225b5a4069e2e287d9fc129469cc66">m0_fi_fpoint_state_func_t</a>&#160;</td>
          <td class="paramname"><em>trigger_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enables fault point, which identified by "func", "tag" pair, using M0_FI_FUNC FP type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Name of function, which contains the target FP </td></tr>
    <tr><td class="paramname">tag</td><td>FP tag, which was specified as a parameter to <a class="el" href="../../d1/d15/group__finject.html#ga8529e040604da1c9c287d88280807755">M0_FI_ENABLED()</a> </td></tr>
    <tr><td class="paramname">trigger_func</td><td>Pointer to a user-supplied triggering function </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to store user's private data, which can be accessed from user-supplied triggering function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d15/group__finject.html#ga2d024d347a1be559b067ccb4400d6b5d">m0_fi_enable_generic()</a> and m0_fi_fpoint_data/m0_fi_fpoint_type for <a class="el" href="../../d0/d5d/ut_2sm_8c.html#a462318a97be8f41d7970bd97f3276852">more</a> details </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dc9/finject_8h_source.html#l00387">387</a> of file <a class="el" href="../../dd/dc9/finject_8h_source.html">finject.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga226431abf5687d433a6ed1eb807464e4_cgraph.png" border="0" usemap="#d1/d15/group__finject_ga226431abf5687d433a6ed1eb807464e4_cgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga226431abf5687d433a6ed1eb807464e4_cgraph" id="d1/d15/group__finject_ga226431abf5687d433a6ed1eb807464e4_cgraph">
<area shape="rect" id="node2" href="../../d1/d15/group__finject.html#ga2d024d347a1be559b067ccb4400d6b5d" title="m0_fi_enable_generic" alt="" coords="184,5,332,32"/>
<area shape="rect" id="node3" href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f" title="tag" alt="" coords="238,56,278,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga226431abf5687d433a6ed1eb807464e4_icgraph.png" border="0" usemap="#d1/d15/group__finject_ga226431abf5687d433a6ed1eb807464e4_icgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga226431abf5687d433a6ed1eb807464e4_icgraph" id="d1/d15/group__finject_ga226431abf5687d433a6ed1eb807464e4_icgraph">
<area shape="rect" id="node2" href="../../d4/d8f/ut_2finject_8c.html#a0040c4a49ad5a68337f6812e78d0cb07" title="test_enable_func" alt="" coords="193,5,314,32"/>
<area shape="rect" id="node3" href="../../d9/dbf/ut_2item_8c.html#a99d313b3ec97133bbc33fa871cd5e233" title="test_resend" alt="" coords="208,56,299,83"/>
<area shape="rect" id="node4" href="../../d9/dbf/ut_2item_8c.html#a8eb9d4f9b7c8b1d59e3927f611b79150" title="test_ha_notify" alt="" coords="201,107,305,133"/>
<area shape="rect" id="node5" href="../../d3/d31/rcv__session_8c.html#a9d873a5dae9d88c7ae37209a6f0f1dae" title="test_conn_establish" alt="" coords="184,157,323,184"/>
</map>
</div>

</div>
</div>
<a id="ga2d024d347a1be559b067ccb4400d6b5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2d024d347a1be559b067ccb4400d6b5d">&#9670;&nbsp;</a></span>m0_fi_enable_generic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_fi_enable_generic </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fp_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fp_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d8/d15/structm0__fi__fpoint__data.html">m0_fi_fpoint_data</a> *&#160;</td>
          <td class="paramname"><em>fp_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables fault point, which identified by "func", "tag" pair.</p>
<p>It's not intended to be used on it's own, a set of m0_fi_enable_xxx() wrapper functions should be used instead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fp_func</td><td>Name of function, which contains a target FP </td></tr>
    <tr><td class="paramname">fp_tag</td><td>FP tag, which was specified as a parameter to <a class="el" href="../../d1/d15/group__finject.html#ga8529e040604da1c9c287d88280807755">M0_FI_ENABLED()</a> </td></tr>
    <tr><td class="paramname">fp_type</td><td>Specifies a type of "triggering algorithm" (</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>enum <a class="el" href="../../d1/d15/group__finject.html#gab4d02319984a134324d5ff94d7545c43">m0_fi_fpoint_type</a>) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fp_data</td><td>Parameters for "triggering algorithm", which controls FP behavior (</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>struct <a class="el" href="../../d8/d15/structm0__fi__fpoint__data.html">m0_fi_fpoint_data</a>) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/finject_8c_source.html#l00462">462</a> of file <a class="el" href="../../dd/dfd/finject_8c_source.html">finject.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga2d024d347a1be559b067ccb4400d6b5d_cgraph.png" border="0" usemap="#d1/d15/group__finject_ga2d024d347a1be559b067ccb4400d6b5d_cgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga2d024d347a1be559b067ccb4400d6b5d_cgraph" id="d1/d15/group__finject_ga2d024d347a1be559b067ccb4400d6b5d_cgraph">
<area shape="rect" id="node2" href="../../d0/d04/group__mutex.html#gae26efdb3a765f750c5992041d6ee2336" title="m0_mutex_lock" alt="" coords="367,105,481,132"/>
<area shape="rect" id="node3" href="../../dd/dfd/finject_8c.html#aea02da28dd81ea170b0c711fd8f1f516" title="__fi_state_find" alt="" coords="203,29,310,56"/>
<area shape="rect" id="node4" href="../../dd/dfd/finject_8c.html#a6eca75b391aa459d71e8d460187d55eb" title="fi_state_alloc" alt="" coords="207,80,306,107"/>
<area shape="rect" id="node5" href="../../dd/dfd/finject_8c.html#aa404e7787bab4251516a00d68e6637e8" title="fi_enable_state" alt="" coords="201,131,312,157"/>
<area shape="rect" id="node6" href="../../d0/d04/group__mutex.html#ga18963570792098f5ab3cf3e8ede8046a" title="m0_mutex_unlock" alt="" coords="360,168,488,195"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga2d024d347a1be559b067ccb4400d6b5d_icgraph.png" border="0" usemap="#d1/d15/group__finject_ga2d024d347a1be559b067ccb4400d6b5d_icgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga2d024d347a1be559b067ccb4400d6b5d_icgraph" id="d1/d15/group__finject_ga2d024d347a1be559b067ccb4400d6b5d_icgraph">
<area shape="rect" id="node2" href="../../d1/d15/group__finject.html#gafbabede1987f5dcb980506244251aaa7" title="m0_fi_enable" alt="" coords="239,5,337,32"/>
<area shape="rect" id="node3" href="../../d1/d15/group__finject.html#ga1da270e9922b1aab138e3cbb15f15f38" title="m0_fi_enable_once" alt="" coords="221,56,355,83"/>
<area shape="rect" id="node4" href="../../d1/d15/group__finject.html#gabdaa485ea423b8dbac352f67cd0ab15c" title="m0_fi_enable_random" alt="" coords="213,107,363,133"/>
<area shape="rect" id="node5" href="../../d1/d15/group__finject.html#ga092a190daeecba2f3f999e8291612a90" title="m0_fi_enable_off_n_on_m" alt="" coords="201,157,375,184"/>
<area shape="rect" id="node6" href="../../d1/d15/group__finject.html#ga226431abf5687d433a6ed1eb807464e4" title="m0_fi_enable_func" alt="" coords="223,208,353,235"/>
<area shape="rect" id="node7" href="../../d1/d15/group__finject.html#ga1234dd03f00899ee1bc58fedff47eaac" title="m0_fi_enable_fault\l_point" alt="" coords="223,259,353,301"/>
<area shape="rect" id="node8" href="../../dd/dfe/user__space_2finject__init_8c.html#aa3ea14cf4c910d4335dd740647589feb" title="process_yaml" alt="" coords="237,325,339,352"/>
</map>
</div>

</div>
</div>
<a id="ga092a190daeecba2f3f999e8291612a90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga092a190daeecba2f3f999e8291612a90">&#9670;&nbsp;</a></span>m0_fi_enable_off_n_on_m()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void m0_fi_enable_off_n_on_m </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enables fault point, which identified by "func", "tag" pair, using M0_FI_OFF_N_ON_M FP type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Name of function, which contains the target FP </td></tr>
    <tr><td class="paramname">tag</td><td>FP tag, which was specified as a parameter to <a class="el" href="../../d1/d15/group__finject.html#ga8529e040604da1c9c287d88280807755">M0_FI_ENABLED()</a> </td></tr>
    <tr><td class="paramname">n</td><td>Integer values, used as initialized for fpd_n field of <a class="el" href="../../d8/d15/structm0__fi__fpoint__data.html">m0_fi_fpoint_data</a> structure </td></tr>
    <tr><td class="paramname">m</td><td>Integer values, used as initialized for fpd_m field of <a class="el" href="../../d8/d15/structm0__fi__fpoint__data.html">m0_fi_fpoint_data</a> structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d15/group__finject.html#ga2d024d347a1be559b067ccb4400d6b5d">m0_fi_enable_generic()</a> and m0_fi_fpoint_data/m0_fi_fpoint_type for <a class="el" href="../../d0/d5d/ut_2sm_8c.html#a462318a97be8f41d7970bd97f3276852">more</a> details </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dc9/finject_8h_source.html#l00346">346</a> of file <a class="el" href="../../dd/dc9/finject_8h_source.html">finject.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga092a190daeecba2f3f999e8291612a90_cgraph.png" border="0" usemap="#d1/d15/group__finject_ga092a190daeecba2f3f999e8291612a90_cgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga092a190daeecba2f3f999e8291612a90_cgraph" id="d1/d15/group__finject_ga092a190daeecba2f3f999e8291612a90_cgraph">
<area shape="rect" id="node2" href="../../d1/d15/group__finject.html#ga2d024d347a1be559b067ccb4400d6b5d" title="m0_fi_enable_generic" alt="" coords="227,5,375,32"/>
<area shape="rect" id="node3" href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f" title="tag" alt="" coords="281,56,321,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga092a190daeecba2f3f999e8291612a90_icgraph.png" border="0" usemap="#d1/d15/group__finject_ga092a190daeecba2f3f999e8291612a90_icgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga092a190daeecba2f3f999e8291612a90_icgraph" id="d1/d15/group__finject_ga092a190daeecba2f3f999e8291612a90_icgraph">
<area shape="rect" id="node2" href="../../d4/d44/group__cas.html#ga3b7471e68e3b5688e8a46d8521eeb714" title="recs_fragm" alt="" coords="279,5,365,32"/>
<area shape="rect" id="node3" href="../../d4/d44/group__cas.html#ga5d7ee520154fbdb2164bc6ab2b043b17" title="recs_fragm_fail" alt="" coords="267,56,377,83"/>
<area shape="rect" id="node4" href="../../d4/d44/group__cas.html#ga85f58936565226be7c0564e8ce0b0684" title="put_crow_fail" alt="" coords="273,107,371,133"/>
<area shape="rect" id="node5" href="../../d4/d44/group__cas.html#ga19bc0d72274db6a4b1159c0062076e03" title="recs_count" alt="" coords="279,157,365,184"/>
<area shape="rect" id="node6" href="../../d4/d44/group__cas.html#ga063f0bb88ac5e1d8e2f190a03e63e80c" title="reply_too_large" alt="" coords="267,208,377,235"/>
<area shape="rect" id="node7" href="../../db/d71/dix_2ut_2client__ut_8c.html#a436cbfbfdaa7cabeaeb6b1cb737b30ac" title="local_failures" alt="" coords="273,259,371,285"/>
<area shape="rect" id="node8" href="../../d4/d44/group__cas.html#gaacf56d6cf637ed887f47c7998b339c0d" title="init_fail" alt="" coords="291,309,353,336"/>
<area shape="rect" id="node9" href="../../d4/d44/group__cas.html#ga1021d79d5c4d6402322996c6252aad79" title="cur_fail" alt="" coords="290,360,354,387"/>
<area shape="rect" id="node10" href="../../d4/d44/group__cas.html#ga2d3fcd311cd2737ec3a68e0c8dac6c62" title="multi_insert_fail" alt="" coords="265,411,379,437"/>
<area shape="rect" id="node11" href="../../d4/d44/group__cas.html#gac19d5ff6050d8641db9e8226417c95d3" title="multi_lookup_fail" alt="" coords="263,461,381,488"/>
<area shape="rect" id="node12" href="../../d4/d44/group__cas.html#ga09353b2d32318277c55f5964876b62ec" title="multi_delete_fail" alt="" coords="264,512,380,539"/>
<area shape="rect" id="node13" href="../../d5/d9a/ut_2rconfc_8c.html#a05afecf897079fd92fdf8040504d2c43" title="test_reconnect_success" alt="" coords="240,563,404,589"/>
<area shape="rect" id="node14" href="../../d9/dd4/load_8c.html#a2c7a2ff00a843f5c406f6e74bffbe77d" title="conf_load_fom_create_fail" alt="" coords="235,613,409,640"/>
<area shape="rect" id="node15" href="../../d9/dd4/load_8c.html#ab2661f1f00a739e13c029ba7bd7cd460" title="conf_flip_fom_create_fail" alt="" coords="239,664,405,691"/>
<area shape="rect" id="node16" href="../../d9/dd4/load_8c.html#ab7af0d3abb2c2ce7d0e7a44cb9597dc0" title="conf_save_load_fail" alt="" coords="253,715,391,741"/>
<area shape="rect" id="node17" href="../../d2/d92/ut_2fd__tree_8c.html#ad5b08e14a45223e9afa8027e693fff63" title="test_fault_inj" alt="" coords="274,765,370,792"/>
<area shape="rect" id="node18" href="../../dc/d8b/filter__eval_8c.html#a4da6cc5e1095822f4dea192b354aef1d" title="flt_str_ops" alt="" coords="281,816,363,843"/>
<area shape="rect" id="node19" href="../../da/d74/pd__ut_8c.html#ab75101f77765bb498e3776df83c4bdab" title="fdmi_pd_register_filter" alt="" coords="465,917,616,944"/>
<area shape="rect" id="node20" href="../../da/d74/pd__ut_8c.html#a306c763bd8cb091db4d35830218473ba" title="detour_create" alt="" coords="271,917,373,944"/>
<area shape="rect" id="node21" href="../../da/d74/pd__ut_8c.html#a9069531ef52e3257c35064c6f4ae6be5" title="pd_ut_pcb_fdmi_rec" alt="" coords="253,968,391,995"/>
<area shape="rect" id="node22" href="../../da/d74/pd__ut_8c.html#a88d3ea9135070dc63f23a2768895bcc9" title="fdmi_pd_fake_rec_release" alt="" coords="235,1019,409,1045"/>
<area shape="rect" id="node23" href="../../da/d74/pd__ut_8c.html#afb7bc2bca6275bb3bc4a579e2dbfaeb5" title="fdmi_pd_fake_release\l_nomem" alt="" coords="247,1070,397,1111"/>
<area shape="rect" id="node24" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#a5a0bd22e448f85edf59192ea3e3cd2c0" title="target_ioreq_test" alt="" coords="263,1136,381,1163"/>
<area shape="rect" id="node25" href="../../d0/def/group__fis-dlspec.html#ga7920b8b25eef28ae37c949816e0f157e" title="fi_command_execute" alt="" coords="249,1187,395,1213"/>
<area shape="rect" id="node26" href="../../d3/d73/storage__dev__ut_8c.html#a60e0bc0c5806e256d1e18a86c66017bb" title="storage_dev_test" alt="" coords="261,1237,383,1264"/>
<area shape="rect" id="node27" href="../../d4/d8f/ut_2finject_8c.html#a7c32aefb72c9ca431bce329ab9abc751" title="test_enable_off_n_on_m" alt="" coords="241,1288,403,1315"/>
<area shape="rect" id="node28" href="../../d1/d15/group__finject.html#ga9892e10051e1537b2e6ef1afcf624165" title="m0_fi_enable_each_nth_time" alt="" coords="227,1339,417,1365"/>
<area shape="rect" id="node29" href="../../df/d4c/ut_2varr_8c.html#acba08c3a3319512a31cf338a9871f1a5" title="test_init" alt="" coords="288,1389,356,1416"/>
<area shape="rect" id="node30" href="../../d4/d6a/test__pm_8c.html#a82b1abe17cefaf21037143096f8f1fed" title="pm_test_transit" alt="" coords="266,1440,378,1467"/>
<area shape="rect" id="node31" href="../../d4/d6a/test__pm_8c.html#a168112f21dcf0891381e445baab94193" title="pm_test_spare_slot" alt="" coords="254,1491,390,1517"/>
<area shape="rect" id="node32" href="../../de/d81/spiel__conf__ut_8c.html#a1c240cf37c91980b2748e43fbd7e04d2" title="spiel_conf_create_fail" alt="" coords="248,1541,396,1568"/>
</map>
</div>

</div>
</div>
<a id="ga1da270e9922b1aab138e3cbb15f15f38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1da270e9922b1aab138e3cbb15f15f38">&#9670;&nbsp;</a></span>m0_fi_enable_once()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void m0_fi_enable_once </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enables fault point, which identified by "func", "tag" pair, using M0_FI_ONESHOT FP type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Name of function, which contains the target FP </td></tr>
    <tr><td class="paramname">tag</td><td>FP tag, which was specified as a parameter to <a class="el" href="../../d1/d15/group__finject.html#ga8529e040604da1c9c287d88280807755">M0_FI_ENABLED()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d15/group__finject.html#ga2d024d347a1be559b067ccb4400d6b5d">m0_fi_enable_generic()</a> and <a class="el" href="../../d1/d15/group__finject.html#gab4d02319984a134324d5ff94d7545c43">m0_fi_fpoint_type</a> for <a class="el" href="../../d0/d5d/ut_2sm_8c.html#a462318a97be8f41d7970bd97f3276852">more</a> details </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dc9/finject_8h_source.html#l00301">301</a> of file <a class="el" href="../../dd/dc9/finject_8h_source.html">finject.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga1da270e9922b1aab138e3cbb15f15f38_cgraph.png" border="0" usemap="#d1/d15/group__finject_ga1da270e9922b1aab138e3cbb15f15f38_cgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga1da270e9922b1aab138e3cbb15f15f38_cgraph" id="d1/d15/group__finject_ga1da270e9922b1aab138e3cbb15f15f38_cgraph">
<area shape="rect" id="node2" href="../../d1/d15/group__finject.html#ga2d024d347a1be559b067ccb4400d6b5d" title="m0_fi_enable_generic" alt="" coords="188,5,336,32"/>
<area shape="rect" id="node3" href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f" title="tag" alt="" coords="242,56,282,83"/>
</map>
</div>

</div>
</div>
<a id="gabdaa485ea423b8dbac352f67cd0ab15c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabdaa485ea423b8dbac352f67cd0ab15c">&#9670;&nbsp;</a></span>m0_fi_enable_random()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void m0_fi_enable_random </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enables fault point, which identified by "func", "tag" pair, using M0_FI_RANDOM FP type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Name of function, which contains the target FP </td></tr>
    <tr><td class="paramname">tag</td><td>FP tag, which was specified as a parameter to <a class="el" href="../../d1/d15/group__finject.html#ga8529e040604da1c9c287d88280807755">M0_FI_ENABLED()</a> </td></tr>
    <tr><td class="paramname">p</td><td>Integer number in range [1..100], which means a probability in percents, with which FP should be triggered on each hit</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d15/group__finject.html#ga2d024d347a1be559b067ccb4400d6b5d">m0_fi_enable_generic()</a> and <a class="el" href="../../d8/d15/structm0__fi__fpoint__data.html">m0_fi_fpoint_data</a> for <a class="el" href="../../d0/d5d/ut_2sm_8c.html#a462318a97be8f41d7970bd97f3276852">more</a> details </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dc9/finject_8h_source.html#l00321">321</a> of file <a class="el" href="../../dd/dc9/finject_8h_source.html">finject.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_gabdaa485ea423b8dbac352f67cd0ab15c_cgraph.png" border="0" usemap="#d1/d15/group__finject_gabdaa485ea423b8dbac352f67cd0ab15c_cgraph" alt=""/></div>
<map name="d1/d15/group__finject_gabdaa485ea423b8dbac352f67cd0ab15c_cgraph" id="d1/d15/group__finject_gabdaa485ea423b8dbac352f67cd0ab15c_cgraph">
<area shape="rect" id="node2" href="../../d1/d15/group__finject.html#ga2d024d347a1be559b067ccb4400d6b5d" title="m0_fi_enable_generic" alt="" coords="203,5,351,32"/>
<area shape="rect" id="node3" href="../../d0/d9e/group__addb2.html#ga3dd636d15d8f375bf0f0fb3c0505231f" title="tag" alt="" coords="257,56,297,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_gabdaa485ea423b8dbac352f67cd0ab15c_icgraph.png" border="0" usemap="#d1/d15/group__finject_gabdaa485ea423b8dbac352f67cd0ab15c_icgraph" alt=""/></div>
<map name="d1/d15/group__finject_gabdaa485ea423b8dbac352f67cd0ab15c_icgraph" id="d1/d15/group__finject_gabdaa485ea423b8dbac352f67cd0ab15c_icgraph">
<area shape="rect" id="node2" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#a5a0bd22e448f85edf59192ea3e3cd2c0" title="target_ioreq_test" alt="" coords="217,5,335,32"/>
<area shape="rect" id="node3" href="../../d0/def/group__fis-dlspec.html#ga7920b8b25eef28ae37c949816e0f157e" title="fi_command_execute" alt="" coords="203,56,349,83"/>
<area shape="rect" id="node4" href="../../d4/d8f/ut_2finject_8c.html#a67f3c5b9532d8ea719caf9de15bf6857" title="test_enable_random" alt="" coords="207,107,345,133"/>
</map>
</div>

</div>
</div>
<a id="gac0f987e29abb52ba7181a02c64e81e27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac0f987e29abb52ba7181a02c64e81e27">&#9670;&nbsp;</a></span>m0_fi_enabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool m0_fi_enabled </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/d27/structm0__fi__fpoint__state.html">m0_fi_fpoint_state</a> *&#160;</td>
          <td class="paramname"><em>fps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if fault point should "trigger" or not.</p>
<p>It's not intended to be used on it's own, instead it's used as part of <a class="el" href="../../d1/d15/group__finject.html#ga8529e040604da1c9c287d88280807755">M0_FI_ENABLED()</a> macro.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fps</td><td>A pointer to fault point's state structure, which is linked with FP's "descriptor"</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d15/group__finject.html#ga8529e040604da1c9c287d88280807755">M0_FI_ENABLED()</a> for <a class="el" href="../../d0/d5d/ut_2sm_8c.html#a462318a97be8f41d7970bd97f3276852">more</a> information</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true, if FP is enabled </dd>
<dd>
false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/finject_8c_source.html#l00445">445</a> of file <a class="el" href="../../dd/dfd/finject_8c_source.html">finject.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_gac0f987e29abb52ba7181a02c64e81e27_cgraph.png" border="0" usemap="#d1/d15/group__finject_gac0f987e29abb52ba7181a02c64e81e27_cgraph" alt=""/></div>
<map name="d1/d15/group__finject_gac0f987e29abb52ba7181a02c64e81e27_cgraph" id="d1/d15/group__finject_gac0f987e29abb52ba7181a02c64e81e27_cgraph">
<area shape="rect" id="node2" href="../../d8/d95/finject__internal_8h.html#a9d38bb3b99b4f63679bdfb18b10474dc" title="fi_state_enabled" alt="" coords="160,5,277,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_gac0f987e29abb52ba7181a02c64e81e27_icgraph.png" border="0" usemap="#d1/d15/group__finject_gac0f987e29abb52ba7181a02c64e81e27_icgraph" alt=""/></div>
<map name="d1/d15/group__finject_gac0f987e29abb52ba7181a02c64e81e27_icgraph" id="d1/d15/group__finject_gac0f987e29abb52ba7181a02c64e81e27_icgraph">
<area shape="rect" id="node2" href="../../d4/d8f/ut_2finject_8c.html#a54b644c9a5394aaed72a9ef478fada10" title="test_enable_disable" alt="" coords="160,5,297,32"/>
</map>
</div>

</div>
</div>
<a id="gaff77437be0ea057053c96ecca4f8ce34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff77437be0ea057053c96ecca4f8ce34">&#9670;&nbsp;</a></span>m0_fi_fini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_fi_fini </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finalizes fault injection subsystem. </p>

<p class="definition">Definition at line <a class="el" href="../../de/dca/linux__kernel_2finject__init_8c_source.html#l00047">47</a> of file <a class="el" href="../../de/dca/linux__kernel_2finject__init_8c_source.html">finject_init.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_gaff77437be0ea057053c96ecca4f8ce34_cgraph.png" border="0" usemap="#d1/d15/group__finject_gaff77437be0ea057053c96ecca4f8ce34_cgraph" alt=""/></div>
<map name="d1/d15/group__finject_gaff77437be0ea057053c96ecca4f8ce34_cgraph" id="d1/d15/group__finject_gaff77437be0ea057053c96ecca4f8ce34_cgraph">
<area shape="rect" id="node2" href="../../dd/dfd/finject_8c.html#ae47e51a2c0621e8cbde466ac82c6b4e7" title="fi_states_fini" alt="" coords="132,5,228,32"/>
<area shape="rect" id="node3" href="../../d0/d04/group__mutex.html#ga3343af66e17b74ebf3f77fa6a31201c4" title="m0_mutex_fini" alt="" coords="276,31,383,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_gaff77437be0ea057053c96ecca4f8ce34_icgraph.png" border="0" usemap="#d1/d15/group__finject_gaff77437be0ea057053c96ecca4f8ce34_icgraph" alt=""/></div>
<map name="d1/d15/group__finject_gaff77437be0ea057053c96ecca4f8ce34_icgraph" id="d1/d15/group__finject_gaff77437be0ea057053c96ecca4f8ce34_icgraph">
<area shape="rect" id="node2" href="../../df/dca/group__m0d.html#gad27e670326319df5e28f48a7bdd4e79f" title="cs_motr_fini" alt="" coords="141,5,234,32"/>
<area shape="rect" id="node3" href="../../da/db4/group__ut.html#gaee4c6bda4b2b36cdb17a9a5e5737561f" title="test_list_create" alt="" coords="132,56,243,83"/>
</map>
</div>

</div>
</div>
<a id="ga6ce786acd51bd7ffba4424beca9ae24a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ce786acd51bd7ffba4424beca9ae24a">&#9670;&nbsp;</a></span>m0_fi_fpoint_type_from_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL enum <a class="el" href="../../d1/d15/group__finject.html#gab4d02319984a134324d5ff94d7545c43">m0_fi_fpoint_type</a> m0_fi_fpoint_type_from_str </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/finject_8c_source.html#l00364">364</a> of file <a class="el" href="../../dd/dfd/finject_8c_source.html">finject.c</a>.</p>

</div>
</div>
<a id="ga7b5cc68eed94c8080675b9c6d0c92757"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b5cc68eed94c8080675b9c6d0c92757">&#9670;&nbsp;</a></span>m0_fi_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL int m0_fi_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes fault injection subsystem. </p>

<p class="definition">Definition at line <a class="el" href="../../de/dca/linux__kernel_2finject__init_8c_source.html#l00040">40</a> of file <a class="el" href="../../de/dca/linux__kernel_2finject__init_8c_source.html">finject_init.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga7b5cc68eed94c8080675b9c6d0c92757_cgraph.png" border="0" usemap="#d1/d15/group__finject_ga7b5cc68eed94c8080675b9c6d0c92757_cgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga7b5cc68eed94c8080675b9c6d0c92757_cgraph" id="d1/d15/group__finject_ga7b5cc68eed94c8080675b9c6d0c92757_cgraph">
<area shape="rect" id="node2" href="../../d0/d04/group__mutex.html#ga342a63c7734a82930710cafbe895013f" title="m0_mutex_init" alt="" coords="132,5,239,32"/>
<area shape="rect" id="node3" href="../../dd/dfd/finject_8c.html#a5a65cc8997203f9151194ecb1182fb52" title="fi_states_init" alt="" coords="137,56,233,83"/>
<area shape="rect" id="node4" href="../../d9/d7d/group__time.html#ga793cbf6341b841b090d83d0dea2993fa" title="m0_time_now" alt="" coords="134,107,237,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga7b5cc68eed94c8080675b9c6d0c92757_icgraph.png" border="0" usemap="#d1/d15/group__finject_ga7b5cc68eed94c8080675b9c6d0c92757_icgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga7b5cc68eed94c8080675b9c6d0c92757_icgraph" id="d1/d15/group__finject_ga7b5cc68eed94c8080675b9c6d0c92757_icgraph">
<area shape="rect" id="node2" href="../../df/dca/group__m0d.html#gaf88444e6f6d87b12543e4dea22d0a9d4" title="_args_parse" alt="" coords="141,5,234,32"/>
<area shape="rect" id="node3" href="../../da/db4/group__ut.html#gaee4c6bda4b2b36cdb17a9a5e5737561f" title="test_list_create" alt="" coords="132,56,243,83"/>
</map>
</div>

</div>
</div>
<a id="ga85648ebdc2df40211b3b6692f55c6fcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga85648ebdc2df40211b3b6692f55c6fcd">&#9670;&nbsp;</a></span>m0_fi_print_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_fi_print_info </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints to stdout information about current state of fault points formatted as table. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/dfe/user__space_2finject__init_8c_source.html#l00078">78</a> of file <a class="el" href="../../dd/dfe/user__space_2finject__init_8c_source.html">finject_init.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga85648ebdc2df40211b3b6692f55c6fcd_cgraph.png" border="0" usemap="#d1/d15/group__finject_ga85648ebdc2df40211b3b6692f55c6fcd_cgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga85648ebdc2df40211b3b6692f55c6fcd_cgraph" id="d1/d15/group__finject_ga85648ebdc2df40211b3b6692f55c6fcd_cgraph">
<area shape="rect" id="node2" href="../../dd/dfd/finject_8c.html#a456deb3a321cf1cd1e70ad26a331615a" title="m0_fi_states_get_free_idx" alt="" coords="174,5,349,32"/>
<area shape="rect" id="node3" href="../../dd/dfd/finject_8c.html#adc6cd759ca67d1992a526dbbcfa406f5" title="m0_fi_states_get" alt="" coords="200,56,323,83"/>
<area shape="rect" id="node4" href="../../dd/dfd/finject_8c.html#a42431ccba4ac26d7ee5d0b4f8d50e25b" title="m0_fi_states_get_state_info" alt="" coords="168,107,355,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga85648ebdc2df40211b3b6692f55c6fcd_icgraph.png" border="0" usemap="#d1/d15/group__finject_ga85648ebdc2df40211b3b6692f55c6fcd_icgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga85648ebdc2df40211b3b6692f55c6fcd_icgraph" id="d1/d15/group__finject_ga85648ebdc2df40211b3b6692f55c6fcd_icgraph">
<area shape="rect" id="node2" href="../../d8/d87/m0ut_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="168,5,219,32"/>
</map>
</div>

</div>
</div>
<a id="ga8209eb9b48e6538765061d7e80d96498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8209eb9b48e6538765061d7e80d96498">&#9670;&nbsp;</a></span>m0_fi_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void m0_fi_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/db3/structm0__fi__fault__point.html">m0_fi_fault_point</a> *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Registers fault point in a global list.</p>
<p>It's not intended to be used on it's own, instead it's used as part of <a class="el" href="../../d1/d15/group__finject.html#ga8529e040604da1c9c287d88280807755">M0_FI_ENABLED()</a> macro.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fp</td><td>A fault point descriptor</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d15/group__finject.html#ga8529e040604da1c9c287d88280807755">M0_FI_ENABLED()</a> for <a class="el" href="../../d0/d5d/ut_2sm_8c.html#a462318a97be8f41d7970bd97f3276852">more</a> information </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/finject_8c_source.html#l00423">423</a> of file <a class="el" href="../../dd/dfd/finject_8c_source.html">finject.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga8209eb9b48e6538765061d7e80d96498_cgraph.png" border="0" usemap="#d1/d15/group__finject_ga8209eb9b48e6538765061d7e80d96498_cgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga8209eb9b48e6538765061d7e80d96498_cgraph" id="d1/d15/group__finject_ga8209eb9b48e6538765061d7e80d96498_cgraph">
<area shape="rect" id="node2" href="../../d0/d04/group__mutex.html#gae26efdb3a765f750c5992041d6ee2336" title="m0_mutex_lock" alt="" coords="164,5,279,32"/>
<area shape="rect" id="node3" href="../../dd/dfd/finject_8c.html#aea02da28dd81ea170b0c711fd8f1f516" title="__fi_state_find" alt="" coords="168,56,275,83"/>
<area shape="rect" id="node4" href="../../dd/dfd/finject_8c.html#a6eca75b391aa459d71e8d460187d55eb" title="fi_state_alloc" alt="" coords="172,107,271,133"/>
<area shape="rect" id="node5" href="../../d0/d04/group__mutex.html#ga18963570792098f5ab3cf3e8ede8046a" title="m0_mutex_unlock" alt="" coords="157,157,285,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d15/group__finject_ga8209eb9b48e6538765061d7e80d96498_icgraph.png" border="0" usemap="#d1/d15/group__finject_ga8209eb9b48e6538765061d7e80d96498_icgraph" alt=""/></div>
<map name="d1/d15/group__finject_ga8209eb9b48e6538765061d7e80d96498_icgraph" id="d1/d15/group__finject_ga8209eb9b48e6538765061d7e80d96498_icgraph">
<area shape="rect" id="node2" href="../../d4/d8f/ut_2finject_8c.html#a54b644c9a5394aaed72a9ef478fada10" title="test_enable_disable" alt="" coords="157,5,295,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri May 20 2022 10:35:51 for Motr by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
