<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Motr: Atomic</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Motr
   &#160;<span id="projectnumber">M0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d3/de8/group__atomic.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Atomic</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga35b44f4cad1ba6045945072b0f678121"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/de8/group__atomic.html#ga35b44f4cad1ba6045945072b0f678121">M0_ATOMIC64_CAS</a>(loc,  oldval,  newval)</td></tr>
<tr class="separator:ga35b44f4cad1ba6045945072b0f678121"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab25f09c5bb8ae99ab2605ca20db2130f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/de8/group__atomic.html#gab25f09c5bb8ae99ab2605ca20db2130f">m0_atomic64_set</a> (struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *a, int64_t <a class="el" href="../../db/d9d/bulk__if_8c.html#a86cf672daa4e0ad11ad10efc894d19c8">num</a>)</td></tr>
<tr class="separator:gab25f09c5bb8ae99ab2605ca20db2130f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga611f47b9f61896df7924843f8d7e95de"><td class="memItemLeft" align="right" valign="top">static int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/de8/group__atomic.html#ga611f47b9f61896df7924843f8d7e95de">m0_atomic64_get</a> (const struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *a)</td></tr>
<tr class="separator:ga611f47b9f61896df7924843f8d7e95de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7375f066df1cb2cd2f685da2d08dab76"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/de8/group__atomic.html#ga7375f066df1cb2cd2f685da2d08dab76">m0_atomic64_inc</a> (struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *a)</td></tr>
<tr class="separator:ga7375f066df1cb2cd2f685da2d08dab76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ae2177e248e4c3f676d0e802dafd8e0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/de8/group__atomic.html#ga4ae2177e248e4c3f676d0e802dafd8e0">m0_atomic64_dec</a> (struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *a)</td></tr>
<tr class="separator:ga4ae2177e248e4c3f676d0e802dafd8e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a536eee3d403679a3fd19ae0a442644"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/de8/group__atomic.html#ga4a536eee3d403679a3fd19ae0a442644">m0_atomic64_add</a> (struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *a, int64_t <a class="el" href="../../db/d9d/bulk__if_8c.html#a86cf672daa4e0ad11ad10efc894d19c8">num</a>)</td></tr>
<tr class="separator:ga4a536eee3d403679a3fd19ae0a442644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad86e5a2fd8619a602ea98fc0cd98caa2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/de8/group__atomic.html#gad86e5a2fd8619a602ea98fc0cd98caa2">m0_atomic64_sub</a> (struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *a, int64_t <a class="el" href="../../db/d9d/bulk__if_8c.html#a86cf672daa4e0ad11ad10efc894d19c8">num</a>)</td></tr>
<tr class="separator:gad86e5a2fd8619a602ea98fc0cd98caa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b280fa18fe055a4b7e1f5374558d57c"><td class="memItemLeft" align="right" valign="top">static int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/de8/group__atomic.html#ga9b280fa18fe055a4b7e1f5374558d57c">m0_atomic64_add_return</a> (struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *a, int64_t d)</td></tr>
<tr class="separator:ga9b280fa18fe055a4b7e1f5374558d57c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ffe67040906c0ee58477707229294a9"><td class="memItemLeft" align="right" valign="top">static int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/de8/group__atomic.html#ga6ffe67040906c0ee58477707229294a9">m0_atomic64_sub_return</a> (struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *a, int64_t d)</td></tr>
<tr class="separator:ga6ffe67040906c0ee58477707229294a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga185457de57331c489431d0ff5dbe1195"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/de8/group__atomic.html#ga185457de57331c489431d0ff5dbe1195">m0_atomic64_inc_and_test</a> (struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *a)</td></tr>
<tr class="separator:ga185457de57331c489431d0ff5dbe1195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga12eced08fe17bdb50a404be0a4773ff4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/de8/group__atomic.html#ga12eced08fe17bdb50a404be0a4773ff4">m0_atomic64_dec_and_test</a> (struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *a)</td></tr>
<tr class="separator:ga12eced08fe17bdb50a404be0a4773ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1024abbc9e179743799afc74ec4fcb2e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/de8/group__atomic.html#ga1024abbc9e179743799afc74ec4fcb2e">m0_atomic64_cas</a> (int64_t *loc, int64_t oldval, int64_t newval)</td></tr>
<tr class="separator:ga1024abbc9e179743799afc74ec4fcb2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5c6b8c8c708269a1a0398853d6580e4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/de8/group__atomic.html#gad5c6b8c8c708269a1a0398853d6580e4">m0_atomic64_cas_ptr</a> (void **loc, void *oldval, void *newval)</td></tr>
<tr class="separator:gad5c6b8c8c708269a1a0398853d6580e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga582f0cbfee5208d0d7dd375cedf943f8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/de8/group__atomic.html#ga582f0cbfee5208d0d7dd375cedf943f8">m0_mb</a> (void)</td></tr>
<tr class="separator:ga582f0cbfee5208d0d7dd375cedf943f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Atomic operations on 64bit quantities.</p>
<p>Implementation of these is platform-specific.</p>
<p>Implementation of atomic operations for Linux user space uses x86_64 assembly language instructions (with gcc syntax). "Lock" prefix is used everywhere&mdash;no optimisation for non-SMP configurations in present.</p>
<p>Implementation of atomic operations for Linux user space; uses gcc built-ins __sync_fetch* functions</p>
<p>http://gcc.gnu.org/onlinedocs/gcc-4.5.4/gcc/Atomic-Builtins.html</p>
<p>We did a benchmark of these function against the assembly based functions in <a class="el" href="../../de/d76/user__x86__64__atomic_8h.html">lib/user_space/user_x86_64_atomic.h</a> and we came to know that these are a bit slower than their assembly counterparts. So these are kept off by default (a configure option &ndash;enable-sync_atomic will enable them.)</p>
<p>With assembly </p><h1>utils/ub 10</h1>
<p>set: atomic-ub bench: [ iter] min max avg std sec/op op/sec atomic: [ 1000] 73.68 83.15 79.57 3.40% 7.957e-02/1.257e+01</p>
<p>with gcc built-ins </p><h1>utils/ub 10</h1>
<p>set: atomic-ub bench: [ iter] min max avg std sec/op op/sec atomic: [ 1000] 74.35 95.29 81.38 6.37% 8.138e-02/1.229e+01</p>
<p>Implementation of atomic operations for Linux user space uses aarch64 assembly language instructions (with gcc syntax). The aarch64 uses its own set of atomic assembely instruction to ensure atomicity &mdash;no optimisation for non-SMP configurations in present.</p>
<p>Implementation of atomic operations for Linux user space uses x86_64 assembly language instructions (with gcc syntax). "Lock" prefix is used everywhere to ensure atomicity &mdash;no optimisation for non-SMP configurations in present. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga35b44f4cad1ba6045945072b0f678121"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga35b44f4cad1ba6045945072b0f678121">&#9670;&nbsp;</a></span>M0_ATOMIC64_CAS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define M0_ATOMIC64_CAS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">loc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">oldval, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">newval&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">({                                                                      \</div><div class="line">        M0_CASSERT(__builtin_types_compatible_p(typeof(*(loc)), typeof(oldval))); \</div><div class="line">        M0_CASSERT(__builtin_types_compatible_p(typeof(oldval), typeof(newval))); \</div><div class="line">        m0_atomic64_cas_ptr((<span class="keywordtype">void</span> **)(loc), oldval, newval);            \</div><div class="line">})</div></div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../dd/d02/atomic_8h_source.html#l00136">136</a> of file <a class="el" href="../../dd/d02/atomic_8h_source.html">atomic.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4a536eee3d403679a3fd19ae0a442644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a536eee3d403679a3fd19ae0a442644">&#9670;&nbsp;</a></span>m0_atomic64_add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void m0_atomic64_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Atomically adds given amount to a counter. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/de8/group__atomic_ga4a536eee3d403679a3fd19ae0a442644_icgraph.png" border="0" usemap="#d3/de8/group__atomic_ga4a536eee3d403679a3fd19ae0a442644_icgraph" alt=""/></div>
<map name="d3/de8/group__atomic_ga4a536eee3d403679a3fd19ae0a442644_icgraph" id="d3/de8/group__atomic_ga4a536eee3d403679a3fd19ae0a442644_icgraph">
<area shape="rect" id="node2" href="../../d0/dec/m0t1fs_2linux__kernel_2file_8c.html#aa4335ac7529536ab734631137a5de987" title="target_ioreq_iofops\l_prepare" alt="" coords="372,26,504,68"/>
<area shape="rect" id="node3" href="../../d7/ded/group__memory.html#ga8b9c497af386d79f08103b7c0ff6e85e" title="alloc_tail" alt="" coords="216,34,289,60"/>
<area shape="rect" id="node4" href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3" title="m0_free" alt="" coords="218,84,287,111"/>
<area shape="rect" id="node5" href="../../d8/dd8/ut_2thread__pool_8c.html#ab1c62d476882a3948477ff61a23778ac" title="thread_pool_process" alt="" coords="181,135,324,162"/>
<area shape="rect" id="node6" href="../../d0/d11/lib_2ut_2main_8c.html#a674b21994cf9148555e16f401d63c9e7" title="test_atomic" alt="" coords="207,186,298,212"/>
<area shape="rect" id="node7" href="../../d3/d78/group__stoblinux.html#ga58b72d62a26b5c87cf71fe39229d74c9" title="ioq_queue_submit" alt="" coords="189,236,316,263"/>
<area shape="rect" id="node8" href="../../d3/d78/group__stoblinux.html#ga6990a60cb3bff443949858a616fd3c88" title="ioq_complete" alt="" coords="203,287,302,314"/>
</map>
</div>

</div>
</div>
<a id="ga9b280fa18fe055a4b7e1f5374558d57c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b280fa18fe055a4b7e1f5374558d57c">&#9670;&nbsp;</a></span>m0_atomic64_add_return()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int64_t m0_atomic64_add_return </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Atomically increments a counter and returns the result. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/de8/group__atomic_ga9b280fa18fe055a4b7e1f5374558d57c_icgraph.png" border="0" usemap="#d3/de8/group__atomic_ga9b280fa18fe055a4b7e1f5374558d57c_icgraph" alt=""/></div>
<map name="d3/de8/group__atomic_ga9b280fa18fe055a4b7e1f5374558d57c_icgraph" id="d3/de8/group__atomic_ga9b280fa18fe055a4b7e1f5374558d57c_icgraph">
<area shape="rect" id="node2" href="../../d9/dcf/group__be.html#ga3ab7651d10dc0866d8493bec9fad3ba5" title="be_io_finished" alt="" coords="272,5,377,32"/>
<area shape="rect" id="node3" href="../../d9/dcf/group__be.html#gafca20165bdece7bde12842d182a4b3ff" title="be_ut_io_sched_io_ready_add" alt="" coords="226,56,423,83"/>
<area shape="rect" id="node4" href="../../d9/dcf/group__be.html#gab1771948185c3ac742e9a9c0b93b45e9" title="be_ut_io_sched_thread" alt="" coords="476,107,632,133"/>
<area shape="rect" id="node5" href="../../d9/dcf/group__be.html#ga222c2afcff8d3954ae3f3e38ecdbeca2" title="be_ut_io_sched_io_ready_get" alt="" coords="227,157,422,184"/>
<area shape="rect" id="node6" href="../../d9/dcf/group__be.html#ga5ea2264beaba18a28a44311d271be1f4" title="be_ut_io_sched_io_state_add" alt="" coords="227,208,422,235"/>
<area shape="rect" id="node7" href="../../d2/df0/be_2ut_2log_8c.html#abc36de81c01ebaa7daef6d6cb7fd1b79" title="be_ut_log_multi_thread" alt="" coords="247,259,403,285"/>
<area shape="rect" id="node8" href="../../d9/dcf/group__be.html#ga4757d677729ef0f8af165bdf2e7338ad" title="be_ut_log_discard_gp\l_thread" alt="" coords="251,310,399,351"/>
<area shape="rect" id="node9" href="../../d9/dcf/group__be.html#ga5d6c0224907e2d9016a67c5713198534" title="be_ut_pd_usecase_thread" alt="" coords="237,376,412,403"/>
<area shape="rect" id="node10" href="../../d9/dcf/group__be.html#gadd120017b158fc2931431f987df0ec73" title="be_ut_queue_thread" alt="" coords="255,427,394,453"/>
<area shape="rect" id="node11" href="../../d9/dcf/group__be.html#gaef0e0dd82903d9d1d8803278b8d15721" title="m0_be_reg_gen_idx" alt="" coords="255,477,394,504"/>
<area shape="rect" id="node12" href="../../d9/dcf/group__be.html#ga6ced22882d38e79c4db8024358c1326a" title="be_ut_tx_bulk_state_do" alt="" coords="245,528,405,555"/>
<area shape="rect" id="node13" href="../../d9/dcf/group__be.html#gab1089fcfd2caf92c5143b0a771ca828e" title="be_ut_tx_bulk_state_done" alt="" coords="237,579,412,605"/>
<area shape="rect" id="node14" href="../../d9/dcf/group__be.html#gaa9d9bff1f41d291b4cbe27f5c83a5fda" title="be_ut_tx_bulk_parallel\l_work_put" alt="" coords="249,630,400,671"/>
<area shape="rect" id="node15" href="../../dd/d1d/be_2ut_2helper_8c.html#a3fc6a07a41ff597a38e9ebf05fb70373" title="m0_be_ut_backend_cfg\l_default" alt="" coords="245,695,405,737"/>
<area shape="rect" id="node16" href="../../dd/dc6/group__fdmi__fol__src.html#ga8843c1f7990f208203c027bc115a5ac6" title="ffs_tx_inc_refc" alt="" coords="271,761,378,788"/>
<area shape="rect" id="node17" href="../../d1/d59/group__fom.html#ga2329efad9db4fff88bf3ff8570b8524d" title="m0_fom_block_leave" alt="" coords="252,812,397,839"/>
<area shape="rect" id="node18" href="../../df/d2a/lib_2misc_8h.html#a0fecf3ca8cbf0000c35d5b3d70d640dd" title="m0_dummy_id_generate" alt="" coords="243,863,407,889"/>
<area shape="rect" id="node19" href="../../dc/d86/ut_2time_8c.html#ac6edca22f01c1c9a9cbb7c906df58c5a" title="time_thread" alt="" coords="279,913,370,940"/>
<area shape="rect" id="node20" href="../../d8/d98/group__trace.html#gad566bc8e4723e7ca51684832307873fa" title="m0_trace_allot" alt="" coords="271,964,378,991"/>
<area shape="rect" id="node21" href="../../d9/dbf/group__motr-keepalive.html#ga0568c389edc18d9493c159b968449839" title="ha_keepalive_msg_received_cb" alt="" coords="221,1015,428,1041"/>
<area shape="rect" id="node22" href="../../d2/d47/bulk__emulation_2st_2ping_8c.html#a533e3fef947978911247dfd4889cf280" title="s_m_recv_cb" alt="" coords="275,1065,375,1092"/>
<area shape="rect" id="node23" href="../../dd/d2f/group___net_test_ringbuf_d_f_s.html#ga8b4f78da0bb88700b30dc74d3de3d062" title="m0_net_test_ringbuf_push" alt="" coords="237,1116,412,1143"/>
<area shape="rect" id="node24" href="../../dd/d2f/group___net_test_ringbuf_d_f_s.html#ga54f8e29ea4d0b92f67e2e59c68dda5f3" title="m0_net_test_ringbuf_pop" alt="" coords="241,1167,409,1193"/>
<area shape="rect" id="node25" href="../../d3/d78/group__stoblinux.html#ga6990a60cb3bff443949858a616fd3c88" title="ioq_complete" alt="" coords="275,1217,374,1244"/>
<area shape="rect" id="node26" href="../../d3/d78/group__stoblinux.html#gacc15ab3ed154ac9292efa9a9f19c9547" title="stob_ioq_thread" alt="" coords="497,1243,611,1269"/>
</map>
</div>

</div>
</div>
<a id="ga1024abbc9e179743799afc74ec4fcb2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1024abbc9e179743799afc74ec4fcb2e">&#9670;&nbsp;</a></span>m0_atomic64_cas()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool m0_atomic64_cas </td>
          <td>(</td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>oldval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>newval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Atomic compare-and-swap: compares value stored in  with  and, if equal, replaces it with , all atomic w.r.t. concurrent accesses to .</p>
<p>Returns true iff new value was installed. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/de8/group__atomic_ga1024abbc9e179743799afc74ec4fcb2e_icgraph.png" border="0" usemap="#d3/de8/group__atomic_ga1024abbc9e179743799afc74ec4fcb2e_icgraph" alt=""/></div>
<map name="d3/de8/group__atomic_ga1024abbc9e179743799afc74ec4fcb2e_icgraph" id="d3/de8/group__atomic_ga1024abbc9e179743799afc74ec4fcb2e_icgraph">
<area shape="rect" id="node2" href="../../d3/de8/group__atomic.html#gad5c6b8c8c708269a1a0398853d6580e4" title="m0_atomic64_cas_ptr" alt="" coords="181,5,332,32"/>
</map>
</div>

</div>
</div>
<a id="gad5c6b8c8c708269a1a0398853d6580e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5c6b8c8c708269a1a0398853d6580e4">&#9670;&nbsp;</a></span>m0_atomic64_cas_ptr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool m0_atomic64_cas_ptr </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>oldval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>newval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Atomic compare-and-swap for pointers.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/de8/group__atomic.html#ga1024abbc9e179743799afc74ec4fcb2e">m0_atomic64_cas()</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d02/atomic_8h_source.html#l00128">128</a> of file <a class="el" href="../../dd/d02/atomic_8h_source.html">atomic.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/de8/group__atomic_gad5c6b8c8c708269a1a0398853d6580e4_cgraph.png" border="0" usemap="#d3/de8/group__atomic_gad5c6b8c8c708269a1a0398853d6580e4_cgraph" alt=""/></div>
<map name="d3/de8/group__atomic_gad5c6b8c8c708269a1a0398853d6580e4_cgraph" id="d3/de8/group__atomic_gad5c6b8c8c708269a1a0398853d6580e4_cgraph">
<area shape="rect" id="node2" href="../../d3/de8/group__atomic.html#ga1024abbc9e179743799afc74ec4fcb2e" title="m0_atomic64_cas" alt="" coords="204,5,332,32"/>
</map>
</div>

</div>
</div>
<a id="ga4ae2177e248e4c3f676d0e802dafd8e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4ae2177e248e4c3f676d0e802dafd8e0">&#9670;&nbsp;</a></span>m0_atomic64_dec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void m0_atomic64_dec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Atomically decrements a counter. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/de8/group__atomic_ga4ae2177e248e4c3f676d0e802dafd8e0_icgraph.png" border="0" usemap="#d3/de8/group__atomic_ga4ae2177e248e4c3f676d0e802dafd8e0_icgraph" alt=""/></div>
<map name="d3/de8/group__atomic_ga4ae2177e248e4c3f676d0e802dafd8e0_icgraph" id="d3/de8/group__atomic_ga4ae2177e248e4c3f676d0e802dafd8e0_icgraph">
<area shape="rect" id="node2" href="../../d9/d2d/group__capa.html#ga860acebc27366e2132b8574f778b20bf" title="m0_capa_put" alt="" coords="208,5,308,32"/>
<area shape="rect" id="node3" href="../../d0/dec/m0t1fs_2linux__kernel_2file_8c.html#a7fcdb1691065012e41f366d5d187641a" title="client_passive_recv" alt="" coords="189,56,327,83"/>
<area shape="rect" id="node4" href="../../d0/dec/m0t1fs_2linux__kernel_2file_8c.html#abd1f7ec8e9e0b141ab0f16399cf8f2dc" title="io_req_fop_release" alt="" coords="193,107,323,133"/>
<area shape="rect" id="node5" href="../../d0/dec/m0t1fs_2linux__kernel_2file_8c.html#a03549b0e97c77a3326b1e598a4851602" title="cc_bottom_half" alt="" coords="203,157,313,184"/>
<area shape="rect" id="node6" href="../../d0/dec/m0t1fs_2linux__kernel_2file_8c.html#ab71e27c7d8d75e2858f8f53deed8fe14" title="io_bottom_half" alt="" coords="205,208,311,235"/>
<area shape="rect" id="node7" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#a5a0bd22e448f85edf59192ea3e3cd2c0" title="target_ioreq_test" alt="" coords="199,259,317,285"/>
<area shape="rect" id="node8" href="../../d1/d59/group__fom.html#ga2329efad9db4fff88bf3ff8570b8524d" title="m0_fom_block_leave" alt="" coords="185,309,331,336"/>
<area shape="rect" id="node9" href="../../dc/d83/io__req__fop_8c.html#a6897cfe7356b9f9d30aa63db369193f1" title="ioreq_cc_bottom_half" alt="" coords="185,360,331,387"/>
<area shape="rect" id="node10" href="../../dc/d83/io__req__fop_8c.html#ab83b7a22bed4b902c75597a980472a98" title="ioreq_fop_release" alt="" coords="196,411,320,437"/>
<area shape="rect" id="node11" href="../../dd/d08/group__bevcqueue.html#ga77e31d64b61358e7d0d559a774ceb639" title="bev_cqueue_get" alt="" coords="199,461,317,488"/>
<area shape="rect" id="node12" href="../../d1/dc1/group__sm.html#ga719a6bcaa3497d6c9051834ac427c7aa" title="m0_sm_ast_wait_post" alt="" coords="181,512,335,539"/>
<area shape="rect" id="node13" href="../../df/d08/repair__main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="233,563,283,589"/>
</map>
</div>

</div>
</div>
<a id="ga12eced08fe17bdb50a404be0a4773ff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga12eced08fe17bdb50a404be0a4773ff4">&#9670;&nbsp;</a></span>m0_atomic64_dec_and_test()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool m0_atomic64_dec_and_test </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Atomically decrements a counter and returns true iff the result is 0. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/de8/group__atomic_ga12eced08fe17bdb50a404be0a4773ff4_icgraph.png" border="0" usemap="#d3/de8/group__atomic_ga12eced08fe17bdb50a404be0a4773ff4_icgraph" alt=""/></div>
<map name="d3/de8/group__atomic_ga12eced08fe17bdb50a404be0a4773ff4_icgraph" id="d3/de8/group__atomic_ga12eced08fe17bdb50a404be0a4773ff4_icgraph">
<area shape="rect" id="node2" href="../../d5/df7/refs_8h.html#a96dc9c89402bf6a5782c951d9de8285b" title="m0_ref_put" alt="" coords="277,5,363,32"/>
<area shape="rect" id="node3" href="../../d0/d11/lib_2ut_2main_8c.html#a674b21994cf9148555e16f401d63c9e7" title="test_atomic" alt="" coords="275,56,365,83"/>
<area shape="rect" id="node4" href="../../d1/dc1/group__sm.html#ga7424a3342ec52a9a890cd46d96f4a9c6" title="m0_sm_ast_wait_signal" alt="" coords="239,107,401,133"/>
<area shape="rect" id="node5" href="../../df/d08/repair__main_8c.html#a0eee09dcfa65c59ac470caf978b63547" title="repair_reply_received" alt="" coords="247,157,393,184"/>
<area shape="rect" id="node6" href="../../d3/d78/group__stoblinux.html#ga6990a60cb3bff443949858a616fd3c88" title="ioq_complete" alt="" coords="271,208,369,235"/>
</map>
</div>

</div>
</div>
<a id="ga611f47b9f61896df7924843f8d7e95de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga611f47b9f61896df7924843f8d7e95de">&#9670;&nbsp;</a></span>m0_atomic64_get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int64_t m0_atomic64_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns value of an atomic counter. </p>

</div>
</div>
<a id="ga7375f066df1cb2cd2f685da2d08dab76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7375f066df1cb2cd2f685da2d08dab76">&#9670;&nbsp;</a></span>m0_atomic64_inc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void m0_atomic64_inc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Atomically increments a counter. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/de8/group__atomic_ga7375f066df1cb2cd2f685da2d08dab76_icgraph.png" border="0" usemap="#d3/de8/group__atomic_ga7375f066df1cb2cd2f685da2d08dab76_icgraph" alt=""/></div>
<map name="d3/de8/group__atomic_ga7375f066df1cb2cd2f685da2d08dab76_icgraph" id="d3/de8/group__atomic_ga7375f066df1cb2cd2f685da2d08dab76_icgraph">
<area shape="rect" id="node2" href="../../d9/dcf/group__be.html#ga0195e6609933038564f037177a7704c8" title="be_ut_tx_bulk_parallel_do" alt="" coords="189,5,361,32"/>
<area shape="rect" id="node3" href="../../d9/dcf/group__be.html#ga451272d61263c314d90b5fc4f61a8685" title="be_ut_tx_bulk_parallel_done" alt="" coords="182,56,369,83"/>
<area shape="rect" id="node4" href="../../d9/d2d/group__capa.html#ga7c04af7db9e8140da770e9aa37ef1d36" title="m0_capa_get" alt="" coords="225,107,325,133"/>
<area shape="rect" id="node5" href="../../d0/dec/m0t1fs_2linux__kernel_2file_8c.html#aa4bf7cbec21e370bb79fc606e8fa5801" title="nw_xfer_req_dispatch" alt="" coords="201,157,350,184"/>
<area shape="rect" id="node6" href="../../d0/dec/m0t1fs_2linux__kernel_2file_8c.html#adaf38a1dd7a04a7069ef195f5e4f44e6" title="target_cob_create_fop\l_prepare" alt="" coords="200,209,351,250"/>
<area shape="rect" id="node7" href="../../d0/dec/m0t1fs_2linux__kernel_2file_8c.html#aa4335ac7529536ab734631137a5de987" title="target_ioreq_iofops\l_prepare" alt="" coords="209,274,341,315"/>
<area shape="rect" id="node8" href="../../d8/d98/group__trace.html#ga9812d0c69430d4068b1cd5ccd297b6e3" title="m0_trace_stats_update" alt="" coords="196,340,355,367"/>
<area shape="rect" id="node9" href="../../d0/db8/ut_2timer_8c.html#ad885a985409578d8d7c0a06219713d73" title="timer_callback" alt="" coords="222,391,329,417"/>
<area shape="rect" id="node10" href="../../d9/d85/ut_2locality_8c.html#a0dbc098c68013553657f87b57b5307b1" title="cat_tick" alt="" coords="241,441,309,468"/>
<area shape="rect" id="node11" href="../../d5/df7/refs_8h.html#ad4ed148978270f86b1af2ea8697f8aae" title="m0_ref_get" alt="" coords="232,492,319,519"/>
<area shape="rect" id="node12" href="../../dc/d83/io__req__fop_8c.html#a3cb767009f727f1b851bbd281c037c91" title="ioreq_cc_fop_init" alt="" coords="215,543,335,569"/>
<area shape="rect" id="node13" href="../../de/dec/lnet_2st_2ping_8c.html#a708a16cbc64d7bf10e7f4c82ff68c103" title="c_m_recv_cb" alt="" coords="225,593,325,620"/>
<area shape="rect" id="node14" href="../../de/dec/lnet_2st_2ping_8c.html#a900756189ba041aef557ce5e102e8db3" title="c_m_send_cb" alt="" coords="224,644,327,671"/>
<area shape="rect" id="node15" href="../../de/dec/lnet_2st_2ping_8c.html#ae9f8351a4bba5adf19394a89788e8977" title="c_p_recv_cb" alt="" coords="227,695,323,721"/>
<area shape="rect" id="node16" href="../../de/dec/lnet_2st_2ping_8c.html#ae5c6869798e0d0557c256842a597c00a" title="c_p_send_cb" alt="" coords="226,745,325,772"/>
<area shape="rect" id="node17" href="../../de/dec/lnet_2st_2ping_8c.html#a0dd4e11e3356a33a35929a971a931743" title="event_cb" alt="" coords="238,796,313,823"/>
<area shape="rect" id="node18" href="../../de/dec/lnet_2st_2ping_8c.html#a8fa321f5a4f7c012bc310dab2cd6887b" title="s_m_recv_cb" alt="" coords="225,847,325,873"/>
<area shape="rect" id="node19" href="../../de/dec/lnet_2st_2ping_8c.html#a411dbfc205d0850123d8040f70016f54" title="s_m_send_cb" alt="" coords="224,897,327,924"/>
<area shape="rect" id="node20" href="../../de/dec/lnet_2st_2ping_8c.html#a217e0e327ab2f652e8db6bd59ba201ee" title="s_a_recv_cb" alt="" coords="227,948,323,975"/>
<area shape="rect" id="node21" href="../../de/dec/lnet_2st_2ping_8c.html#a4f12e5c0ae4b76950d4ed9871d63d4ee" title="s_a_send_cb" alt="" coords="226,999,325,1025"/>
<area shape="rect" id="node22" href="../../de/dec/lnet_2st_2ping_8c.html#acd42a07db01ccd166a3b1d121ea37fb3" title="nlx_ping_server_work" alt="" coords="201,1049,349,1076"/>
<area shape="rect" id="node23" href="../../de/dec/lnet_2st_2ping_8c.html#aa29b486d9e2999df29726ef62452087b" title="nlx_ping_client_msg\l_send_recv" alt="" coords="205,1101,345,1142"/>
<area shape="rect" id="node24" href="../../de/dec/lnet_2st_2ping_8c.html#a90803e285640bfb3403188535840d4f4" title="nlx_ping_client_passive_recv" alt="" coords="179,1167,371,1193"/>
<area shape="rect" id="node25" href="../../de/dec/lnet_2st_2ping_8c.html#adfc27bd9ed8e147867dc1f91eef5a4f6" title="nlx_ping_client_passive_send" alt="" coords="178,1217,373,1244"/>
<area shape="rect" id="node26" href="../../dd/d08/group__bevcqueue.html#gaef877c0746747aab043617177b5973df" title="bev_cqueue_put" alt="" coords="217,1268,334,1295"/>
<area shape="rect" id="node27" href="../../df/df1/klnet__ut_8c.html#aba2298734edeb62e81dd34998b23f116" title="ut_ktest_msg_buf_event_wait" alt="" coords="177,1319,373,1345"/>
<area shape="rect" id="node28" href="../../df/df1/klnet__ut_8c.html#a6f5ea313a2bb0c2eff15bcb51db8d7fa" title="ut_ktest_msg_ep_create" alt="" coords="193,1369,358,1396"/>
<area shape="rect" id="node29" href="../../d2/d68/lnet__ut_8c.html#a461081573a81b971024dea04d622176b" title="test_timeout_tm_timeout\l_buffers" alt="" coords="192,1421,359,1462"/>
<area shape="rect" id="node30" href="../../df/db4/group__rpc__session.html#gae070685492fe8e4f37dc7cfd8b4e6efe" title="m0_rpc_id_generate" alt="" coords="206,1487,345,1513"/>
<area shape="rect" id="node31" href="../../d1/dc1/group__sm.html#ga719a6bcaa3497d6c9051834ac427c7aa" title="m0_sm_ast_wait_post" alt="" coords="199,1537,352,1564"/>
<area shape="rect" id="node32" href="../../da/db4/group__ut.html#ga549aeac3568e3db226202a526ea69829" title="m0_ut_assertimpl" alt="" coords="213,1588,338,1615"/>
</map>
</div>

</div>
</div>
<a id="ga185457de57331c489431d0ff5dbe1195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga185457de57331c489431d0ff5dbe1195">&#9670;&nbsp;</a></span>m0_atomic64_inc_and_test()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool m0_atomic64_inc_and_test </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Atomically increments a counter and returns true iff the result is 0. </p>

</div>
</div>
<a id="gab25f09c5bb8ae99ab2605ca20db2130f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab25f09c5bb8ae99ab2605ca20db2130f">&#9670;&nbsp;</a></span>m0_atomic64_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void m0_atomic64_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Assigns a value to a counter. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/de8/group__atomic_gab25f09c5bb8ae99ab2605ca20db2130f_icgraph.png" border="0" usemap="#d3/de8/group__atomic_gab25f09c5bb8ae99ab2605ca20db2130f_icgraph" alt=""/></div>
<map name="d3/de8/group__atomic_gab25f09c5bb8ae99ab2605ca20db2130f_icgraph" id="d3/de8/group__atomic_gab25f09c5bb8ae99ab2605ca20db2130f_icgraph">
<area shape="rect" id="node2" href="../../d9/dcf/group__be.html#ga776bb84c6ea82f3cf7fcb449a1eec74a" title="m0_be_io_reset" alt="" coords="219,60,334,87"/>
<area shape="rect" id="node3" href="../../d9/dcf/group__be.html#gab1771948185c3ac742e9a9c0b93b45e9" title="be_ut_io_sched_thread" alt="" coords="423,35,579,62"/>
<area shape="rect" id="node4" href="../../d9/dcf/group__be.html#gad42722fb11da213e1b5811a5219f8245" title="m0_be_ut_io_sched" alt="" coords="207,111,346,138"/>
<area shape="rect" id="node5" href="../../d2/df0/be_2ut_2log_8c.html#a01ee89fd493ea032edc6c90670e6a233" title="be_ut_log_multi_ut" alt="" coords="211,162,342,188"/>
<area shape="rect" id="node6" href="../../d9/dcf/group__be.html#ga5a616233a9b675baab45faf51b0d8dfe" title="m0_be_ut_log_discard\l_getput" alt="" coords="201,213,353,254"/>
<area shape="rect" id="node7" href="../../d9/dcf/group__be.html#ga69bfa25d348f6c43b19ba411278de5c9" title="m0_be_ut_pd_usecase" alt="" coords="199,279,355,306"/>
<area shape="rect" id="node8" href="../../d9/dcf/group__be.html#gab9f67ad36a1f33983a3f959e39cc44cb" title="be_ut_queue_with_cfg" alt="" coords="201,330,353,356"/>
<area shape="rect" id="node9" href="../../d9/dcf/group__be.html#ga4e845f43f3b65fb22ce49fdb8d202227" title="be_ut_tx_bulk_parallel\l_test_prepare" alt="" coords="201,381,352,422"/>
<area shape="rect" id="node10" href="../../d9/dcf/group__be.html#ga6e25ca4087f002ef922c1d9bb3a0bb28" title="be_ut_tx_bulk_parallel\l_thread" alt="" coords="201,446,352,488"/>
<area shape="rect" id="node11" href="../../d9/d2d/group__capa.html#ga1e720f7e510905702ef7e7cfafe7fb7d" title="m0_capa_new" alt="" coords="223,512,330,539"/>
<area shape="rect" id="node12" href="../../da/db4/group__ut.html#ga86a1241e36c983daa0cb9ea124e3ef41" title="level_ut_enter" alt="" coords="225,563,328,590"/>
<area shape="rect" id="node13" href="../../d0/dec/m0t1fs_2linux__kernel_2file_8c.html#a5b4b5d6caa349a0e0e196ee47095c2b7" title="nw_xfer_request_init" alt="" coords="205,614,348,640"/>
<area shape="rect" id="node14" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#a5aa05c92e834b5040adfe02fb07a33ea" title="file_io_ut_init" alt="" coords="451,740,550,767"/>
<area shape="rect" id="node15" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#a67185937a057c1233131e9fc1976477d" title="dgmode_readio_test" alt="" coords="207,715,346,742"/>
<area shape="rect" id="node16" href="../../d1/d59/group__fom.html#ga0b9d4637e7d0b67e5c8a75c6cdae6591" title="loc_init" alt="" coords="245,766,308,792"/>
<area shape="rect" id="node17" href="../../d8/d98/group__trace.html#ga91bd3f82c67d9d18b75f0ed69666c414" title="m0_arch_trace_init" alt="" coords="435,1222,567,1248"/>
<area shape="rect" id="node18" href="../../d7/ded/group__memory.html#ga6972fb511b91f4e3d52a6dcada223ac1" title="m0_memory_init" alt="" coords="217,867,336,894"/>
<area shape="rect" id="node19" href="../../d0/db8/ut_2timer_8c.html#a23954493a9cb90d1c6e3d7583aa8391f" title="test_timers" alt="" coords="233,918,320,944"/>
<area shape="rect" id="node20" href="../../d0/d11/lib_2ut_2main_8c.html#a0e06f56fdd4a95d9eb124e08b75c0333" title="test_locality" alt="" coords="231,968,323,995"/>
<area shape="rect" id="node21" href="../../d5/df7/refs_8h.html#a5d62779a5f7a71f16a43727e524117e0" title="m0_ref_init" alt="" coords="233,1019,320,1046"/>
<area shape="rect" id="node22" href="../../d8/dd8/ut_2thread__pool_8c.html#a99ea73636a69c591c646e3855720cd81" title="m0_ut_lib_thread_pool_test" alt="" coords="186,1070,367,1096"/>
<area shape="rect" id="node23" href="../../dc/d86/ut_2time_8c.html#ab774539d6b362beb63e5f2a6e16e213b" title="time_test_mt_nr" alt="" coords="219,1120,335,1147"/>
<area shape="rect" id="node24" href="../../d8/d98/group__trace.html#ga828b1e2b97c27a845cdacf0f7b5f510c" title="m0_trace_buf_header_init" alt="" coords="191,1272,362,1299"/>
<area shape="rect" id="node25" href="../../d0/d11/lib_2ut_2main_8c.html#a674b21994cf9148555e16f401d63c9e7" title="test_atomic" alt="" coords="231,1222,322,1248"/>
<area shape="rect" id="node26" href="../../d2/d1d/super_8c.html#ac84b8403c4967c422b38a3dc824df4f5" title="m0t1fs_sb_init" alt="" coords="223,664,330,691"/>
<area shape="rect" id="node27" href="../../d9/dbf/group__motr-keepalive.html#ga59d3d30b6ebad55b392089b3da66b84e" title="m0_ha_keepalive_handler_init" alt="" coords="179,1323,375,1350"/>
<area shape="rect" id="node28" href="../../df/d13/mt__fom_8c.html#a23b2d495070bcc039981bf1d4838ad0e" title="st_mt_inst" alt="" coords="235,1374,318,1400"/>
<area shape="rect" id="node29" href="../../d7/ddb/lnet_2st_2ping_8h.html#aafb00e5315ebd136654a9a261867b2c1" title="nlx_ping_print_qstats\l_total" alt="" coords="204,1425,349,1466"/>
<area shape="rect" id="node30" href="../../de/dec/lnet_2st_2ping_8c.html#ab32f0c3cf666b61702ace01263c98ddd" title="ping_init" alt="" coords="241,1491,312,1518"/>
<area shape="rect" id="node31" href="../../dd/d08/group__bevcqueue.html#ga1e5ff189be5e9394e1f1ddad3cf64f6f" title="bev_cqueue_init" alt="" coords="219,1542,335,1568"/>
<area shape="rect" id="node32" href="../../df/df1/klnet__ut_8c.html#a956ddaa40cddba502f949ba5e2d5fb2a" title="ktest_msg_body" alt="" coords="217,1643,336,1670"/>
<area shape="rect" id="node33" href="../../df/df1/klnet__ut_8c.html#a9a3e6e3ed549ff5517e3a278640608f3" title="ktest_msg" alt="" coords="459,1618,542,1644"/>
<area shape="rect" id="node34" href="../../df/df1/klnet__ut_8c.html#a8d7b18285c438159d553511d8a960c19" title="ktest_bulk_body" alt="" coords="218,1744,335,1771"/>
<area shape="rect" id="node35" href="../../df/df1/klnet__ut_8c.html#a7fe5316079127878ba6277a33f15604b" title="ktest_bulk" alt="" coords="459,1719,542,1746"/>
<area shape="rect" id="node36" href="../../d2/d68/lnet__ut_8c.html#a461081573a81b971024dea04d622176b" title="test_timeout_tm_timeout\l_buffers" alt="" coords="193,1897,360,1938"/>
<area shape="rect" id="node37" href="../../d2/d68/lnet__ut_8c.html#a706007a8000a9b6db4ccc3830d57d8f7" title="test_timeout" alt="" coords="453,1846,548,1872"/>
<area shape="rect" id="node38" href="../../d2/d68/lnet__ut_8c.html#a61ef321fcc86a2330d997cbec5025e1e" title="test_timeout_body" alt="" coords="212,1846,341,1872"/>
<area shape="rect" id="node39" href="../../dd/da5/group___net_test_bulk_node_internals.html#ga058deb8a039669531f9b9c93cc9e3887" title="node_bulk_cmd_start" alt="" coords="203,1963,350,1990"/>
<area shape="rect" id="node40" href="../../dd/da5/group___net_test_bulk_node_internals.html#gaa9b527057189a24da890c66c3d4193bf" title="node_bulk_cmd_stop" alt="" coords="204,2014,349,2040"/>
<area shape="rect" id="node41" href="../../dd/d2f/group___net_test_ringbuf_d_f_s.html#ga9c8d8b7998c68fa8da134b1b93cbf00c" title="m0_net_test_ringbuf_init" alt="" coords="195,2064,359,2091"/>
<area shape="rect" id="node42" href="../../d9/dd2/group__net.html#gaa5fda7855ba2cf7b2511ced76acb046d" title="m0_net_tm_init" alt="" coords="221,2115,332,2142"/>
<area shape="rect" id="node43" href="../../d9/dd2/group__net.html#ga9858ef0b4919bdf6b5abd5fd4186b53a" title="m0_net_tm_stop" alt="" coords="217,2166,336,2192"/>
<area shape="rect" id="node44" href="../../d2/d82/tm__provision_8c.html#a233cb9884376e1f8cee9344fc43ec405" title="tm_provision_recv_q" alt="" coords="205,2216,348,2243"/>
<area shape="rect" id="node45" href="../../d1/dc1/group__sm.html#ga17d6e993bf7e2cd4e2adf7cd1968a207" title="m0_sm_ast_wait_init" alt="" coords="204,2267,349,2294"/>
<area shape="rect" id="node46" href="../../df/d08/repair__main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="251,2318,302,2344"/>
<area shape="rect" id="node47" href="../../d3/d78/group__stoblinux.html#gadd721a55159fb4959a77f5d76b8df043" title="stob_linux_io_launch" alt="" coords="205,2368,348,2395"/>
<area shape="rect" id="node48" href="../../d3/d78/group__stoblinux.html#ga2f915fcb4ad76bb31822ab70a8a602a1" title="m0_stob_ioq_init" alt="" coords="217,2419,337,2446"/>
</map>
</div>

</div>
</div>
<a id="gad86e5a2fd8619a602ea98fc0cd98caa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad86e5a2fd8619a602ea98fc0cd98caa2">&#9670;&nbsp;</a></span>m0_atomic64_sub()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void m0_atomic64_sub </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Atomically subtracts given amount from a counter. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/de8/group__atomic_gad86e5a2fd8619a602ea98fc0cd98caa2_icgraph.png" border="0" usemap="#d3/de8/group__atomic_gad86e5a2fd8619a602ea98fc0cd98caa2_icgraph" alt=""/></div>
<map name="d3/de8/group__atomic_gad86e5a2fd8619a602ea98fc0cd98caa2_icgraph" id="d3/de8/group__atomic_gad86e5a2fd8619a602ea98fc0cd98caa2_icgraph">
<area shape="rect" id="node2" href="../../d0/dec/m0t1fs_2linux__kernel_2file_8c.html#abd1f7ec8e9e0b141ab0f16399cf8f2dc" title="io_req_fop_release" alt="" coords="356,5,487,32"/>
<area shape="rect" id="node3" href="../../d0/dec/m0t1fs_2linux__kernel_2file_8c.html#ab71e27c7d8d75e2858f8f53deed8fe14" title="io_bottom_half" alt="" coords="191,195,298,221"/>
<area shape="rect" id="node4" href="../../da/d03/m0t1fs_2linux__kernel_2ut_2file_8c.html#a5a0bd22e448f85edf59192ea3e3cd2c0" title="target_ioreq_test" alt="" coords="362,68,481,95"/>
<area shape="rect" id="node5" href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3" title="m0_free" alt="" coords="210,43,279,69"/>
<area shape="rect" id="node6" href="../../dc/d83/io__req__fop_8c.html#ab83b7a22bed4b902c75597a980472a98" title="ioreq_fop_release" alt="" coords="359,119,483,145"/>
<area shape="rect" id="node7" href="../../d3/d78/group__stoblinux.html#ga58b72d62a26b5c87cf71fe39229d74c9" title="ioq_queue_submit" alt="" coords="181,245,308,272"/>
</map>
</div>

</div>
</div>
<a id="ga6ffe67040906c0ee58477707229294a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ffe67040906c0ee58477707229294a9">&#9670;&nbsp;</a></span>m0_atomic64_sub_return()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int64_t m0_atomic64_sub_return </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d9d/structm0__atomic64.html">m0_atomic64</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Atomically decrements a counter and returns the result. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/de8/group__atomic_ga6ffe67040906c0ee58477707229294a9_icgraph.png" border="0" usemap="#d3/de8/group__atomic_ga6ffe67040906c0ee58477707229294a9_icgraph" alt=""/></div>
<map name="d3/de8/group__atomic_ga6ffe67040906c0ee58477707229294a9_icgraph" id="d3/de8/group__atomic_ga6ffe67040906c0ee58477707229294a9_icgraph">
<area shape="rect" id="node2" href="../../dd/dc6/group__fdmi__fol__src.html#ga5feae29379611f506fe33aa5c231b0c4" title="ffs_tx_dec_refc" alt="" coords="225,5,336,32"/>
<area shape="rect" id="node3" href="../../df/d13/mt__fom_8c.html#a98e0e947a4062824a631a34dc927529a" title="st_common_tick" alt="" coords="221,56,340,83"/>
</map>
</div>

</div>
</div>
<a id="ga582f0cbfee5208d0d7dd375cedf943f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga582f0cbfee5208d0d7dd375cedf943f8">&#9670;&nbsp;</a></span>m0_mb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void m0_mb </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Hardware memory barrier. Forces strict CPU ordering. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/de8/group__atomic_ga582f0cbfee5208d0d7dd375cedf943f8_icgraph.png" border="0" usemap="#d3/de8/group__atomic_ga582f0cbfee5208d0d7dd375cedf943f8_icgraph" alt=""/></div>
<map name="d3/de8/group__atomic_ga582f0cbfee5208d0d7dd375cedf943f8_icgraph" id="d3/de8/group__atomic_ga582f0cbfee5208d0d7dd375cedf943f8_icgraph">
<area shape="rect" id="node2" href="../../d1/d59/group__fom.html#ga704dcda24d8cbf0d5dbb66c51adba5fb" title="m0_fom_callback_arm" alt="" coords="127,5,281,32"/>
<area shape="rect" id="node3" href="../../d5/df7/refs_8h.html#a5d62779a5f7a71f16a43727e524117e0" title="m0_ref_init" alt="" coords="161,56,247,83"/>
<area shape="rect" id="node4" href="../../d5/df7/refs_8h.html#ad4ed148978270f86b1af2ea8697f8aae" title="m0_ref_get" alt="" coords="161,107,247,133"/>
<area shape="rect" id="node5" href="../../dc/d86/ut_2time_8c.html#ac6edca22f01c1c9a9cbb7c906df58c5a" title="time_thread" alt="" coords="159,157,249,184"/>
<area shape="rect" id="node6" href="../../d1/dc1/group__sm.html#gaa7f51358c062449485211bd02b3edb66" title="m0_sm_ast_wait_prepare" alt="" coords="119,208,289,235"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri May 20 2022 10:35:50 for Motr by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
