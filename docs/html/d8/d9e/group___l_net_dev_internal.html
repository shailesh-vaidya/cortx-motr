<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Motr: LNet Transport Device Internals</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Motr
   &#160;<span id="projectnumber">M0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d8/d9e/group___l_net_dev_internal.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">LNet Transport Device Internals<div class="ingroups"><a class="el" href="../../d9/dd2/group__net.html">Networking</a> &raquo; <a class="el" href="../../d7/db9/group___l_net_d_f_s.html">LNet Transport</a> &raquo; <a class="el" href="../../df/d9e/group___l_net_dev.html">LNet Transport Device</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Detailed functional specification of the internals of the LNet Transport Device.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for LNet Transport Device Internals:</div>
<div class="dyncontent">
<center><table><tr><td><img src="../../d8/d9e/group___l_net_dev_internal.png" border="0" alt="" usemap="#d8_2d9e_2group______l__net__dev__internal"/>
<map name="d8_2d9e_2group______l__net__dev__internal" id="d8_2d9e_2group______l__net__dev__internal">
<area shape="rect" id="node1" href="../../df/d9e/group___l_net_dev.html" title="LNet Transport Device" alt="" coords="5,13,159,39"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga480a38459177bb04627ce25930245566"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#ga480a38459177bb04627ce25930245566">nlx_dev_ioctl_dom_init</a> (struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *kd, struct <a class="el" href="../../dc/dfc/structm0__lnet__dev__dom__init__params.html">m0_lnet_dev_dom_init_params</a> *<a class="el" href="../../d1/d41/ut_2rwlock_8c.html#ace4cb02b774242887146a15c46c21f36">p</a>)</td></tr>
<tr class="separator:ga480a38459177bb04627ce25930245566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd65375ccf4de7d7a7f5f4427aa835e5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#gacd65375ccf4de7d7a7f5f4427aa835e5">nlx_dev_ioctl_buf_register</a> (struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *kd, struct <a class="el" href="../../d8/d18/structm0__lnet__dev__buf__register__params.html">m0_lnet_dev_buf_register_params</a> *<a class="el" href="../../d1/d41/ut_2rwlock_8c.html#ace4cb02b774242887146a15c46c21f36">p</a>)</td></tr>
<tr class="separator:gacd65375ccf4de7d7a7f5f4427aa835e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e9bc5c8412dee9d2f92c2af3ca707e8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#ga8e9bc5c8412dee9d2f92c2af3ca707e8">nlx_dev_buf_pages_unpin</a> (const struct <a class="el" href="../../d5/daa/structnlx__kcore__buffer.html">nlx_kcore_buffer</a> *kb)</td></tr>
<tr class="separator:ga8e9bc5c8412dee9d2f92c2af3ca707e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3f50550da4e0288fd1d3b7e84139bc5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#gae3f50550da4e0288fd1d3b7e84139bc5">nlx_dev_buf_deregister</a> (struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *kd, struct <a class="el" href="../../d5/daa/structnlx__kcore__buffer.html">nlx_kcore_buffer</a> *kb)</td></tr>
<tr class="separator:gae3f50550da4e0288fd1d3b7e84139bc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f0e36315933b6141a761664aeecd3f2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#ga5f0e36315933b6141a761664aeecd3f2">nlx_dev_ioctl_buf_deregister</a> (struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *kd, struct <a class="el" href="../../d2/d05/structm0__lnet__dev__buf__deregister__params.html">m0_lnet_dev_buf_deregister_params</a> *<a class="el" href="../../d1/d41/ut_2rwlock_8c.html#ace4cb02b774242887146a15c46c21f36">p</a>)</td></tr>
<tr class="separator:ga5f0e36315933b6141a761664aeecd3f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga175f6caf97ceaf447e08991c8d75a77a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#ga175f6caf97ceaf447e08991c8d75a77a">nlx_dev_ioctl_buf_queue_op</a> (const struct <a class="el" href="../../df/dd0/structm0__lnet__dev__buf__queue__params.html">m0_lnet_dev_buf_queue_params</a> *<a class="el" href="../../d1/d41/ut_2rwlock_8c.html#ace4cb02b774242887146a15c46c21f36">p</a>, <a class="el" href="../../d6/d8a/group___k_l_net_core.html#gaf801c652c426c95b110aa02170d4b956">nlx_kcore_queue_op_t</a> <a class="el" href="../../d3/d1b/libdemo_8c.html#a99a30df0f2488360cdd46b4b88e5f5f0">op</a>)</td></tr>
<tr class="separator:ga175f6caf97ceaf447e08991c8d75a77a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf99ebb853d1c76827d899a0da94b5be6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#gaf99ebb853d1c76827d899a0da94b5be6">nlx_dev_ioctl_buf_del</a> (const struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *kd, const struct <a class="el" href="../../df/dd0/structm0__lnet__dev__buf__queue__params.html">m0_lnet_dev_buf_queue_params</a> *<a class="el" href="../../d1/d41/ut_2rwlock_8c.html#ace4cb02b774242887146a15c46c21f36">p</a>)</td></tr>
<tr class="separator:gaf99ebb853d1c76827d899a0da94b5be6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga084bef0cb441c5a1d2eb61f194672be4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#ga084bef0cb441c5a1d2eb61f194672be4">nlx_dev_ioctl_buf_event_wait</a> (const struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *kd, const struct <a class="el" href="../../df/dcc/structm0__lnet__dev__buf__event__wait__params.html">m0_lnet_dev_buf_event_wait_params</a> *<a class="el" href="../../d1/d41/ut_2rwlock_8c.html#ace4cb02b774242887146a15c46c21f36">p</a>)</td></tr>
<tr class="separator:ga084bef0cb441c5a1d2eb61f194672be4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d7cae2c550d0b0931b613556e97ee18"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#ga6d7cae2c550d0b0931b613556e97ee18">nlx_dev_ioctl_nidstr_decode</a> (struct <a class="el" href="../../d8/d29/structm0__lnet__dev__nid__encdec__params.html">m0_lnet_dev_nid_encdec_params</a> *<a class="el" href="../../d1/d41/ut_2rwlock_8c.html#ace4cb02b774242887146a15c46c21f36">p</a>)</td></tr>
<tr class="separator:ga6d7cae2c550d0b0931b613556e97ee18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1972e47a32dad177812e6871b70ddd7b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#ga1972e47a32dad177812e6871b70ddd7b">nlx_dev_ioctl_nidstr_encode</a> (struct <a class="el" href="../../d8/d29/structm0__lnet__dev__nid__encdec__params.html">m0_lnet_dev_nid_encdec_params</a> *<a class="el" href="../../d1/d41/ut_2rwlock_8c.html#ace4cb02b774242887146a15c46c21f36">p</a>)</td></tr>
<tr class="separator:ga1972e47a32dad177812e6871b70ddd7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae258fed3f042a408c41e81eebdff3ad0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#gae258fed3f042a408c41e81eebdff3ad0">nlx_dev_ioctl_nidstrs_get</a> (struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *kd, struct <a class="el" href="../../d4/d88/structm0__lnet__dev__nidstrs__get__params.html">m0_lnet_dev_nidstrs_get_params</a> *<a class="el" href="../../d1/d41/ut_2rwlock_8c.html#ace4cb02b774242887146a15c46c21f36">p</a>)</td></tr>
<tr class="separator:gae258fed3f042a408c41e81eebdff3ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacca7f081b1af30e2331a0617979afc21"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#gacca7f081b1af30e2331a0617979afc21">nlx_dev_ioctl_tm_start</a> (struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *kd, struct <a class="el" href="../../d4/d62/structm0__lnet__dev__tm__start__params.html">m0_lnet_dev_tm_start_params</a> *<a class="el" href="../../d1/d41/ut_2rwlock_8c.html#ace4cb02b774242887146a15c46c21f36">p</a>)</td></tr>
<tr class="separator:gacca7f081b1af30e2331a0617979afc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf05550e19ded0a4dc758312635444092"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#gaf05550e19ded0a4dc758312635444092">nlx_dev_tm_cleanup</a> (struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *kd, struct <a class="el" href="../../d5/d0b/structnlx__kcore__transfer__mc.html">nlx_kcore_transfer_mc</a> *ktm)</td></tr>
<tr class="separator:gaf05550e19ded0a4dc758312635444092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ec6703f99a0c4e78f53e08cffb9f667"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#ga9ec6703f99a0c4e78f53e08cffb9f667">nlx_dev_ioctl_tm_stop</a> (struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *kd, struct <a class="el" href="../../d7/d7e/structm0__lnet__dev__tm__stop__params.html">m0_lnet_dev_tm_stop_params</a> *<a class="el" href="../../d1/d41/ut_2rwlock_8c.html#ace4cb02b774242887146a15c46c21f36">p</a>)</td></tr>
<tr class="separator:ga9ec6703f99a0c4e78f53e08cffb9f667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca44147b1297b273d9453735493b2cbf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#gaca44147b1297b273d9453735493b2cbf">nlx_dev_ioctl_bev_bless</a> (struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *kd, struct <a class="el" href="../../d0/d70/structm0__lnet__dev__bev__bless__params.html">m0_lnet_dev_bev_bless_params</a> *<a class="el" href="../../d1/d41/ut_2rwlock_8c.html#ace4cb02b774242887146a15c46c21f36">p</a>)</td></tr>
<tr class="separator:gaca44147b1297b273d9453735493b2cbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00738e2cd72d209874016020f1c629b0"><td class="memItemLeft" align="right" valign="top">static long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#ga00738e2cd72d209874016020f1c629b0">nlx_dev_ioctl</a> (struct <a class="el" href="../../de/dd4/ut_2fsync_8c.html#a6c3cd9b35b621234e7802ad78fea5473">file</a> *<a class="el" href="../../de/dd4/ut_2fsync_8c.html#a6c3cd9b35b621234e7802ad78fea5473">file</a>, unsigned int cmd, unsigned long arg)</td></tr>
<tr class="separator:ga00738e2cd72d209874016020f1c629b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac97dbd0a0eab9e4fe0bb58122e457c8d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#gac97dbd0a0eab9e4fe0bb58122e457c8d">nlx_dev_open</a> (struct <a class="el" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a4378d6e2c48ff3495d7197693b589a36">inode</a> *<a class="el" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a4378d6e2c48ff3495d7197693b589a36">inode</a>, struct <a class="el" href="../../de/dd4/ut_2fsync_8c.html#a6c3cd9b35b621234e7802ad78fea5473">file</a> *<a class="el" href="../../de/dd4/ut_2fsync_8c.html#a6c3cd9b35b621234e7802ad78fea5473">file</a>)</td></tr>
<tr class="separator:gac97dbd0a0eab9e4fe0bb58122e457c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga120c166ef9fa98855c20aa3b67ff519b"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#ga120c166ef9fa98855c20aa3b67ff519b">nlx_dev_close</a> (struct <a class="el" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a4378d6e2c48ff3495d7197693b589a36">inode</a> *<a class="el" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a4378d6e2c48ff3495d7197693b589a36">inode</a>, struct <a class="el" href="../../de/dd4/ut_2fsync_8c.html#a6c3cd9b35b621234e7802ad78fea5473">file</a> *<a class="el" href="../../de/dd4/ut_2fsync_8c.html#a6c3cd9b35b621234e7802ad78fea5473">file</a>)</td></tr>
<tr class="separator:ga120c166ef9fa98855c20aa3b67ff519b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaea258449b1b71d6f31a7d0366d1a7d72"><td class="memItemLeft" align="right" valign="top">static struct file_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#gaea258449b1b71d6f31a7d0366d1a7d72">nlx_dev_file_ops</a></td></tr>
<tr class="separator:gaea258449b1b71d6f31a7d0366d1a7d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga64e9f5783223bb68bdb55a30368b56ef"><td class="memItemLeft" align="right" valign="top">static struct miscdevice&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#ga64e9f5783223bb68bdb55a30368b56ef">nlx_dev</a></td></tr>
<tr class="separator:ga64e9f5783223bb68bdb55a30368b56ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65ded74b721c9e887ffc7ca752a333bd"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#ga65ded74b721c9e887ffc7ca752a333bd">nlx_dev_registered</a> = false</td></tr>
<tr class="separator:ga65ded74b721c9e887ffc7ca752a333bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Detailed functional specification of the internals of the LNet Transport Device. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d74/_l_net_d_r_v_d_l_d.html">LNet Transport Device DLD</a> and <a class="el" href="../../da/d74/_l_net_d_r_v_d_l_d.html#LNetDRVDLD-lspec">Logical Specification</a> </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="gae3f50550da4e0288fd1d3b7e84139bc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae3f50550da4e0288fd1d3b7e84139bc5">&#9670;&nbsp;</a></span>nlx_dev_buf_deregister()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nlx_dev_buf_deregister </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *&#160;</td>
          <td class="paramname"><em>kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/daa/structnlx__kcore__buffer.html">nlx_kcore_buffer</a> *&#160;</td>
          <td class="paramname"><em>kb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Deregisters a shared memory buffer from the kernel domain. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kd</td><td>The kernel domain object. </td></tr>
    <tr><td class="paramname">kb</td><td>The kernel buffer object, freed upon return. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01012">1012</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_gae3f50550da4e0288fd1d3b7e84139bc5_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_gae3f50550da4e0288fd1d3b7e84139bc5_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_gae3f50550da4e0288fd1d3b7e84139bc5_cgraph" id="d8/d9e/group___l_net_dev_internal_gae3f50550da4e0288fd1d3b7e84139bc5_cgraph">
<area shape="rect" id="node2" href="../../d6/d8a/group___k_l_net_core.html#ga4325e75464380d034b8f89bbaafdb6e7" title="nlx_kcore_buffer_invariant" alt="" coords="439,116,612,143"/>
<area shape="rect" id="node3" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="262,40,338,67"/>
<area shape="rect" id="node4" href="../../d0/d04/group__mutex.html#gae26efdb3a765f750c5992041d6ee2336" title="m0_mutex_lock" alt="" coords="243,91,357,118"/>
<area shape="rect" id="node5" href="../../d0/d04/group__mutex.html#ga18963570792098f5ab3cf3e8ede8046a" title="m0_mutex_unlock" alt="" coords="236,142,364,168"/>
<area shape="rect" id="node6" href="../../d8/d9e/group___l_net_dev_internal.html#ga8e9bc5c8412dee9d2f92c2af3ca707e8" title="nlx_dev_buf_pages_unpin" alt="" coords="214,192,386,219"/>
<area shape="rect" id="node7" href="../../d6/d8a/group___k_l_net_core.html#gaed1d66ac9dd9786841dbd48dfd19ad96" title="nlx_kcore_core_buffer_map" alt="" coords="209,243,391,270"/>
<area shape="rect" id="node8" href="../../d6/d8a/group___k_l_net_core.html#gab6bfac383153bef452f2198e7f456e5c" title="nlx_kcore_core_buffer\l_unmap" alt="" coords="225,294,375,336"/>
<area shape="rect" id="node9" href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3" title="m0_free" alt="" coords="265,360,335,387"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_gae3f50550da4e0288fd1d3b7e84139bc5_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_gae3f50550da4e0288fd1d3b7e84139bc5_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_gae3f50550da4e0288fd1d3b7e84139bc5_icgraph" id="d8/d9e/group___l_net_dev_internal_gae3f50550da4e0288fd1d3b7e84139bc5_icgraph">
<area shape="rect" id="node2" href="../../d8/d9e/group___l_net_dev_internal.html#ga5f0e36315933b6141a761664aeecd3f2" title="nlx_dev_ioctl_buf_deregister" alt="" coords="209,5,396,32"/>
<area shape="rect" id="node3" href="../../d8/d9e/group___l_net_dev_internal.html#ga120c166ef9fa98855c20aa3b67ff519b" title="nlx_dev_close" alt="" coords="250,56,355,83"/>
</map>
</div>

</div>
</div>
<a id="ga8e9bc5c8412dee9d2f92c2af3ca707e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8e9bc5c8412dee9d2f92c2af3ca707e8">&#9670;&nbsp;</a></span>nlx_dev_buf_pages_unpin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nlx_dev_buf_pages_unpin </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d5/daa/structnlx__kcore__buffer.html">nlx_kcore_buffer</a> *&#160;</td>
          <td class="paramname"><em>kb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Unpins the pages referenced in a <a class="el" href="../../d5/daa/structnlx__kcore__buffer.html#a4b74b8ac5bcb10e1ba2da04bc98048d0">nlx_kcore_buffer::kb_kiov</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kb</td><td>The kernel buffer object. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l00999">999</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga8e9bc5c8412dee9d2f92c2af3ca707e8_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga8e9bc5c8412dee9d2f92c2af3ca707e8_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga8e9bc5c8412dee9d2f92c2af3ca707e8_icgraph" id="d8/d9e/group___l_net_dev_internal_ga8e9bc5c8412dee9d2f92c2af3ca707e8_icgraph">
<area shape="rect" id="node2" href="../../d8/d9e/group___l_net_dev_internal.html#gae3f50550da4e0288fd1d3b7e84139bc5" title="nlx_dev_buf_deregister" alt="" coords="225,5,381,32"/>
</map>
</div>

</div>
</div>
<a id="ga120c166ef9fa98855c20aa3b67ff519b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga120c166ef9fa98855c20aa3b67ff519b">&#9670;&nbsp;</a></span>nlx_dev_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL int nlx_dev_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a4378d6e2c48ff3495d7197693b589a36">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/dd4/ut_2fsync_8c.html#a6c3cd9b35b621234e7802ad78fea5473">file</a> *&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Releases all resources for the given struct file.</p>
<p>This operation is called once when the file is being released. There is a 1:1 correspondence between struct file objects and <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> objects, so this operation will release all kernel resources for the domain. That can be expensive if the user process failed to release all transfer machines and buffers before closing the file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inode</td><td>Device inode object. </td></tr>
    <tr><td class="paramname">file</td><td>File object being released. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01527">1527</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga120c166ef9fa98855c20aa3b67ff519b_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga120c166ef9fa98855c20aa3b67ff519b_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga120c166ef9fa98855c20aa3b67ff519b_cgraph" id="d8/d9e/group___l_net_dev_internal_ga120c166ef9fa98855c20aa3b67ff519b_cgraph">
<area shape="rect" id="node2" href="../../d6/d8a/group___k_l_net_core.html#gae856324eb9fc162a2b11e941c68d09e6" title="nlx_kcore_domain_invariant" alt="" coords="397,115,580,141"/>
<area shape="rect" id="node3" href="../../d8/de0/group___l_net_core.html#ga7d87bfc66f51fa5e0a24155424e515f9" title="nlx_core_kmem_loc_is\l_empty" alt="" coords="628,135,783,177"/>
<area shape="rect" id="node4" href="../../d6/d8a/group___k_l_net_core.html#ga324d5e1cf42d18e1d0722d6088296878" title="nlx_kcore_LNetMDUnlink" alt="" coords="169,325,339,352"/>
<area shape="rect" id="node5" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079" title="M0_RC" alt="" coords="455,300,522,327"/>
<area shape="rect" id="node6" href="../../d8/d9e/group___l_net_dev_internal.html#gaf05550e19ded0a4dc758312635444092" title="nlx_dev_tm_cleanup" alt="" coords="183,477,325,504"/>
<area shape="rect" id="node7" href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3" title="m0_free" alt="" coords="454,427,523,453"/>
<area shape="rect" id="node8" href="../../d8/d9e/group___l_net_dev_internal.html#gae3f50550da4e0288fd1d3b7e84139bc5" title="nlx_dev_buf_deregister" alt="" coords="176,376,332,403"/>
<area shape="rect" id="node9" href="../../d6/d8a/group___k_l_net_core.html#ga7bd7731a15e72411dea41c2aa699d146" title="nlx_kcore_core_domain_map" alt="" coords="159,173,349,200"/>
<area shape="rect" id="node10" href="../../d6/d8a/group___k_l_net_core.html#gad9311dbbf12eeef1cf130941faf081a0" title="nlx_kcore_core_domain\l_unmap" alt="" coords="175,107,333,149"/>
<area shape="rect" id="node11" href="../../d6/d8a/group___k_l_net_core.html#gacb2945bb68945909f2c8a6fa11d3c5e7" title="nlx_core_kmem_loc_set" alt="" coords="173,528,335,555"/>
<area shape="rect" id="node12" href="../../d6/d8a/group___k_l_net_core.html#gae1fb86408b29aad8bcb47da62791f168" title="nlx_kcore_kcore_dom_fini" alt="" coords="167,5,341,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga120c166ef9fa98855c20aa3b67ff519b_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga120c166ef9fa98855c20aa3b67ff519b_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga120c166ef9fa98855c20aa3b67ff519b_icgraph" id="d8/d9e/group___l_net_dev_internal_ga120c166ef9fa98855c20aa3b67ff519b_icgraph">
<area shape="rect" id="node2" href="../../df/df1/klnet__ut_8c.html#a60dc379d0e6df0827a2494ecd7d752d9" title="ut_dev_close" alt="" coords="159,5,257,32"/>
<area shape="rect" id="node3" href="../../df/df1/klnet__ut_8c.html#af7a8a77a437d2cd261a2670b5d678f7a" title="ktest_dev" alt="" coords="305,31,384,57"/>
</map>
</div>

</div>
</div>
<a id="ga00738e2cd72d209874016020f1c629b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00738e2cd72d209874016020f1c629b0">&#9670;&nbsp;</a></span>nlx_dev_ioctl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long nlx_dev_ioctl </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dd4/ut_2fsync_8c.html#a6c3cd9b35b621234e7802ad78fea5473">file</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Performs an unlocked (BKL is not held) ioctl request on the m0lnet device.</p>
<dl class="section pre"><dt>Precondition</dt><dd>nlx_kcore_domain_invariant(file-&gt;private_data) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>File instance, corresponding to the <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a>. </td></tr>
    <tr><td class="paramname">cmd</td><td>The request or operation to perform. </td></tr>
    <tr><td class="paramname">arg</td><td>Argument to the operation, internally treated as a pointer whose type depends on the cmd. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01372">1372</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga00738e2cd72d209874016020f1c629b0_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga00738e2cd72d209874016020f1c629b0_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga00738e2cd72d209874016020f1c629b0_cgraph" id="d8/d9e/group___l_net_dev_internal_ga00738e2cd72d209874016020f1c629b0_cgraph">
<area shape="rect" id="node2" href="../../d6/d8a/group___k_l_net_core.html#gae856324eb9fc162a2b11e941c68d09e6" title="nlx_kcore_domain_invariant" alt="" coords="393,38,576,65"/>
<area shape="rect" id="node3" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="447,292,523,318"/>
<area shape="rect" id="node4" href="../../d8/d9e/group___l_net_dev_internal.html#ga480a38459177bb04627ce25930245566" title="nlx_dev_ioctl_dom_init" alt="" coords="171,89,326,116"/>
<area shape="rect" id="node5" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079" title="M0_RC" alt="" coords="451,418,518,445"/>
<area shape="rect" id="node6" href="../../d8/d9e/group___l_net_dev_internal.html#gacca7f081b1af30e2331a0617979afc21" title="nlx_dev_ioctl_tm_start" alt="" coords="172,444,325,470"/>
<area shape="rect" id="node7" href="../../d8/d9e/group___l_net_dev_internal.html#ga9ec6703f99a0c4e78f53e08cffb9f667" title="nlx_dev_ioctl_tm_stop" alt="" coords="173,140,325,166"/>
<area shape="rect" id="node8" href="../../d8/d9e/group___l_net_dev_internal.html#gacd65375ccf4de7d7a7f5f4427aa835e5" title="nlx_dev_ioctl_buf_register" alt="" coords="162,494,335,521"/>
<area shape="rect" id="node9" href="../../d8/d9e/group___l_net_dev_internal.html#ga5f0e36315933b6141a761664aeecd3f2" title="nlx_dev_ioctl_buf_deregister" alt="" coords="155,190,342,217"/>
<area shape="rect" id="node10" href="../../d8/d9e/group___l_net_dev_internal.html#ga175f6caf97ceaf447e08991c8d75a77a" title="nlx_dev_ioctl_buf_queue_op" alt="" coords="155,545,342,572"/>
<area shape="rect" id="node11" href="../../d8/d9e/group___l_net_dev_internal.html#gaf99ebb853d1c76827d899a0da94b5be6" title="nlx_dev_ioctl_buf_del" alt="" coords="175,241,322,268"/>
<area shape="rect" id="node12" href="../../d8/d9e/group___l_net_dev_internal.html#ga084bef0cb441c5a1d2eb61f194672be4" title="nlx_dev_ioctl_buf_event_wait" alt="" coords="152,292,345,318"/>
<area shape="rect" id="node13" href="../../d8/d9e/group___l_net_dev_internal.html#gaca44147b1297b273d9453735493b2cbf" title="nlx_dev_ioctl_bev_bless" alt="" coords="167,342,331,369"/>
<area shape="rect" id="node14" href="../../d8/d9e/group___l_net_dev_internal.html#ga6d7cae2c550d0b0931b613556e97ee18" title="nlx_dev_ioctl_nidstr\l_decode" alt="" coords="180,647,317,688"/>
<area shape="rect" id="node15" href="../../d8/d9e/group___l_net_dev_internal.html#ga1972e47a32dad177812e6871b70ddd7b" title="nlx_dev_ioctl_nidstr\l_encode" alt="" coords="180,712,317,754"/>
<area shape="rect" id="node16" href="../../d8/d9e/group___l_net_dev_internal.html#gae258fed3f042a408c41e81eebdff3ad0" title="nlx_dev_ioctl_nidstrs_get" alt="" coords="164,393,333,420"/>
</map>
</div>

</div>
</div>
<a id="gaca44147b1297b273d9453735493b2cbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaca44147b1297b273d9453735493b2cbf">&#9670;&nbsp;</a></span>nlx_dev_ioctl_bev_bless()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nlx_dev_ioctl_bev_bless </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *&#160;</td>
          <td class="paramname"><em>kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d70/structm0__lnet__dev__bev__bless__params.html">m0_lnet_dev_bev_bless_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Blesses a shared <a class="el" href="../../d1/d4b/structnlx__core__buffer__event.html">nlx_core_buffer_event</a> object. The shared buffer event object is pinned in kernel space and its <a class="el" href="../../d1/d4b/structnlx__core__buffer__event.html#a58741a997e3f0bc256d6f2d00fe4b578">nlx_core_buffer_event::cbe_kpvt</a> field is set. The <a class="el" href="../../dd/d08/group__bevcqueue.html#gae67d05e9d250b186c38319d87252910d">bev_link_bless()</a> function is used to bless the <a class="el" href="../../d1/d4b/structnlx__core__buffer__event.html#ac0f10a4e5b530ecd00c5b95138e91051">nlx_core_buffer_event::cbe_tm_link</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kd</td><td>The kernel domain object. </td></tr>
    <tr><td class="paramname">p</td><td>Ioctl request parameters. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01310">1310</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_gaca44147b1297b273d9453735493b2cbf_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_gaca44147b1297b273d9453735493b2cbf_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_gaca44147b1297b273d9453735493b2cbf_cgraph" id="d8/d9e/group___l_net_dev_internal_gaca44147b1297b273d9453735493b2cbf_cgraph">
<area shape="rect" id="node2" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="265,5,341,32"/>
<area shape="rect" id="node3" href="../../d6/d8a/group___k_l_net_core.html#ga530692bcf0e267d1a08e8faced4528a4" title="nlx_kcore_tm_invariant" alt="" coords="225,56,381,83"/>
<area shape="rect" id="node4" href="../../d6/d8a/group___k_l_net_core.html#gacb2945bb68945909f2c8a6fa11d3c5e7" title="nlx_core_kmem_loc_set" alt="" coords="436,191,599,217"/>
<area shape="rect" id="node5" href="../../d6/d8a/group___k_l_net_core.html#gad040d4c33abc1b0824385271527f0c08" title="nlx_kcore_core_bev_map" alt="" coords="217,157,388,184"/>
<area shape="rect" id="node6" href="../../d8/de0/group___l_net_core.html#ga7d87bfc66f51fa5e0a24155424e515f9" title="nlx_core_kmem_loc_is\l_empty" alt="" coords="225,209,380,250"/>
<area shape="rect" id="node7" href="../../dd/d08/group__bevcqueue.html#gae67d05e9d250b186c38319d87252910d" title="bev_link_bless" alt="" coords="249,275,357,301"/>
<area shape="rect" id="node8" href="../../d6/d8a/group___k_l_net_core.html#ga50148eb7f1be19bec7ba39176c4ae111" title="nlx_kcore_core_bev\l_unmap" alt="" coords="233,326,372,367"/>
<area shape="rect" id="node9" href="../../d0/d04/group__mutex.html#gae26efdb3a765f750c5992041d6ee2336" title="m0_mutex_lock" alt="" coords="245,392,360,419"/>
<area shape="rect" id="node10" href="../../d0/d04/group__mutex.html#ga18963570792098f5ab3cf3e8ede8046a" title="m0_mutex_unlock" alt="" coords="239,443,367,469"/>
<area shape="rect" id="node11" href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3" title="m0_free" alt="" coords="268,493,337,520"/>
<area shape="rect" id="node12" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079" title="M0_RC" alt="" coords="269,544,336,571"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_gaca44147b1297b273d9453735493b2cbf_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_gaca44147b1297b273d9453735493b2cbf_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_gaca44147b1297b273d9453735493b2cbf_icgraph" id="d8/d9e/group___l_net_dev_internal_gaca44147b1297b273d9453735493b2cbf_icgraph">
<area shape="rect" id="node2" href="../../d8/d9e/group___l_net_dev_internal.html#ga00738e2cd72d209874016020f1c629b0" title="nlx_dev_ioctl" alt="" coords="217,5,316,32"/>
</map>
</div>

</div>
</div>
<a id="gaf99ebb853d1c76827d899a0da94b5be6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf99ebb853d1c76827d899a0da94b5be6">&#9670;&nbsp;</a></span>nlx_dev_ioctl_buf_del()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nlx_dev_ioctl_buf_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *&#160;</td>
          <td class="paramname"><em>kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../df/dd0/structm0__lnet__dev__buf__queue__params.html">m0_lnet_dev_buf_queue_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Cancels a buffer operation if possible. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kd</td><td>The kernel domain object. </td></tr>
    <tr><td class="paramname">p</td><td>Ioctl request parameters. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01083">1083</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_gaf99ebb853d1c76827d899a0da94b5be6_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_gaf99ebb853d1c76827d899a0da94b5be6_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_gaf99ebb853d1c76827d899a0da94b5be6_cgraph" id="d8/d9e/group___l_net_dev_internal_gaf99ebb853d1c76827d899a0da94b5be6_cgraph">
<area shape="rect" id="node2" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="249,5,325,32"/>
<area shape="rect" id="node3" href="../../d6/d8a/group___k_l_net_core.html#ga530692bcf0e267d1a08e8faced4528a4" title="nlx_kcore_tm_invariant" alt="" coords="209,56,365,83"/>
<area shape="rect" id="node4" href="../../d6/d8a/group___k_l_net_core.html#ga4325e75464380d034b8f89bbaafdb6e7" title="nlx_kcore_buffer_invariant" alt="" coords="200,107,373,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_gaf99ebb853d1c76827d899a0da94b5be6_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_gaf99ebb853d1c76827d899a0da94b5be6_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_gaf99ebb853d1c76827d899a0da94b5be6_icgraph" id="d8/d9e/group___l_net_dev_internal_gaf99ebb853d1c76827d899a0da94b5be6_icgraph">
<area shape="rect" id="node2" href="../../d8/d9e/group___l_net_dev_internal.html#ga00738e2cd72d209874016020f1c629b0" title="nlx_dev_ioctl" alt="" coords="200,5,299,32"/>
</map>
</div>

</div>
</div>
<a id="ga5f0e36315933b6141a761664aeecd3f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5f0e36315933b6141a761664aeecd3f2">&#9670;&nbsp;</a></span>nlx_dev_ioctl_buf_deregister()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nlx_dev_ioctl_buf_deregister </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *&#160;</td>
          <td class="paramname"><em>kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/d05/structm0__lnet__dev__buf__deregister__params.html">m0_lnet_dev_buf_deregister_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Deregisters a shared memory buffer from the kernel domain. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kd</td><td>The kernel domain object. </td></tr>
    <tr><td class="paramname">p</td><td>Ioctl request parameters. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01036">1036</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga5f0e36315933b6141a761664aeecd3f2_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga5f0e36315933b6141a761664aeecd3f2_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga5f0e36315933b6141a761664aeecd3f2_cgraph" id="d8/d9e/group___l_net_dev_internal_ga5f0e36315933b6141a761664aeecd3f2_cgraph">
<area shape="rect" id="node2" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="444,5,520,32"/>
<area shape="rect" id="node3" href="../../d8/d9e/group___l_net_dev_internal.html#gae3f50550da4e0288fd1d3b7e84139bc5" title="nlx_dev_buf_deregister" alt="" coords="240,31,396,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga5f0e36315933b6141a761664aeecd3f2_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga5f0e36315933b6141a761664aeecd3f2_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga5f0e36315933b6141a761664aeecd3f2_icgraph" id="d8/d9e/group___l_net_dev_internal_ga5f0e36315933b6141a761664aeecd3f2_icgraph">
<area shape="rect" id="node2" href="../../d8/d9e/group___l_net_dev_internal.html#ga00738e2cd72d209874016020f1c629b0" title="nlx_dev_ioctl" alt="" coords="240,5,339,32"/>
</map>
</div>

</div>
</div>
<a id="ga084bef0cb441c5a1d2eb61f194672be4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga084bef0cb441c5a1d2eb61f194672be4">&#9670;&nbsp;</a></span>nlx_dev_ioctl_buf_event_wait()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nlx_dev_ioctl_buf_event_wait </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *&#160;</td>
          <td class="paramname"><em>kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../df/dcc/structm0__lnet__dev__buf__event__wait__params.html">m0_lnet_dev_buf_event_wait_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Waits for buffer events, or the timeout. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kd</td><td>The kernel domain object. </td></tr>
    <tr><td class="paramname">p</td><td>Ioctl request parameters. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01103">1103</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga084bef0cb441c5a1d2eb61f194672be4_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga084bef0cb441c5a1d2eb61f194672be4_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga084bef0cb441c5a1d2eb61f194672be4_cgraph" id="d8/d9e/group___l_net_dev_internal_ga084bef0cb441c5a1d2eb61f194672be4_cgraph">
<area shape="rect" id="node2" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="298,5,374,32"/>
<area shape="rect" id="node3" href="../../d6/d8a/group___k_l_net_core.html#ga530692bcf0e267d1a08e8faced4528a4" title="nlx_kcore_tm_invariant" alt="" coords="473,81,629,108"/>
<area shape="rect" id="node4" href="../../d6/d8a/group___k_l_net_core.html#ga141771663a7de9a2eb5db9e8d47bb874" title="nlx_kcore_core_tm_map" alt="" coords="254,107,418,133"/>
<area shape="rect" id="node5" href="../../d8/de0/group___l_net_core.html#ga9f14479b63638cf244b29eab39a53c8e" title="nlx_core_tm_invariant" alt="" coords="261,157,411,184"/>
<area shape="rect" id="node6" href="../../d6/d8a/group___k_l_net_core.html#gaad37f3494847c50a373471b04bbc780e" title="nlx_kcore_core_tm_unmap" alt="" coords="247,208,425,235"/>
<area shape="rect" id="node7" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079" title="M0_RC" alt="" coords="303,259,369,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga084bef0cb441c5a1d2eb61f194672be4_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga084bef0cb441c5a1d2eb61f194672be4_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga084bef0cb441c5a1d2eb61f194672be4_icgraph" id="d8/d9e/group___l_net_dev_internal_ga084bef0cb441c5a1d2eb61f194672be4_icgraph">
<area shape="rect" id="node2" href="../../d8/d9e/group___l_net_dev_internal.html#ga00738e2cd72d209874016020f1c629b0" title="nlx_dev_ioctl" alt="" coords="247,5,345,32"/>
</map>
</div>

</div>
</div>
<a id="ga175f6caf97ceaf447e08991c8d75a77a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga175f6caf97ceaf447e08991c8d75a77a">&#9670;&nbsp;</a></span>nlx_dev_ioctl_buf_queue_op()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nlx_dev_ioctl_buf_queue_op </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../df/dd0/structm0__lnet__dev__buf__queue__params.html">m0_lnet_dev_buf_queue_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d8a/group___k_l_net_core.html#gaf801c652c426c95b110aa02170d4b956">nlx_kcore_queue_op_t</a>&#160;</td>
          <td class="paramname"><em>op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueues a buffer on the appropriate transfer machine queue. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Ioctl request parameters. </td></tr>
    <tr><td class="paramname">op</td><td>Buffer queue operation to perform. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01052">1052</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga175f6caf97ceaf447e08991c8d75a77a_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga175f6caf97ceaf447e08991c8d75a77a_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga175f6caf97ceaf447e08991c8d75a77a_cgraph" id="d8/d9e/group___l_net_dev_internal_ga175f6caf97ceaf447e08991c8d75a77a_cgraph">
<area shape="rect" id="node2" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="293,5,369,32"/>
<area shape="rect" id="node3" href="../../d6/d8a/group___k_l_net_core.html#ga530692bcf0e267d1a08e8faced4528a4" title="nlx_kcore_tm_invariant" alt="" coords="253,56,409,83"/>
<area shape="rect" id="node4" href="../../d6/d8a/group___k_l_net_core.html#ga4325e75464380d034b8f89bbaafdb6e7" title="nlx_kcore_buffer_invariant" alt="" coords="469,132,643,159"/>
<area shape="rect" id="node5" href="../../d6/d8a/group___k_l_net_core.html#gaed1d66ac9dd9786841dbd48dfd19ad96" title="nlx_kcore_core_buffer_map" alt="" coords="240,157,421,184"/>
<area shape="rect" id="node6" href="../../d8/de0/group___l_net_core.html#gad11c1a84c224954dec2763ca4e92efcb" title="nlx_core_buffer_invariant" alt="" coords="247,208,414,235"/>
<area shape="rect" id="node7" href="../../d6/d8a/group___k_l_net_core.html#gab6bfac383153bef452f2198e7f456e5c" title="nlx_kcore_core_buffer\l_unmap" alt="" coords="256,259,405,301"/>
<area shape="rect" id="node8" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079" title="M0_RC" alt="" coords="297,325,364,352"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga175f6caf97ceaf447e08991c8d75a77a_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga175f6caf97ceaf447e08991c8d75a77a_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga175f6caf97ceaf447e08991c8d75a77a_icgraph" id="d8/d9e/group___l_net_dev_internal_ga175f6caf97ceaf447e08991c8d75a77a_icgraph">
<area shape="rect" id="node2" href="../../d8/d9e/group___l_net_dev_internal.html#ga00738e2cd72d209874016020f1c629b0" title="nlx_dev_ioctl" alt="" coords="240,5,339,32"/>
</map>
</div>

</div>
</div>
<a id="gacd65375ccf4de7d7a7f5f4427aa835e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacd65375ccf4de7d7a7f5f4427aa835e5">&#9670;&nbsp;</a></span>nlx_dev_ioctl_buf_register()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nlx_dev_ioctl_buf_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *&#160;</td>
          <td class="paramname"><em>kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d18/structm0__lnet__dev__buf__register__params.html">m0_lnet_dev_buf_register_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Registers a shared memory buffer with the kernel domain. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kd</td><td>The kernel domain object. </td></tr>
    <tr><td class="paramname">p</td><td>Ioctl request parameters. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l00901">901</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_gacd65375ccf4de7d7a7f5f4427aa835e5_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_gacd65375ccf4de7d7a7f5f4427aa835e5_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_gacd65375ccf4de7d7a7f5f4427aa835e5_cgraph" id="d8/d9e/group___l_net_dev_internal_gacd65375ccf4de7d7a7f5f4427aa835e5_cgraph">
<area shape="rect" id="node2" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="505,26,581,52"/>
<area shape="rect" id="node3" href="../../d6/d8a/group___k_l_net_core.html#gacb2945bb68945909f2c8a6fa11d3c5e7" title="nlx_core_kmem_loc_set" alt="" coords="236,266,399,292"/>
<area shape="rect" id="node4" href="../../d6/d8a/group___k_l_net_core.html#gaed1d66ac9dd9786841dbd48dfd19ad96" title="nlx_kcore_core_buffer_map" alt="" coords="227,114,408,140"/>
<area shape="rect" id="node5" href="../../d6/d8a/group___k_l_net_core.html#ga4325e75464380d034b8f89bbaafdb6e7" title="nlx_kcore_buffer_invariant" alt="" coords="456,114,629,140"/>
<area shape="rect" id="node6" href="../../d6/d8a/group___k_l_net_core.html#ga460e610c0a7b3acefc35a42eb6ebd284" title="nlx_kcore_buffer_uva\l_to_kiov" alt="" coords="245,48,390,89"/>
<area shape="rect" id="node7" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079" title="M0_RC" alt="" coords="509,190,576,216"/>
<area shape="rect" id="node8" href="../../d6/d8a/group___k_l_net_core.html#gab6bfac383153bef452f2198e7f456e5c" title="nlx_kcore_core_buffer\l_unmap" alt="" coords="243,317,392,358"/>
<area shape="rect" id="node9" href="../../d0/d04/group__mutex.html#gae26efdb3a765f750c5992041d6ee2336" title="m0_mutex_lock" alt="" coords="260,383,375,410"/>
<area shape="rect" id="node10" href="../../d0/d04/group__mutex.html#ga18963570792098f5ab3cf3e8ede8046a" title="m0_mutex_unlock" alt="" coords="253,434,381,460"/>
<area shape="rect" id="node11" href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3" title="m0_free" alt="" coords="283,484,352,511"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_gacd65375ccf4de7d7a7f5f4427aa835e5_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_gacd65375ccf4de7d7a7f5f4427aa835e5_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_gacd65375ccf4de7d7a7f5f4427aa835e5_icgraph" id="d8/d9e/group___l_net_dev_internal_gacd65375ccf4de7d7a7f5f4427aa835e5_icgraph">
<area shape="rect" id="node2" href="../../d8/d9e/group___l_net_dev_internal.html#ga00738e2cd72d209874016020f1c629b0" title="nlx_dev_ioctl" alt="" coords="227,5,325,32"/>
</map>
</div>

</div>
</div>
<a id="ga480a38459177bb04627ce25930245566"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga480a38459177bb04627ce25930245566">&#9670;&nbsp;</a></span>nlx_dev_ioctl_dom_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nlx_dev_ioctl_dom_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *&#160;</td>
          <td class="paramname"><em>kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/dfc/structm0__lnet__dev__dom__init__params.html">m0_lnet_dev_dom_init_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Completes the kernel initialization of the kernel and shared core domain objects. The user domain object is mapped into kernel space and its <a class="el" href="../../d8/d81/structnlx__core__domain.html#a4c53abb13f618eb6a128406d89ba96ed">nlx_core_domain::cd_kpvt</a> field is set. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kd</td><td>The kernel domain object. </td></tr>
    <tr><td class="paramname">p</td><td>Ioctl request parameters. The buffer size maximum fields are set on success. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l00853">853</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga480a38459177bb04627ce25930245566_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga480a38459177bb04627ce25930245566_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga480a38459177bb04627ce25930245566_cgraph" id="d8/d9e/group___l_net_dev_internal_ga480a38459177bb04627ce25930245566_cgraph">
<area shape="rect" id="node2" href="../../d0/d04/group__mutex.html#gae26efdb3a765f750c5992041d6ee2336" title="m0_mutex_lock" alt="" coords="250,5,365,32"/>
<area shape="rect" id="node3" href="../../d8/de0/group___l_net_core.html#ga7d87bfc66f51fa5e0a24155424e515f9" title="nlx_core_kmem_loc_is\l_empty" alt="" coords="685,251,840,293"/>
<area shape="rect" id="node4" href="../../d0/d04/group__mutex.html#ga18963570792098f5ab3cf3e8ede8046a" title="m0_mutex_unlock" alt="" coords="243,107,371,133"/>
<area shape="rect" id="node5" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="269,157,345,184"/>
<area shape="rect" id="node6" href="../../d6/d8a/group___k_l_net_core.html#gacb2945bb68945909f2c8a6fa11d3c5e7" title="nlx_core_kmem_loc_set" alt="" coords="226,208,389,235"/>
<area shape="rect" id="node7" href="../../d6/d8a/group___k_l_net_core.html#ga7bd7731a15e72411dea41c2aa699d146" title="nlx_kcore_core_domain_map" alt="" coords="212,259,403,285"/>
<area shape="rect" id="node8" href="../../d6/d8a/group___k_l_net_core.html#gae856324eb9fc162a2b11e941c68d09e6" title="nlx_kcore_domain_invariant" alt="" coords="455,309,637,336"/>
<area shape="rect" id="node9" href="../../d6/d8a/group___k_l_net_core.html#ga70d025b169bc9472759562feca7b336e" title="nlx_core_get_max_buffer_size" alt="" coords="208,360,407,387"/>
<area shape="rect" id="node10" href="../../d6/d8a/group___k_l_net_core.html#gacc1d1a03cb3df6f291fd2dc9c5721a44" title="nlx_core_get_max_buffer\l_segment_size" alt="" coords="224,411,391,453"/>
<area shape="rect" id="node11" href="../../d6/d8a/group___k_l_net_core.html#gad74fa8afcda2adf2ca8533fcaa3a5cb4" title="nlx_core_get_max_buffer\l_segments" alt="" coords="224,477,391,518"/>
<area shape="rect" id="node12" href="../../d6/d8a/group___k_l_net_core.html#gad9311dbbf12eeef1cf130941faf081a0" title="nlx_kcore_core_domain\l_unmap" alt="" coords="228,542,387,583"/>
<area shape="rect" id="node13" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079" title="M0_RC" alt="" coords="274,608,341,635"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga480a38459177bb04627ce25930245566_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga480a38459177bb04627ce25930245566_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga480a38459177bb04627ce25930245566_icgraph" id="d8/d9e/group___l_net_dev_internal_ga480a38459177bb04627ce25930245566_icgraph">
<area shape="rect" id="node2" href="../../d8/d9e/group___l_net_dev_internal.html#ga00738e2cd72d209874016020f1c629b0" title="nlx_dev_ioctl" alt="" coords="208,5,307,32"/>
</map>
</div>

</div>
</div>
<a id="ga6d7cae2c550d0b0931b613556e97ee18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d7cae2c550d0b0931b613556e97ee18">&#9670;&nbsp;</a></span>nlx_dev_ioctl_nidstr_decode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nlx_dev_ioctl_nidstr_decode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d29/structm0__lnet__dev__nid__encdec__params.html">m0_lnet_dev_nid_encdec_params</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Decodes a NID string into a NID. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Ioctl request parameters. The <a class="el" href="../../d8/d29/structm0__lnet__dev__nid__encdec__params.html#ab997d4d3f83af65e7d819d8d07b84362">m0_lnet_dev_nid_encdec_params::dn_nid</a> field is set on success. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01129">1129</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga6d7cae2c550d0b0931b613556e97ee18_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga6d7cae2c550d0b0931b613556e97ee18_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga6d7cae2c550d0b0931b613556e97ee18_cgraph" id="d8/d9e/group___l_net_dev_internal_ga6d7cae2c550d0b0931b613556e97ee18_cgraph">
<area shape="rect" id="node2" href="../../d6/d8a/group___k_l_net_core.html#ga9cac9e7df982c05bf45cd482367806de" title="nlx_kcore_nidstr_decode" alt="" coords="191,13,357,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga6d7cae2c550d0b0931b613556e97ee18_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga6d7cae2c550d0b0931b613556e97ee18_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga6d7cae2c550d0b0931b613556e97ee18_icgraph" id="d8/d9e/group___l_net_dev_internal_ga6d7cae2c550d0b0931b613556e97ee18_icgraph">
<area shape="rect" id="node2" href="../../d8/d9e/group___l_net_dev_internal.html#ga00738e2cd72d209874016020f1c629b0" title="nlx_dev_ioctl" alt="" coords="191,13,289,39"/>
</map>
</div>

</div>
</div>
<a id="ga1972e47a32dad177812e6871b70ddd7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1972e47a32dad177812e6871b70ddd7b">&#9670;&nbsp;</a></span>nlx_dev_ioctl_nidstr_encode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nlx_dev_ioctl_nidstr_encode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d29/structm0__lnet__dev__nid__encdec__params.html">m0_lnet_dev_nid_encdec_params</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Encodes a NID into a NID string. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Ioctl request parameters. The <a class="el" href="../../d8/d29/structm0__lnet__dev__nid__encdec__params.html#aef13cfe3ffe767b6b58167d489bec085">m0_lnet_dev_nid_encdec_params::dn_buf</a> field is set on success. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01139">1139</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga1972e47a32dad177812e6871b70ddd7b_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga1972e47a32dad177812e6871b70ddd7b_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga1972e47a32dad177812e6871b70ddd7b_cgraph" id="d8/d9e/group___l_net_dev_internal_ga1972e47a32dad177812e6871b70ddd7b_cgraph">
<area shape="rect" id="node2" href="../../d6/d8a/group___k_l_net_core.html#gaf20066c42b190a51ae3f3361c134fc8e" title="nlx_kcore_nidstr_encode" alt="" coords="191,13,357,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga1972e47a32dad177812e6871b70ddd7b_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga1972e47a32dad177812e6871b70ddd7b_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga1972e47a32dad177812e6871b70ddd7b_icgraph" id="d8/d9e/group___l_net_dev_internal_ga1972e47a32dad177812e6871b70ddd7b_icgraph">
<area shape="rect" id="node2" href="../../d8/d9e/group___l_net_dev_internal.html#ga00738e2cd72d209874016020f1c629b0" title="nlx_dev_ioctl" alt="" coords="191,13,289,39"/>
</map>
</div>

</div>
</div>
<a id="gae258fed3f042a408c41e81eebdff3ad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae258fed3f042a408c41e81eebdff3ad0">&#9670;&nbsp;</a></span>nlx_dev_ioctl_nidstrs_get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nlx_dev_ioctl_nidstrs_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *&#160;</td>
          <td class="paramname"><em>kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d88/structm0__lnet__dev__nidstrs__get__params.html">m0_lnet_dev_nidstrs_get_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the NID strings of all the local LNet interfaces. The NID strings are encoded consecutively in user space buffer denoted by the <a class="el" href="../../d4/d88/structm0__lnet__dev__nidstrs__get__params.html#adf826a862488826c1ec5fc3e0bfa6ab8">m0_lnet_dev_nidstrs_get_params::dng_buf</a> field as a sequence nul terminated strings, with an final nul (string) terminating the list. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kd</td><td>The kernel domain object. </td></tr>
    <tr><td class="paramname">p</td><td>Ioctl request parameters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-EFBIG</td><td>if the strings do not fit in the provided buffer. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01153">1153</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_gae258fed3f042a408c41e81eebdff3ad0_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_gae258fed3f042a408c41e81eebdff3ad0_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_gae258fed3f042a408c41e81eebdff3ad0_cgraph" id="d8/d9e/group___l_net_dev_internal_gae258fed3f042a408c41e81eebdff3ad0_cgraph">
<area shape="rect" id="node2" href="../../d6/d8a/group___k_l_net_core.html#ga0436ff7e61bb0ac8404dfb2e842ad57b" title="nlx_core_nidstrs_get" alt="" coords="223,5,365,32"/>
<area shape="rect" id="node3" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079" title="M0_RC" alt="" coords="261,56,327,83"/>
<area shape="rect" id="node4" href="../../d6/d8a/group___k_l_net_core.html#ga3d185395f4e0f14f6606d18a56ab2b9a" title="nlx_core_nidstrs_put" alt="" coords="223,107,365,133"/>
<area shape="rect" id="node5" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="256,157,332,184"/>
<area shape="rect" id="node6" href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3" title="m0_free" alt="" coords="259,208,329,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_gae258fed3f042a408c41e81eebdff3ad0_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_gae258fed3f042a408c41e81eebdff3ad0_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_gae258fed3f042a408c41e81eebdff3ad0_icgraph" id="d8/d9e/group___l_net_dev_internal_gae258fed3f042a408c41e81eebdff3ad0_icgraph">
<area shape="rect" id="node2" href="../../d8/d9e/group___l_net_dev_internal.html#ga00738e2cd72d209874016020f1c629b0" title="nlx_dev_ioctl" alt="" coords="223,5,321,32"/>
</map>
</div>

</div>
</div>
<a id="gacca7f081b1af30e2331a0617979afc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacca7f081b1af30e2331a0617979afc21">&#9670;&nbsp;</a></span>nlx_dev_ioctl_tm_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nlx_dev_ioctl_tm_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *&#160;</td>
          <td class="paramname"><em>kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d62/structm0__lnet__dev__tm__start__params.html">m0_lnet_dev_tm_start_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Completes the kernel portion of the TM start logic. The shared transfer machine object is pinned in kernel space and its <a class="el" href="../../d3/d98/structnlx__core__transfer__mc.html#a7d5df18770c6217b4d3b797afed955cb">nlx_core_transfer_mc::ctm_kpvt</a> field is set. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kd</td><td>The kernel domain object. </td></tr>
    <tr><td class="paramname">p</td><td>Ioctl request parameters. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01197">1197</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_gacca7f081b1af30e2331a0617979afc21_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_gacca7f081b1af30e2331a0617979afc21_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_gacca7f081b1af30e2331a0617979afc21_cgraph" id="d8/d9e/group___l_net_dev_internal_gacca7f081b1af30e2331a0617979afc21_cgraph">
<area shape="rect" id="node2" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="258,5,334,32"/>
<area shape="rect" id="node3" href="../../d6/d8a/group___k_l_net_core.html#gacb2945bb68945909f2c8a6fa11d3c5e7" title="nlx_core_kmem_loc_set" alt="" coords="215,56,377,83"/>
<area shape="rect" id="node4" href="../../d6/d8a/group___k_l_net_core.html#ga141771663a7de9a2eb5db9e8d47bb874" title="nlx_kcore_core_tm_map" alt="" coords="214,107,378,133"/>
<area shape="rect" id="node5" href="../../d6/d8a/group___k_l_net_core.html#gaad37f3494847c50a373471b04bbc780e" title="nlx_kcore_core_tm_unmap" alt="" coords="207,157,385,184"/>
<area shape="rect" id="node6" href="../../d0/d04/group__mutex.html#gae26efdb3a765f750c5992041d6ee2336" title="m0_mutex_lock" alt="" coords="239,208,353,235"/>
<area shape="rect" id="node7" href="../../d0/d04/group__mutex.html#ga18963570792098f5ab3cf3e8ede8046a" title="m0_mutex_unlock" alt="" coords="232,259,360,285"/>
<area shape="rect" id="node8" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079" title="M0_RC" alt="" coords="263,309,329,336"/>
<area shape="rect" id="node9" href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3" title="m0_free" alt="" coords="261,360,331,387"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_gacca7f081b1af30e2331a0617979afc21_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_gacca7f081b1af30e2331a0617979afc21_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_gacca7f081b1af30e2331a0617979afc21_icgraph" id="d8/d9e/group___l_net_dev_internal_gacca7f081b1af30e2331a0617979afc21_icgraph">
<area shape="rect" id="node2" href="../../d8/d9e/group___l_net_dev_internal.html#ga00738e2cd72d209874016020f1c629b0" title="nlx_dev_ioctl" alt="" coords="207,5,305,32"/>
</map>
</div>

</div>
</div>
<a id="ga9ec6703f99a0c4e78f53e08cffb9f667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9ec6703f99a0c4e78f53e08cffb9f667">&#9670;&nbsp;</a></span>nlx_dev_ioctl_tm_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nlx_dev_ioctl_tm_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *&#160;</td>
          <td class="paramname"><em>kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d7e/structm0__lnet__dev__tm__stop__params.html">m0_lnet_dev_tm_stop_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Complete the kernel portion of the TM stop logic. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kd</td><td>The kernel domain object. </td></tr>
    <tr><td class="paramname">p</td><td>Ioctl request parameters. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01291">1291</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga9ec6703f99a0c4e78f53e08cffb9f667_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga9ec6703f99a0c4e78f53e08cffb9f667_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga9ec6703f99a0c4e78f53e08cffb9f667_cgraph" id="d8/d9e/group___l_net_dev_internal_ga9ec6703f99a0c4e78f53e08cffb9f667_cgraph">
<area shape="rect" id="node2" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="395,5,471,32"/>
<area shape="rect" id="node3" href="../../d8/d9e/group___l_net_dev_internal.html#gaf05550e19ded0a4dc758312635444092" title="nlx_dev_tm_cleanup" alt="" coords="205,31,347,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_ga9ec6703f99a0c4e78f53e08cffb9f667_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_ga9ec6703f99a0c4e78f53e08cffb9f667_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_ga9ec6703f99a0c4e78f53e08cffb9f667_icgraph" id="d8/d9e/group___l_net_dev_internal_ga9ec6703f99a0c4e78f53e08cffb9f667_icgraph">
<area shape="rect" id="node2" href="../../d8/d9e/group___l_net_dev_internal.html#ga00738e2cd72d209874016020f1c629b0" title="nlx_dev_ioctl" alt="" coords="205,5,304,32"/>
</map>
</div>

</div>
</div>
<a id="gac97dbd0a0eab9e4fe0bb58122e457c8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac97dbd0a0eab9e4fe0bb58122e457c8d">&#9670;&nbsp;</a></span>nlx_dev_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nlx_dev_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a4378d6e2c48ff3495d7197693b589a36">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/dd4/ut_2fsync_8c.html#a6c3cd9b35b621234e7802ad78fea5473">file</a> *&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Open the /dev/m0lnet device.</p>
<p>There is a 1:1 correspondence between struct file objects and <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> objects. Thus, user processes will open the m0lnet device once for each <a class="el" href="../../db/d78/structm0__net__domain.html">m0_net_domain</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inode</td><td>Inode object for the device. </td></tr>
    <tr><td class="paramname">file</td><td>File object for this instance. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01494">1494</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_gac97dbd0a0eab9e4fe0bb58122e457c8d_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_gac97dbd0a0eab9e4fe0bb58122e457c8d_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_gac97dbd0a0eab9e4fe0bb58122e457c8d_cgraph" id="d8/d9e/group___l_net_dev_internal_gac97dbd0a0eab9e4fe0bb58122e457c8d_cgraph">
<area shape="rect" id="node2" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="205,5,281,32"/>
<area shape="rect" id="node3" href="../../d6/d8a/group___k_l_net_core.html#ga00e38a4ba9f087356675ba41a57dc3d7" title="nlx_kcore_kcore_dom_init" alt="" coords="156,56,329,83"/>
<area shape="rect" id="node4" href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3" title="m0_free" alt="" coords="208,107,277,133"/>
<area shape="rect" id="node5" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a9a02a790ad457506f9f3bc12121e6079" title="M0_RC" alt="" coords="209,157,276,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_gac97dbd0a0eab9e4fe0bb58122e457c8d_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_gac97dbd0a0eab9e4fe0bb58122e457c8d_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_gac97dbd0a0eab9e4fe0bb58122e457c8d_icgraph" id="d8/d9e/group___l_net_dev_internal_gac97dbd0a0eab9e4fe0bb58122e457c8d_icgraph">
<area shape="rect" id="node2" href="../../df/df1/klnet__ut_8c.html#a081074f1d89f84e66ef248631a83b9f2" title="ut_dev_open" alt="" coords="156,5,252,32"/>
<area shape="rect" id="node3" href="../../df/df1/klnet__ut_8c.html#af7a8a77a437d2cd261a2670b5d678f7a" title="ktest_dev" alt="" coords="300,31,379,57"/>
</map>
</div>

</div>
</div>
<a id="gaf05550e19ded0a4dc758312635444092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf05550e19ded0a4dc758312635444092">&#9670;&nbsp;</a></span>nlx_dev_tm_cleanup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nlx_dev_tm_cleanup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/dab/structnlx__kcore__domain.html">nlx_kcore_domain</a> *&#160;</td>
          <td class="paramname"><em>kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/d0b/structnlx__kcore__transfer__mc.html">nlx_kcore_transfer_mc</a> *&#160;</td>
          <td class="paramname"><em>ktm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Helper for <a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#ga120c166ef9fa98855c20aa3b67ff519b">nlx_dev_close()</a> and <a class="el" href="../../d8/d9e/group___l_net_dev_internal.html#ga9ec6703f99a0c4e78f53e08cffb9f667">nlx_dev_ioctl_tm_stop()</a> to clean up kernel resources associated with an individual transfer machine. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kd</td><td>The kernel domain object. </td></tr>
    <tr><td class="paramname">ktm</td><td>The kernel transfer machine object, removed from the kd-&gt;kd_drv_tms and freed upon return. </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000178">Todo:</a></b></dt><dd>XXX list removal is protected by the lock, but iteration over the list isn't? &ndash;nikita. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01254">1254</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_gaf05550e19ded0a4dc758312635444092_cgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_gaf05550e19ded0a4dc758312635444092_cgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_gaf05550e19ded0a4dc758312635444092_cgraph" id="d8/d9e/group___l_net_dev_internal_gaf05550e19ded0a4dc758312635444092_cgraph">
<area shape="rect" id="node2" href="../../d6/d8a/group___k_l_net_core.html#ga530692bcf0e267d1a08e8faced4528a4" title="nlx_kcore_tm_invariant" alt="" coords="421,115,577,142"/>
<area shape="rect" id="node3" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a01283f6c481bc4a3d0f204e957179d6e" title="M0_ERR" alt="" coords="246,39,322,66"/>
<area shape="rect" id="node4" href="../../d0/d04/group__mutex.html#gae26efdb3a765f750c5992041d6ee2336" title="m0_mutex_lock" alt="" coords="227,90,341,117"/>
<area shape="rect" id="node5" href="../../d0/d04/group__mutex.html#ga18963570792098f5ab3cf3e8ede8046a" title="m0_mutex_unlock" alt="" coords="220,141,348,167"/>
<area shape="rect" id="node6" href="../../d7/ded/group__memory.html#ga0b8533a3024754008602759e71337eb3" title="m0_free" alt="" coords="249,191,319,218"/>
<area shape="rect" id="node7" href="../../d6/d8a/group___k_l_net_core.html#ga141771663a7de9a2eb5db9e8d47bb874" title="nlx_kcore_core_tm_map" alt="" coords="202,242,366,269"/>
<area shape="rect" id="node8" href="../../d6/d8a/group___k_l_net_core.html#gaad37f3494847c50a373471b04bbc780e" title="nlx_kcore_core_tm_unmap" alt="" coords="195,293,373,319"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d9e/group___l_net_dev_internal_gaf05550e19ded0a4dc758312635444092_icgraph.png" border="0" usemap="#d8/d9e/group___l_net_dev_internal_gaf05550e19ded0a4dc758312635444092_icgraph" alt=""/></div>
<map name="d8/d9e/group___l_net_dev_internal_gaf05550e19ded0a4dc758312635444092_icgraph" id="d8/d9e/group___l_net_dev_internal_gaf05550e19ded0a4dc758312635444092_icgraph">
<area shape="rect" id="node2" href="../../d8/d9e/group___l_net_dev_internal.html#ga9ec6703f99a0c4e78f53e08cffb9f667" title="nlx_dev_ioctl_tm_stop" alt="" coords="195,5,347,32"/>
<area shape="rect" id="node3" href="../../d8/d9e/group___l_net_dev_internal.html#ga120c166ef9fa98855c20aa3b67ff519b" title="nlx_dev_close" alt="" coords="218,56,323,83"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga64e9f5783223bb68bdb55a30368b56ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga64e9f5783223bb68bdb55a30368b56ef">&#9670;&nbsp;</a></span>nlx_dev</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct miscdevice nlx_dev</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        .minor   = MISC_DYNAMIC_MINOR,</div><div class="line">        .name    = <a class="code" href="../../df/d9e/group___l_net_dev.html#gac4dc80e1cb0b60166f517d945bc489e6">M0_LNET_DEV</a>,</div><div class="line">        .fops    = &amp;<a class="code" href="../../d8/d9e/group___l_net_dev_internal.html#gaea258449b1b71d6f31a7d0366d1a7d72">nlx_dev_file_ops</a></div><div class="line">}</div><div class="ttc" id="group___l_net_dev_internal_html_gaea258449b1b71d6f31a7d0366d1a7d72"><div class="ttname"><a href="../../d8/d9e/group___l_net_dev_internal.html#gaea258449b1b71d6f31a7d0366d1a7d72">nlx_dev_file_ops</a></div><div class="ttdeci">static struct file_operations nlx_dev_file_ops</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da9/klnet__drv_8c_source.html#l01613">klnet_drv.c:1613</a></div></div>
<div class="ttc" id="group___l_net_dev_html_gac4dc80e1cb0b60166f517d945bc489e6"><div class="ttname"><a href="../../df/d9e/group___l_net_dev.html#gac4dc80e1cb0b60166f517d945bc489e6">M0_LNET_DEV</a></div><div class="ttdeci">#define M0_LNET_DEV</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/lnet__ioctl_8h_source.html#l00164">lnet_ioctl.h:164</a></div></div>
</div><!-- fragment --><p>Device description. The device is named /dev/m0lnet when <a class="el" href="../../df/d9e/group___l_net_dev.html#ga36fd2e4c41d51e4d5c7648e3d475cff6">nlx_dev_init()</a> completes. The major number is 10 (misc), and the minor number is assigned dynamically when misc_register() is called. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01626">1626</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>

</div>
</div>
<a id="gaea258449b1b71d6f31a7d0366d1a7d72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea258449b1b71d6f31a7d0366d1a7d72">&#9670;&nbsp;</a></span>nlx_dev_file_ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct file_operations nlx_dev_file_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        .owner          = THIS_MODULE,</div><div class="line">        .unlocked_ioctl = <a class="code" href="../../d8/d9e/group___l_net_dev_internal.html#ga00738e2cd72d209874016020f1c629b0">nlx_dev_ioctl</a>,</div><div class="line">        .open           = <a class="code" href="../../d8/d9e/group___l_net_dev_internal.html#gac97dbd0a0eab9e4fe0bb58122e457c8d">nlx_dev_open</a>,</div><div class="line">        .release        = <a class="code" href="../../d8/d9e/group___l_net_dev_internal.html#ga120c166ef9fa98855c20aa3b67ff519b">nlx_dev_close</a></div><div class="line">}</div><div class="ttc" id="group___l_net_dev_internal_html_ga120c166ef9fa98855c20aa3b67ff519b"><div class="ttname"><a href="../../d8/d9e/group___l_net_dev_internal.html#ga120c166ef9fa98855c20aa3b67ff519b">nlx_dev_close</a></div><div class="ttdeci">M0_INTERNAL int nlx_dev_close(struct inode *inode, struct file *file)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da9/klnet__drv_8c_source.html#l01527">klnet_drv.c:1527</a></div></div>
<div class="ttc" id="group___l_net_dev_internal_html_gac97dbd0a0eab9e4fe0bb58122e457c8d"><div class="ttname"><a href="../../d8/d9e/group___l_net_dev_internal.html#gac97dbd0a0eab9e4fe0bb58122e457c8d">nlx_dev_open</a></div><div class="ttdeci">static int nlx_dev_open(struct inode *inode, struct file *file)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da9/klnet__drv_8c_source.html#l01494">klnet_drv.c:1494</a></div></div>
<div class="ttc" id="group___l_net_dev_internal_html_ga00738e2cd72d209874016020f1c629b0"><div class="ttname"><a href="../../d8/d9e/group___l_net_dev_internal.html#ga00738e2cd72d209874016020f1c629b0">nlx_dev_ioctl</a></div><div class="ttdeci">static long nlx_dev_ioctl(struct file *file, unsigned int cmd, unsigned long arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da9/klnet__drv_8c_source.html#l01372">klnet_drv.c:1372</a></div></div>
</div><!-- fragment --><p>File operations for the m0lnet device, UT can override. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01613">1613</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>

</div>
</div>
<a id="ga65ded74b721c9e887ffc7ca752a333bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga65ded74b721c9e887ffc7ca752a333bd">&#9670;&nbsp;</a></span>nlx_dev_registered</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nlx_dev_registered = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da9/klnet__drv_8c_source.html#l01631">1631</a> of file <a class="el" href="../../d2/da9/klnet__drv_8c_source.html">klnet_drv.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri May 20 2022 10:35:57 for Motr by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
