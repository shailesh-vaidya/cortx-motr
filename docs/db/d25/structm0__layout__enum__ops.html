<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Motr: m0_layout_enum_ops Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Motr
   &#160;<span id="projectnumber">M0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('db/d25/structm0__layout__enum__ops.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">m0_layout_enum_ops Struct Reference<div class="ingroups"><a class="el" href="../../da/da8/group__layout.html">Layouts.</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../db/de6/layout_2layout_8h_source.html">layout.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for m0_layout_enum_ops:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d42/structm0__layout__enum__ops__coll__graph.png" border="0" usemap="#m0__layout__enum__ops_coll__map" alt="Collaboration graph"/></div>
<map name="m0__layout__enum__ops_coll__map" id="m0__layout__enum__ops_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a5a2e50392fb55cbccd84d284e53c22a3"><td class="memItemLeft" align="right" valign="top">uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d25/structm0__layout__enum__ops.html#a5a2e50392fb55cbccd84d284e53c22a3">leo_nr</a> )(const struct <a class="el" href="../../d2/d5a/structm0__layout__enum.html">m0_layout_enum</a> *e)</td></tr>
<tr class="separator:a5a2e50392fb55cbccd84d284e53c22a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9b0abe8fa4ba2743bc90b2fffce6703"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d25/structm0__layout__enum__ops.html#af9b0abe8fa4ba2743bc90b2fffce6703">leo_get</a> )(const struct <a class="el" href="../../d2/d5a/structm0__layout__enum.html">m0_layout_enum</a> *e, uint32_t idx, const struct <a class="el" href="../../d9/d8a/structm0__fid.html">m0_fid</a> *<a class="el" href="../../d1/d9b/flock_8c.html#aef33643dda574e2c3872762b6d0dc5f4">gfid</a>, struct <a class="el" href="../../d9/d8a/structm0__fid.html">m0_fid</a> *<a class="el" href="../../dd/d6d/group__xcode.html#ga50fe33eaae68b43814656f241a6ac907">out</a>)</td></tr>
<tr class="separator:af9b0abe8fa4ba2743bc90b2fffce6703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c1174804263fbca79e70b308e372a4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d49/types_8h.html#a754ca36f0e1fff3edef4f267024b1a1f">m0_bcount_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d25/structm0__layout__enum__ops.html#a9c1174804263fbca79e70b308e372a4b">leo_recsize</a> )(struct <a class="el" href="../../d2/d5a/structm0__layout__enum.html">m0_layout_enum</a> *e)</td></tr>
<tr class="separator:a9c1174804263fbca79e70b308e372a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abec61ee52e59ce8da76ec64286746f08"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d25/structm0__layout__enum__ops.html#abec61ee52e59ce8da76ec64286746f08">leo_fini</a> )(struct <a class="el" href="../../d2/d5a/structm0__layout__enum.html">m0_layout_enum</a> *e)</td></tr>
<tr class="separator:abec61ee52e59ce8da76ec64286746f08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad965662cf1d4a71477399d21aa31dc7a"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d25/structm0__layout__enum__ops.html#ad965662cf1d4a71477399d21aa31dc7a">leo_delete</a> )(struct <a class="el" href="../../d2/d5a/structm0__layout__enum.html">m0_layout_enum</a> *e)</td></tr>
<tr class="separator:ad965662cf1d4a71477399d21aa31dc7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af02ac4fef4ee5b37ee044739af148824"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d25/structm0__layout__enum__ops.html#af02ac4fef4ee5b37ee044739af148824">leo_decode</a> )(struct <a class="el" href="../../d2/d5a/structm0__layout__enum.html">m0_layout_enum</a> *e, struct <a class="el" href="../../d5/d06/structm0__bufvec__cursor.html">m0_bufvec_cursor</a> *<a class="el" href="../../db/d13/module_2ut_2module_8c.html#a94298e2c586650b2a8a346c594f34c9d">cur</a>, enum <a class="el" href="../../da/da8/group__layout.html#ga82ecfecd12e3b2e1aa9cf20b87baddeb">m0_layout_xcode_op</a> <a class="el" href="../../d3/d1b/libdemo_8c.html#a99a30df0f2488360cdd46b4b88e5f5f0">op</a>, struct <a class="el" href="../../d2/d7e/structm0__be__tx.html">m0_be_tx</a> *tx, struct <a class="el" href="../../d1/d2a/structm0__striped__layout.html">m0_striped_layout</a> *stl)</td></tr>
<tr class="separator:af02ac4fef4ee5b37ee044739af148824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a449c49d368b4e86a2ac61b30c8ce1833"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d25/structm0__layout__enum__ops.html#a449c49d368b4e86a2ac61b30c8ce1833">leo_encode</a> )(const struct <a class="el" href="../../d2/d5a/structm0__layout__enum.html">m0_layout_enum</a> *le, enum <a class="el" href="../../da/da8/group__layout.html#ga82ecfecd12e3b2e1aa9cf20b87baddeb">m0_layout_xcode_op</a> <a class="el" href="../../d3/d1b/libdemo_8c.html#a99a30df0f2488360cdd46b4b88e5f5f0">op</a>, struct <a class="el" href="../../d2/d7e/structm0__be__tx.html">m0_be_tx</a> *tx, struct <a class="el" href="../../d5/d06/structm0__bufvec__cursor.html">m0_bufvec_cursor</a> *<a class="el" href="../../dd/d6d/group__xcode.html#ga50fe33eaae68b43814656f241a6ac907">out</a>)</td></tr>
<tr class="separator:a449c49d368b4e86a2ac61b30c8ce1833"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../db/de6/layout_2layout_8h_source.html#l00429">429</a> of file <a class="el" href="../../db/de6/layout_2layout_8h_source.html">layout.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="af02ac4fef4ee5b37ee044739af148824"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af02ac4fef4ee5b37ee044739af148824">&#9670;&nbsp;</a></span>leo_decode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* leo_decode) (struct <a class="el" href="../../d2/d5a/structm0__layout__enum.html">m0_layout_enum</a> *e, struct <a class="el" href="../../d5/d06/structm0__bufvec__cursor.html">m0_bufvec_cursor</a> *<a class="el" href="../../db/d13/module_2ut_2module_8c.html#a94298e2c586650b2a8a346c594f34c9d">cur</a>, enum <a class="el" href="../../da/da8/group__layout.html#ga82ecfecd12e3b2e1aa9cf20b87baddeb">m0_layout_xcode_op</a> <a class="el" href="../../d3/d1b/libdemo_8c.html#a99a30df0f2488360cdd46b4b88e5f5f0">op</a>, struct <a class="el" href="../../d2/d7e/structm0__be__tx.html">m0_be_tx</a> *tx, struct <a class="el" href="../../d1/d2a/structm0__striped__layout.html">m0_striped_layout</a> *stl)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Continues building the in-memory layout object, the enum part of it specifically, either from the buffer or from the DB.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">op</td><td>This enum parameter indicates what if a DB operation is to be performed on the layout record and it could be LOOKUP if at all. If it is BUFFER_OP, then the layout is decoded from its representation received through the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>M0_IN(op, (M0_LXO_DB_LOOKUP, M0_LXO_BUFFER_OP)) </dd>
<dd>
ergo(op == M0_LXO_DB_LOOKUP, tx != NULL) </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>The cursor cur is advanced by the size of the data that is read from it. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de6/layout_2layout_8h_source.html#l00482">482</a> of file <a class="el" href="../../db/de6/layout_2layout_8h_source.html">layout.h</a>.</p>

</div>
</div>
<a id="ad965662cf1d4a71477399d21aa31dc7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad965662cf1d4a71477399d21aa31dc7a">&#9670;&nbsp;</a></span>leo_delete</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* leo_delete) (struct <a class="el" href="../../d2/d5a/structm0__layout__enum.html">m0_layout_enum</a> *e)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finalises the enum object that is only allocated and not populated. </p>

<p class="definition">Definition at line <a class="el" href="../../db/de6/layout_2layout_8h_source.html#l00466">466</a> of file <a class="el" href="../../db/de6/layout_2layout_8h_source.html">layout.h</a>.</p>

</div>
</div>
<a id="a449c49d368b4e86a2ac61b30c8ce1833"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a449c49d368b4e86a2ac61b30c8ce1833">&#9670;&nbsp;</a></span>leo_encode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* leo_encode) (const struct <a class="el" href="../../d2/d5a/structm0__layout__enum.html">m0_layout_enum</a> *le, enum <a class="el" href="../../da/da8/group__layout.html#ga82ecfecd12e3b2e1aa9cf20b87baddeb">m0_layout_xcode_op</a> <a class="el" href="../../d3/d1b/libdemo_8c.html#a99a30df0f2488360cdd46b4b88e5f5f0">op</a>, struct <a class="el" href="../../d2/d7e/structm0__be__tx.html">m0_be_tx</a> *tx, struct <a class="el" href="../../d5/d06/structm0__bufvec__cursor.html">m0_bufvec_cursor</a> *<a class="el" href="../../dd/d6d/group__xcode.html#ga50fe33eaae68b43814656f241a6ac907">out</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Continues to use the in-memory layout object, the enum part of it specifically and either 'stores it in the Layout DB' or 'converts it to a buffer'.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">op</td><td>This enum parameter indicates what is the DB operation to be performed on the layout record if at all and it could be one of ADD/UPDATE/DELETE. If it is BUFFER_OP, then the layout is converted into a buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>M0_IN(op, (M0_LXO_DB_ADD, M0_LXO_DB_UPDATE, M0_LXO_DB_DELETE, M0_LXO_BUFFER_OP)) </dd>
<dd>
ergo(op != M0_LXO_BUFFER_OP, tx != NULL) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de6/layout_2layout_8h_source.html#l00502">502</a> of file <a class="el" href="../../db/de6/layout_2layout_8h_source.html">layout.h</a>.</p>

</div>
</div>
<a id="abec61ee52e59ce8da76ec64286746f08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abec61ee52e59ce8da76ec64286746f08">&#9670;&nbsp;</a></span>leo_fini</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* leo_fini) (struct <a class="el" href="../../d2/d5a/structm0__layout__enum.html">m0_layout_enum</a> *e)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finalises the enum object.</p>
<p>Dual to enum type specific build procedure but not to be invoked directly by the user in regular course of action since enum object is finalised internally as a part finalising layout object. This interface is required to be used by an external user in cases where layout build operation fails and the user (for example m0t1fs) needs to get rid of the enumeration object created prior to attempting the layout build operation. </p>

<p class="definition">Definition at line <a class="el" href="../../db/de6/layout_2layout_8h_source.html#l00460">460</a> of file <a class="el" href="../../db/de6/layout_2layout_8h_source.html">layout.h</a>.</p>

</div>
</div>
<a id="af9b0abe8fa4ba2743bc90b2fffce6703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9b0abe8fa4ba2743bc90b2fffce6703">&#9670;&nbsp;</a></span>leo_get</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* leo_get) (const struct <a class="el" href="../../d2/d5a/structm0__layout__enum.html">m0_layout_enum</a> *e, uint32_t idx, const struct <a class="el" href="../../d9/d8a/structm0__fid.html">m0_fid</a> *<a class="el" href="../../d1/d9b/flock_8c.html#aef33643dda574e2c3872762b6d0dc5f4">gfid</a>, struct <a class="el" href="../../d9/d8a/structm0__fid.html">m0_fid</a> *<a class="el" href="../../dd/d6d/group__xcode.html#ga50fe33eaae68b43814656f241a6ac907">out</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns idx-th object in the enumeration. </p><dl class="section pre"><dt>Precondition</dt><dd>idx &lt; e-&gt;l_enum_ops-&gt;leo_nr(e) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de6/layout_2layout_8h_source.html#l00437">437</a> of file <a class="el" href="../../db/de6/layout_2layout_8h_source.html">layout.h</a>.</p>

</div>
</div>
<a id="a5a2e50392fb55cbccd84d284e53c22a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a2e50392fb55cbccd84d284e53c22a3">&#9670;&nbsp;</a></span>leo_nr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t(* leo_nr) (const struct <a class="el" href="../../d2/d5a/structm0__layout__enum.html">m0_layout_enum</a> *e)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns number of objects in the enumeration. </p>

<p class="definition">Definition at line <a class="el" href="../../db/de6/layout_2layout_8h_source.html#l00431">431</a> of file <a class="el" href="../../db/de6/layout_2layout_8h_source.html">layout.h</a>.</p>

</div>
</div>
<a id="a9c1174804263fbca79e70b308e372a4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c1174804263fbca79e70b308e372a4b">&#9670;&nbsp;</a></span>leo_recsize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d49/types_8h.html#a754ca36f0e1fff3edef4f267024b1a1f">m0_bcount_t</a>(* leo_recsize) (struct <a class="el" href="../../d2/d5a/structm0__layout__enum.html">m0_layout_enum</a> *e)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns size of the part of the layouts table record required to store enum details, for the specified enumeration object.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>e-&gt;le_ops-&gt;leo_recsize(e) &lt;= e-&gt;le_type-&gt;let_ops-&gt;leto_max_recsize(); </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de6/layout_2layout_8h_source.html#l00447">447</a> of file <a class="el" href="../../db/de6/layout_2layout_8h_source.html">layout.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>layout/<a class="el" href="../../db/de6/layout_2layout_8h_source.html">layout.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../db/d25/structm0__layout__enum__ops.html">m0_layout_enum_ops</a></li>
    <li class="footer">Generated on Thu Apr 14 2022 14:04:03 for Motr by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
