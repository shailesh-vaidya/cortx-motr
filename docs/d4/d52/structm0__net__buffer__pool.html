<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Motr: m0_net_buffer_pool Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Motr
   &#160;<span id="projectnumber">M0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d4/d52/structm0__net__buffer__pool.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">m0_net_buffer_pool Struct Reference<div class="ingroups"><a class="el" href="../../d9/dd2/group__net.html">Networking</a> &raquo; <a class="el" href="../../d8/d01/group__net__buffer__pool.html">Network Buffer Pool</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d2/d03/buffer__pool_8h_source.html">buffer_pool.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for m0_net_buffer_pool:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d08/structm0__net__buffer__pool__coll__graph.png" border="0" usemap="#m0__net__buffer__pool_coll__map" alt="Collaboration graph"/></div>
<map name="m0__net__buffer__pool_coll__map" id="m0__net__buffer__pool_coll__map">
<area shape="rect" id="node2" href="../../df/d5f/structm0__mutex.html" title="{m0_mutex\n||}" alt="" coords="334,5,416,83"/>
<area shape="rect" id="node9" href="../../db/d78/structm0__net__domain.html" title="{m0_net_domain\n||}" alt="" coords="636,233,751,311"/>
<area shape="rect" id="node7" href="../../d4/d8a/structm0__tl.html" title="{m0_tl\n||}" alt="" coords="138,233,193,311"/>
<area shape="rect" id="node6" href="../../d9/d7d/structm0__net__buffer__pool__ops.html" title="{m0_net_buffer_pool_ops\n||}" alt="" coords="450,233,612,311"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:aecb330acda14cd6b65c5f7c4cdd4e5f8"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d52/structm0__net__buffer__pool.html#aecb330acda14cd6b65c5f7c4cdd4e5f8">nbp_free</a></td></tr>
<tr class="separator:aecb330acda14cd6b65c5f7c4cdd4e5f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9172a5cacf6e7183aac7a8c2a2d553ff"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d52/structm0__net__buffer__pool.html#a9172a5cacf6e7183aac7a8c2a2d553ff">nbp_threshold</a></td></tr>
<tr class="separator:a9172a5cacf6e7183aac7a8c2a2d553ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263b89954f47e80e787812358e2b83a2"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d52/structm0__net__buffer__pool.html#a263b89954f47e80e787812358e2b83a2">nbp_seg_nr</a></td></tr>
<tr class="separator:a263b89954f47e80e787812358e2b83a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af75a7d402a8b693d8bdca03cf5967caa"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d52/structm0__net__buffer__pool.html#af75a7d402a8b693d8bdca03cf5967caa">nbp_buf_nr</a></td></tr>
<tr class="separator:af75a7d402a8b693d8bdca03cf5967caa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a496a0b2f1ad48bfbd4368939c8d3a12d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d49/types_8h.html#a754ca36f0e1fff3edef4f267024b1a1f">m0_bcount_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d52/structm0__net__buffer__pool.html#a496a0b2f1ad48bfbd4368939c8d3a12d">nbp_seg_size</a></td></tr>
<tr class="separator:a496a0b2f1ad48bfbd4368939c8d3a12d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7c2ca6f38a305e2bbae69d6f053b17f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../df/d5f/structm0__mutex.html">m0_mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d52/structm0__net__buffer__pool.html#aa7c2ca6f38a305e2bbae69d6f053b17f">nbp_mutex</a></td></tr>
<tr class="separator:aa7c2ca6f38a305e2bbae69d6f053b17f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab819507bf9a9447dc162d8d1cca4dfc2"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../db/d78/structm0__net__domain.html">m0_net_domain</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d52/structm0__net__buffer__pool.html#ab819507bf9a9447dc162d8d1cca4dfc2">nbp_ndom</a></td></tr>
<tr class="separator:ab819507bf9a9447dc162d8d1cca4dfc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a252f53fd77c93639e07fc1b229657b91"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="../../d9/d7d/structm0__net__buffer__pool__ops.html">m0_net_buffer_pool_ops</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d52/structm0__net__buffer__pool.html#a252f53fd77c93639e07fc1b229657b91">nbp_ops</a></td></tr>
<tr class="separator:a252f53fd77c93639e07fc1b229657b91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a742bcd97cba84ffce37cc93a329512f0"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d52/structm0__net__buffer__pool.html#a742bcd97cba84ffce37cc93a329512f0">nbp_colours_nr</a></td></tr>
<tr class="separator:a742bcd97cba84ffce37cc93a329512f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb0f96183c14844472be7b22c8b6402f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8a/structm0__tl.html">m0_tl</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d52/structm0__net__buffer__pool.html#aeb0f96183c14844472be7b22c8b6402f">nbp_colours</a></td></tr>
<tr class="separator:aeb0f96183c14844472be7b22c8b6402f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a466425ee85f8f275b6e47cf6517efcbd"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d52/structm0__net__buffer__pool.html#a466425ee85f8f275b6e47cf6517efcbd">nbp_align</a></td></tr>
<tr class="separator:a466425ee85f8f275b6e47cf6517efcbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5176fd9bd3a84f5320f53970be6e933f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d52/structm0__net__buffer__pool.html#a5176fd9bd3a84f5320f53970be6e933f">nbp_dont_dump</a></td></tr>
<tr class="separator:a5176fd9bd3a84f5320f53970be6e933f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1988734e56af9922a1de901ae3a8cd2"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8a/structm0__tl.html">m0_tl</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d52/structm0__net__buffer__pool.html#ac1988734e56af9922a1de901ae3a8cd2">nbp_lru</a></td></tr>
<tr class="separator:ac1988734e56af9922a1de901ae3a8cd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Buffer pool. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d03/buffer__pool_8h_source.html#l00245">245</a> of file <a class="el" href="../../d2/d03/buffer__pool_8h_source.html">buffer_pool.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a466425ee85f8f275b6e47cf6517efcbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a466425ee85f8f275b6e47cf6517efcbd">&#9670;&nbsp;</a></span>nbp_align</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned nbp_align</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Alignment for network buffers </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d03/buffer__pool_8h_source.html#l00275">275</a> of file <a class="el" href="../../d2/d03/buffer__pool_8h_source.html">buffer_pool.h</a>.</p>

</div>
</div>
<a id="af75a7d402a8b693d8bdca03cf5967caa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af75a7d402a8b693d8bdca03cf5967caa">&#9670;&nbsp;</a></span>nbp_buf_nr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t nbp_buf_nr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of buffers in the pool. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d03/buffer__pool_8h_source.html#l00253">253</a> of file <a class="el" href="../../d2/d03/buffer__pool_8h_source.html">buffer_pool.h</a>.</p>

</div>
</div>
<a id="aeb0f96183c14844472be7b22c8b6402f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb0f96183c14844472be7b22c8b6402f">&#9670;&nbsp;</a></span>nbp_colours</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8a/structm0__tl.html">m0_tl</a>* nbp_colours</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An array of nbp_colours_nr lists of buffers. Each list in the array contains buffers of a particular colour. Lists are maintained in LIFO order (i.e., they are stacks) to improve temporal locality of reference. Buffers are linked through <a class="el" href="../../d9/d7e/structm0__net__buffer.html#aff35b97d5ce961b375fbd724e23b75dd">m0_net_buffer::nb_tm_linkage</a> to these lists. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d03/buffer__pool_8h_source.html#l00273">273</a> of file <a class="el" href="../../d2/d03/buffer__pool_8h_source.html">buffer_pool.h</a>.</p>

</div>
</div>
<a id="a742bcd97cba84ffce37cc93a329512f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a742bcd97cba84ffce37cc93a329512f0">&#9670;&nbsp;</a></span>nbp_colours_nr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t nbp_colours_nr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of colours in the pool. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d03/buffer__pool_8h_source.html#l00265">265</a> of file <a class="el" href="../../d2/d03/buffer__pool_8h_source.html">buffer_pool.h</a>.</p>

</div>
</div>
<a id="a5176fd9bd3a84f5320f53970be6e933f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5176fd9bd3a84f5320f53970be6e933f">&#9670;&nbsp;</a></span>nbp_dont_dump</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nbp_dont_dump</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Memory in this pool is excluded in core dump or not </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d03/buffer__pool_8h_source.html#l00277">277</a> of file <a class="el" href="../../d2/d03/buffer__pool_8h_source.html">buffer_pool.h</a>.</p>

</div>
</div>
<a id="aecb330acda14cd6b65c5f7c4cdd4e5f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecb330acda14cd6b65c5f7c4cdd4e5f8">&#9670;&nbsp;</a></span>nbp_free</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t nbp_free</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of free buffers in the pool. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d03/buffer__pool_8h_source.html#l00247">247</a> of file <a class="el" href="../../d2/d03/buffer__pool_8h_source.html">buffer_pool.h</a>.</p>

</div>
</div>
<a id="ac1988734e56af9922a1de901ae3a8cd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1988734e56af9922a1de901ae3a8cd2">&#9670;&nbsp;</a></span>nbp_lru</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8a/structm0__tl.html">m0_tl</a> nbp_lru</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A list of all buffers in the pool. This list is maintained in LRU order. The head of this list (which is the buffer used longest time ago) is used when coloured array is empty. Buffers are linked through <a class="el" href="../../d9/d7e/structm0__net__buffer.html#afafa0087e3768130be73419f6de2f55b">m0_net_buffer::nb_lru</a> to this list. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d03/buffer__pool_8h_source.html#l00285">285</a> of file <a class="el" href="../../d2/d03/buffer__pool_8h_source.html">buffer_pool.h</a>.</p>

</div>
</div>
<a id="aa7c2ca6f38a305e2bbae69d6f053b17f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7c2ca6f38a305e2bbae69d6f053b17f">&#9670;&nbsp;</a></span>nbp_mutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../df/d5f/structm0__mutex.html">m0_mutex</a> nbp_mutex</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Buffer pool lock to protect and synchronize network buffer list. It needs to acquired to do any changes to the pool </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d03/buffer__pool_8h_source.html#l00259">259</a> of file <a class="el" href="../../d2/d03/buffer__pool_8h_source.html">buffer_pool.h</a>.</p>

</div>
</div>
<a id="ab819507bf9a9447dc162d8d1cca4dfc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab819507bf9a9447dc162d8d1cca4dfc2">&#9670;&nbsp;</a></span>nbp_ndom</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/d78/structm0__net__domain.html">m0_net_domain</a>* nbp_ndom</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Network domain to register the buffers. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d03/buffer__pool_8h_source.html#l00261">261</a> of file <a class="el" href="../../d2/d03/buffer__pool_8h_source.html">buffer_pool.h</a>.</p>

</div>
</div>
<a id="a252f53fd77c93639e07fc1b229657b91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a252f53fd77c93639e07fc1b229657b91">&#9670;&nbsp;</a></span>nbp_ops</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d9/d7d/structm0__net__buffer__pool__ops.html">m0_net_buffer_pool_ops</a>* nbp_ops</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call back operations can be triggered by buffer pool. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d03/buffer__pool_8h_source.html#l00263">263</a> of file <a class="el" href="../../d2/d03/buffer__pool_8h_source.html">buffer_pool.h</a>.</p>

</div>
</div>
<a id="a263b89954f47e80e787812358e2b83a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a263b89954f47e80e787812358e2b83a2">&#9670;&nbsp;</a></span>nbp_seg_nr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t nbp_seg_nr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of segments in each buffer of the pool. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d03/buffer__pool_8h_source.html#l00251">251</a> of file <a class="el" href="../../d2/d03/buffer__pool_8h_source.html">buffer_pool.h</a>.</p>

</div>
</div>
<a id="a496a0b2f1ad48bfbd4368939c8d3a12d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a496a0b2f1ad48bfbd4368939c8d3a12d">&#9670;&nbsp;</a></span>nbp_seg_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d49/types_8h.html#a754ca36f0e1fff3edef4f267024b1a1f">m0_bcount_t</a> nbp_seg_size</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of buffer segment of the pool. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d03/buffer__pool_8h_source.html#l00255">255</a> of file <a class="el" href="../../d2/d03/buffer__pool_8h_source.html">buffer_pool.h</a>.</p>

</div>
</div>
<a id="a9172a5cacf6e7183aac7a8c2a2d553ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9172a5cacf6e7183aac7a8c2a2d553ff">&#9670;&nbsp;</a></span>nbp_threshold</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t nbp_threshold</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of buffer below which low memory condition occurs. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d03/buffer__pool_8h_source.html#l00249">249</a> of file <a class="el" href="../../d2/d03/buffer__pool_8h_source.html">buffer_pool.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>net/<a class="el" href="../../d2/d03/buffer__pool_8h_source.html">buffer_pool.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d4/d52/structm0__net__buffer__pool.html">m0_net_buffer_pool</a></li>
    <li class="footer">Generated on Thu Apr 14 2022 14:04:03 for Motr by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
